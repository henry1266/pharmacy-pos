# 藥局POS系統

這是一個專為藥局設計的POS（銷售點）系統，提供藥品管理、供應商管理、銷售和庫存追蹤、記帳報表等功能。系統支援商品和藥品的分類管理，以及多種報表和數據分析工具。

## 功能特點

### 產品管理
- **雙類型產品支援**：
  - 商品(product)：包含國際條碼等特有屬性
  - 藥品(medicine)：包含健保碼、健保價等特有屬性
- **完整庫存管理**：
  - 庫存水平監控
  - 低庫存警告
  - 庫存價值計算
  - 按產品類型分類的庫存報表

### 供應商管理
- 添加、編輯和刪除供應商
- CSV批量匯入供應商數據
- 詳細的供應商信息管理
- 供應商關聯的進貨單管理

### 銷售功能
- 直覺式銷售界面
- 支援多種支付方式
- 銷售記錄追蹤
- 詳細的銷售報表

### 進出貨管理
- 進貨單創建與管理
- 出貨單創建與管理
- CSV批量匯入/匯出
- 狀態追蹤與管理

### 報表系統
- **銷售報表**：
  - 按日期、產品或客戶分組
  - 銷售趨勢分析
  - 產品銷售排名
- **庫存報表**：
  - 商品與藥品分類顯示
  - 庫存價值分析
  - 低庫存警告
- **記帳報表**：
  - 多種圖表視圖（柱狀圖、折線圖、餅圖）
  - 表格數據視圖
  - 按日期、班別或類別分組
  - CSV數據導出
  - 摘要統計顯示

## 安裝說明

### 系統需求
- Node.js 14.x 或更高版本
- MongoDB 4.x 或更高版本
- 現代瀏覽器（Chrome, Firefox, Edge等）

### 後端安裝
```bash
# 克隆倉庫
git clone https://github.com/henry1266/pharmacy-pos.git
cd pharmacy-pos

# 安裝後端依賴
cd backend
npm install

# 啟動後端服務
npm run server
```

### 前端安裝
```bash
# 在另一個終端中
cd pharmacy-pos/frontend
npm install

# 啟動前端開發服務器
npm start
```

### 快速啟動（Windows）
```
# 使用提供的批處理文件
setup.bat  # 首次安裝依賴
start.bat  # 啟動系統
```

## 使用指南

### 產品管理
1. 在「產品管理」頁面可以添加、編輯和刪除產品
2. 創建產品時選擇產品類型（商品或藥品）
3. 根據產品類型填寫相應的特有屬性
4. 設置庫存相關參數，如最低庫存量

### 供應商CSV匯入
1. 在「供應商管理」頁面點擊「匯入CSV」按鈕
2. 下載CSV模板或按照以下格式準備CSV文件：
   - 必填欄位：shortCode(簡碼), name(供應商名稱)
   - 可選欄位：code(供應商編號), contactPerson(聯絡人), phone(電話), email(電子郵件), address(地址), taxId(稅號), paymentTerms(付款條件), notes(備註)
3. 上傳CSV文件並點擊「匯入」按鈕
4. 查看匯入結果摘要

### 記帳報表使用
1. 進入「報表」頁面，從報表類型下拉選單中選擇「記帳報表」
2. 使用日期範圍、類別選擇等控制選項過濾數據
3. 選擇圖表類型（柱狀圖、折線圖或餅圖）和分組方式（日期、班別或類別）
4. 使用標籤頁切換在圖表視圖和表格視圖之間切換
5. 點擊「導出CSV」按鈕將當前數據導出為CSV文件

### 庫存報表使用
1. 進入「報表」頁面，從報表類型下拉選單中選擇「庫存報表」
2. 系統將顯示所有庫存項目，並在摘要區域顯示按產品類型分組的統計數據
3. 可以查看商品和藥品的分類庫存數據
4. 查看庫存價值、潛在收入和利潤等關鍵指標

## 技術架構

### 前端
- React.js
- Redux (狀態管理)
- Material-UI (UI組件庫)
- Recharts (圖表庫)
- Axios (HTTP客戶端)

### 後端
- Node.js
- Express.js
- MongoDB (數據庫)
- Mongoose (ODM)
- JWT (認證)

## 開發團隊

- Henry Chen - 項目負責人
- 藥局POS開發團隊

## 貢獻指南

1. Fork 本倉庫
2. 創建功能分支 (`git checkout -b feature/amazing-feature`)
3. 提交更改 (`git commit -m 'Add some amazing feature'`)
4. 推送到分支 (`git push origin feature/amazing-feature`)
5. 創建Pull Request

## 許可證

本項目採用 MIT 許可證 - 詳情請查看 LICENSE 文件

## 聯繫方式

如有問題或建議，請聯繫：henry1266@example.com



## 用戶角色

系統定義了以下用戶角色，具有不同的權限級別：

*   **admin**: 管理員，擁有最高權限，可以訪問和管理系統的所有功能。
*   **pharmacist**: 藥師，可以執行大部分藥局相關操作，如銷售、庫存管理等。
*   **staff**: 員工，權限最低，通常僅限於執行基本銷售操作。

新用戶的預設角色是 `staff`。用戶角色可以在建立用戶時指定，或由管理員後續修改。
