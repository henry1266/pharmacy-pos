
> @pharmacy-pos/backend@1.0.0 test D:\pharmacy-pos\backend
> jest

  console.warn
    ?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨 ModuleNotFoundError: Cannot find module 'D:\backend\utils\logger' from '../shared/utils/logger.ts'
        at Resolver._throwModNotFoundError (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
        at Resolver.resolveModule (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
        at Resolver._getVirtualMockPath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
        at Resolver._getAbsolutePath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
        at Resolver.getModuleID (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
        at Runtime._shouldMockCjs (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\logger.ts:25:33)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\transactionDataConverter.ts:4:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\index.ts:229:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\modules\employees\services\overtimeRecords.ts:11:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.require (D:\pharmacy-pos\backend\app.ts:20:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\routes\__tests__\dashboard.test.ts:2:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:77:13)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: 'D:\\backend\\utils\\logger',
      _originalMessage: "Cannot find module 'D:\\backend\\utils\\logger' from '../shared/utils/logger.ts'"
    }

    [0m [90m 27 |[39m     backendBusinessLogger [33m=[39m backendLoggerModule[33m.[39mbusinessLogger[33m;[39m
     [90m 28 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 29 |[39m     console[33m.[39mwarn([32m'?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 30 |[39m   }
     [90m 31 |[39m }
     [90m 32 |[39m[0m

      at Object.<anonymous> (../shared/utils/logger.ts:29:13)
      at Object.<anonymous> (../shared/utils/transactionDataConverter.ts:4:1)
      at Object.<anonymous> (../shared/index.ts:229:1)
      at Object.<anonymous> (modules/employees/services/overtimeRecords.ts:11:1)
      at Object.require (app.ts:20:1)
      at Object.<anonymous> (routes/__tests__/dashboard.test.ts:2:1)

  console.error
    Database connection failed

    [0m [90m 263 |[39m     res[33m.[39mjson(apiResponse)[33m;[39m
     [90m 264 |[39m   } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 265 |[39m     console[33m.[39merror((err [36mas[39m [33mError[39m)[33m.[39mmessage)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 266 |[39m     
     [90m 267 |[39m     [36mconst[39m errorResponse[33m:[39m [33mErrorResponse[39m [33m=[39m {
     [90m 268 |[39m       success[33m:[39m [36mfalse[39m[33m,[39m[0m

      at error (routes/dashboard.ts:265:13)
      at Layer.handle [as handle_request] (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
      at next (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
      at ../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:284:15
      at Function.process_params (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:346:12)
      at next (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:280:10)
      at Function.handle (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:175:3)
      at router (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:328:13)
      at ../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:286:9
      at Function.process_params (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:346:12)
      at Immediate.next (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:280:10)
      at Immediate._onImmediate (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:646:15)

  console.error
    Query failed

    [0m [90m 357 |[39m     res[33m.[39mjson(apiResponse)[33m;[39m
     [90m 358 |[39m   } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 359 |[39m     console[33m.[39merror((err [36mas[39m [33mError[39m)[33m.[39mmessage)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 360 |[39m     
     [90m 361 |[39m     [36mconst[39m errorResponse[33m:[39m [33mErrorResponse[39m [33m=[39m {
     [90m 362 |[39m       success[33m:[39m [36mfalse[39m[33m,[39m[0m

      at error (routes/dashboard.ts:359:13)
      at Layer.handle [as handle_request] (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
      at next (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
      at ../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:284:15
      at Function.process_params (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:346:12)
      at next (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:280:10)
      at Function.handle (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:175:3)
      at router (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:328:13)
      at ../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:286:9
      at Function.process_params (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:346:12)
      at Immediate.next (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:280:10)
      at Immediate._onImmediate (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:646:15)

  console.warn
    ?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨 ModuleNotFoundError: Cannot find module 'D:\backend\utils\logger' from '../shared/utils/logger.ts'
        at Resolver._throwModNotFoundError (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
        at Resolver.resolveModule (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
        at Resolver._getVirtualMockPath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
        at Resolver._getAbsolutePath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
        at Resolver.getModuleID (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
        at Runtime._shouldMockCjs (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\logger.ts:25:33)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\transactionDataConverter.ts:4:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\index.ts:229:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\modules\employees\services\overtimeRecords.ts:11:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.require (D:\pharmacy-pos\backend\app.ts:20:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\routes\__tests__\monitoring.test.ts:2:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:77:13)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: 'D:\\backend\\utils\\logger',
      _originalMessage: "Cannot find module 'D:\\backend\\utils\\logger' from '../shared/utils/logger.ts'"
    }

    [0m [90m 27 |[39m     backendBusinessLogger [33m=[39m backendLoggerModule[33m.[39mbusinessLogger[33m;[39m
     [90m 28 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 29 |[39m     console[33m.[39mwarn([32m'?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 30 |[39m   }
     [90m 31 |[39m }
     [90m 32 |[39m[0m

      at Object.<anonymous> (../shared/utils/logger.ts:29:13)
      at Object.<anonymous> (../shared/utils/transactionDataConverter.ts:4:1)
      at Object.<anonymous> (../shared/index.ts:229:1)
      at Object.<anonymous> (modules/employees/services/overtimeRecords.ts:11:1)
      at Object.require (app.ts:20:1)
      at Object.<anonymous> (routes/__tests__/monitoring.test.ts:2:1)

  console.warn
    ?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨 ModuleNotFoundError: Cannot find module 'D:\backend\utils\logger' from '../shared/utils/logger.ts'
        at Resolver._throwModNotFoundError (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
        at Resolver.resolveModule (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
        at Resolver._getVirtualMockPath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
        at Resolver._getAbsolutePath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
        at Resolver.getModuleID (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
        at Runtime._shouldMockCjs (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\logger.ts:25:33)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\transactionDataConverter.ts:4:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\index.ts:229:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\modules\employees\services\overtimeRecords.ts:11:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.require (D:\pharmacy-pos\backend\app.ts:20:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\routes\__tests__\inventory.test.ts:2:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:77:13)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: 'D:\\backend\\utils\\logger',
      _originalMessage: "Cannot find module 'D:\\backend\\utils\\logger' from '../shared/utils/logger.ts'"
    }

    [0m [90m 27 |[39m     backendBusinessLogger [33m=[39m backendLoggerModule[33m.[39mbusinessLogger[33m;[39m
     [90m 28 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 29 |[39m     console[33m.[39mwarn([32m'?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 30 |[39m   }
     [90m 31 |[39m }
     [90m 32 |[39m[0m

      at Object.<anonymous> (../shared/utils/logger.ts:29:13)
      at Object.<anonymous> (../shared/utils/transactionDataConverter.ts:4:1)
      at Object.<anonymous> (../shared/index.ts:229:1)
      at Object.<anonymous> (modules/employees/services/overtimeRecords.ts:11:1)
      at Object.require (app.ts:20:1)
      at Object.<anonymous> (routes/__tests__/inventory.test.ts:2:1)

  console.error
    Database connection failed

    [0m [90m 121 |[39m [36mexport[39m [36mfunction[39m sendServerErrorResponse(res[33m:[39m [33mResponse[39m[33m,[39m error[33m?[39m[33m:[39m any)[33m:[39m [36mvoid[39m {
     [90m 122 |[39m   [36mif[39m (error) {
    [31m[1m>[22m[39m[90m 123 |[39m     console[33m.[39merror(error[33m.[39mmessage [33m||[39m error)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 124 |[39m   }
     [90m 125 |[39m   
     [90m 126 |[39m   sendErrorResponse([0m

      at error (utils/responseHelpers.ts:123:13)
      at routes/inventory.ts:82:28
      at Layer.handle [as handle_request] (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
      at next (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
      at ../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:284:15
      at Function.process_params (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:346:12)
      at next (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:280:10)
      at Function.handle (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:175:3)
      at router (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:328:13)
      at ../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:286:9
      at Function.process_params (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:346:12)
      at next (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:280:10)
      at ../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:646:15
      at next (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:265:14)
      at Function.handle (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:175:3)
      at router (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:328:13)
      at ../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:286:9
      at Function.process_params (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:346:12)
      at Immediate.next (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:280:10)
      at Immediate._onImmediate (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:646:15)

  console.warn
    ?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨 ModuleNotFoundError: Cannot find module 'D:\backend\utils\logger' from '../shared/utils/logger.ts'
        at Resolver._throwModNotFoundError (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
        at Resolver.resolveModule (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
        at Resolver._getVirtualMockPath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
        at Resolver._getAbsolutePath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
        at Resolver.getModuleID (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
        at Runtime._shouldMockCjs (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\logger.ts:25:33)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\transactionDataConverter.ts:4:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\index.ts:229:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\modules\employees\services\overtimeRecords.ts:11:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.require (D:\pharmacy-pos\backend\app.ts:20:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\routes\__tests__\products.real.test.ts:8:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:77:13)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: 'D:\\backend\\utils\\logger',
      _originalMessage: "Cannot find module 'D:\\backend\\utils\\logger' from '../shared/utils/logger.ts'"
    }

    [0m [90m 27 |[39m     backendBusinessLogger [33m=[39m backendLoggerModule[33m.[39mbusinessLogger[33m;[39m
     [90m 28 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 29 |[39m     console[33m.[39mwarn([32m'?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 30 |[39m   }
     [90m 31 |[39m }
     [90m 32 |[39m[0m

      at Object.<anonymous> (../shared/utils/logger.ts:29:13)
      at Object.<anonymous> (../shared/utils/transactionDataConverter.ts:4:1)
      at Object.<anonymous> (../shared/index.ts:229:1)
      at Object.<anonymous> (modules/employees/services/overtimeRecords.ts:11:1)
      at Object.require (app.ts:20:1)
      at Object.<anonymous> (routes/__tests__/products.real.test.ts:8:1)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode token detected, bypassing JWT verification

      at log (middleware/auth.ts:69:13)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode token detected, bypassing JWT verification

      at log (middleware/auth.ts:69:13)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode token detected, bypassing JWT verification

      at log (middleware/auth.ts:69:13)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode token detected, bypassing JWT verification

      at log (middleware/auth.ts:69:13)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode token detected, bypassing JWT verification

      at log (middleware/auth.ts:69:13)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode token detected, bypassing JWT verification

      at log (middleware/auth.ts:69:13)

  console.log
    DEBUG simulate failure, stack: Error: 
        at NativeConnection.<anonymous> (D:\pharmacy-pos\backend\utils\mongoConnection.ts:13:29)
        at NativeConnection.emit (node:events:518:28)
        at NativeConnection.set (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\connection.js:145:12)
        at NativeConnection.onClose (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\connection.js:1315:19)
        at NativeConnection._close (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\connection.js:1264:12)
        at async Promise.all (index 0)
        at Mongoose.disconnect (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\mongoose.js:471:3)
        at Object.<anonymous> (D:\pharmacy-pos\backend\routes\__tests__\products.real.test.ts:36:5)

      at NativeConnection.log (utils/mongoConnection.ts:18:13)
          at async Promise.all (index 0)

  console.warn
    ?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨 ModuleNotFoundError: Cannot find module 'D:\backend\utils\logger' from '../shared/utils/logger.ts'
        at Resolver._throwModNotFoundError (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
        at Resolver.resolveModule (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
        at Resolver._getVirtualMockPath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
        at Resolver._getAbsolutePath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
        at Resolver.getModuleID (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
        at Runtime._shouldMockCjs (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\logger.ts:25:33)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\transactionDataConverter.ts:4:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\index.ts:229:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\modules\employees\services\overtimeRecords.ts:11:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.require (D:\pharmacy-pos\backend\app.ts:20:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\routes\__tests__\customers.test.ts:2:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:77:13)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: 'D:\\backend\\utils\\logger',
      _originalMessage: "Cannot find module 'D:\\backend\\utils\\logger' from '../shared/utils/logger.ts'"
    }

    [0m [90m 27 |[39m     backendBusinessLogger [33m=[39m backendLoggerModule[33m.[39mbusinessLogger[33m;[39m
     [90m 28 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 29 |[39m     console[33m.[39mwarn([32m'?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 30 |[39m   }
     [90m 31 |[39m }
     [90m 32 |[39m[0m

      at Object.<anonymous> (../shared/utils/logger.ts:29:13)
      at Object.<anonymous> (../shared/utils/transactionDataConverter.ts:4:1)
      at Object.<anonymous> (../shared/index.ts:229:1)
      at Object.<anonymous> (modules/employees/services/overtimeRecords.ts:11:1)
      at Object.require (app.ts:20:1)
      at Object.<anonymous> (routes/__tests__/customers.test.ts:2:1)

[31m[31merror[31m[39m: [31mFailed to list customers: Database connection failed[39m {"timestamp":"2025-10-09 10:11:44:1144"}
  console.warn
    ?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨 ModuleNotFoundError: Cannot find module 'D:\backend\utils\logger' from '../shared/utils/logger.ts'
        at Resolver._throwModNotFoundError (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
        at Resolver.resolveModule (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
        at Resolver._getVirtualMockPath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
        at Resolver._getAbsolutePath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
        at Resolver.getModuleID (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
        at Runtime._shouldMockCjs (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\logger.ts:25:33)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\transactionDataConverter.ts:4:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\index.ts:229:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\modules\employees\services\overtimeRecords.ts:11:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.require (D:\pharmacy-pos\backend\app.ts:20:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\routes\__tests__\sales.test.ts:2:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:77:13)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: 'D:\\backend\\utils\\logger',
      _originalMessage: "Cannot find module 'D:\\backend\\utils\\logger' from '../shared/utils/logger.ts'"
    }

    [0m [90m 27 |[39m     backendBusinessLogger [33m=[39m backendLoggerModule[33m.[39mbusinessLogger[33m;[39m
     [90m 28 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 29 |[39m     console[33m.[39mwarn([32m'?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 30 |[39m   }
     [90m 31 |[39m }
     [90m 32 |[39m[0m

      at Object.<anonymous> (../shared/utils/logger.ts:29:13)
      at Object.<anonymous> (../shared/utils/transactionDataConverter.ts:4:1)
      at Object.<anonymous> (../shared/index.ts:229:1)
      at Object.<anonymous> (modules/employees/services/overtimeRecords.ts:11:1)
      at Object.require (app.ts:20:1)
      at Object.<anonymous> (routes/__tests__/sales.test.ts:2:1)

[33m[33mwarn[33m[39m: [33m?Ｗ? 皜祈岫?Ｗ? 摨怠?銝雲嚗?蜇摨怠?: 1嚗?瘙?? 5[39m {"timestamp":"2025-10-09 10:11:47:1147"}
[31m[31merror[31m[39m: [31mlistSales failed: Database connection failed[39m {"timestamp":"2025-10-09 10:11:48:1148"}
  console.warn
    ?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨 ModuleNotFoundError: Cannot find module 'D:\backend\utils\logger' from '../shared/utils/logger.ts'
        at Resolver._throwModNotFoundError (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
        at Resolver.resolveModule (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
        at Resolver._getVirtualMockPath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
        at Resolver._getAbsolutePath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
        at Resolver.getModuleID (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
        at Runtime._shouldMockCjs (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\logger.ts:25:33)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\transactionDataConverter.ts:4:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\index.ts:229:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\modules\employees\services\overtimeRecords.ts:11:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.require (D:\pharmacy-pos\backend\app.ts:20:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\modules\suppliers\__tests__\suppliers.contract.test.ts:5:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:77:13)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: 'D:\\backend\\utils\\logger',
      _originalMessage: "Cannot find module 'D:\\backend\\utils\\logger' from '../shared/utils/logger.ts'"
    }

    [0m [90m 27 |[39m     backendBusinessLogger [33m=[39m backendLoggerModule[33m.[39mbusinessLogger[33m;[39m
     [90m 28 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 29 |[39m     console[33m.[39mwarn([32m'?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 30 |[39m   }
     [90m 31 |[39m }
     [90m 32 |[39m[0m

      at Object.<anonymous> (../shared/utils/logger.ts:29:13)
      at Object.<anonymous> (../shared/utils/transactionDataConverter.ts:4:1)
      at Object.<anonymous> (../shared/index.ts:229:1)
      at Object.<anonymous> (modules/employees/services/overtimeRecords.ts:11:1)
      at Object.require (app.ts:20:1)
      at Object.<anonymous> (modules/suppliers/__tests__/suppliers.contract.test.ts:5:1)

  console.warn
    ?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨 ModuleNotFoundError: Cannot find module 'D:\backend\utils\logger' from '../shared/utils/logger.ts'
        at Resolver._throwModNotFoundError (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
        at Resolver.resolveModule (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
        at Resolver._getVirtualMockPath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
        at Resolver._getAbsolutePath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
        at Resolver.getModuleID (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
        at Runtime._shouldMockCjs (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\logger.ts:25:33)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\transactionDataConverter.ts:4:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\index.ts:229:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\modules\employees\services\overtimeRecords.ts:11:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.require (D:\pharmacy-pos\backend\app.ts:20:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\routes\__tests__\suppliers.test.ts:2:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:77:13)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: 'D:\\backend\\utils\\logger',
      _originalMessage: "Cannot find module 'D:\\backend\\utils\\logger' from '../shared/utils/logger.ts'"
    }

    [0m [90m 27 |[39m     backendBusinessLogger [33m=[39m backendLoggerModule[33m.[39mbusinessLogger[33m;[39m
     [90m 28 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 29 |[39m     console[33m.[39mwarn([32m'?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 30 |[39m   }
     [90m 31 |[39m }
     [90m 32 |[39m[0m

      at Object.<anonymous> (../shared/utils/logger.ts:29:13)
      at Object.<anonymous> (../shared/utils/transactionDataConverter.ts:4:1)
      at Object.<anonymous> (../shared/index.ts:229:1)
      at Object.<anonymous> (modules/employees/services/overtimeRecords.ts:11:1)
      at Object.require (app.ts:20:1)
      at Object.<anonymous> (routes/__tests__/suppliers.test.ts:2:1)

[31m[31merror[31m[39m: [31mFailed to list suppliers: Database connection failed[39m {"timestamp":"2025-10-09 10:11:55:1155"}
  console.warn
    ?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨 ModuleNotFoundError: Cannot find module 'D:\backend\utils\logger' from '../shared/utils/logger.ts'
        at Resolver._throwModNotFoundError (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
        at Resolver.resolveModule (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
        at Resolver._getVirtualMockPath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
        at Resolver._getAbsolutePath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
        at Resolver.getModuleID (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
        at Runtime._shouldMockCjs (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\logger.ts:25:33)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\transactionDataConverter.ts:4:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\index.ts:229:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\modules\employees\services\overtimeRecords.ts:11:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.require (D:\pharmacy-pos\backend\app.ts:20:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\modules\products\__tests__\products.contract.test.ts:5:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:77:13)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: 'D:\\backend\\utils\\logger',
      _originalMessage: "Cannot find module 'D:\\backend\\utils\\logger' from '../shared/utils/logger.ts'"
    }

    [0m [90m 27 |[39m     backendBusinessLogger [33m=[39m backendLoggerModule[33m.[39mbusinessLogger[33m;[39m
     [90m 28 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 29 |[39m     console[33m.[39mwarn([32m'?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 30 |[39m   }
     [90m 31 |[39m }
     [90m 32 |[39m[0m

      at Object.<anonymous> (../shared/utils/logger.ts:29:13)
      at Object.<anonymous> (../shared/utils/transactionDataConverter.ts:4:1)
      at Object.<anonymous> (../shared/index.ts:229:1)
      at Object.<anonymous> (modules/employees/services/overtimeRecords.ts:11:1)
      at Object.require (app.ts:20:1)
      at Object.<anonymous> (modules/products/__tests__/products.contract.test.ts:5:1)

  console.warn
    ?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨 ModuleNotFoundError: Cannot find module 'D:\backend\utils\logger' from '../shared/utils/logger.ts'
        at Resolver._throwModNotFoundError (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
        at Resolver.resolveModule (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
        at Resolver._getVirtualMockPath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
        at Resolver._getAbsolutePath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
        at Resolver.getModuleID (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
        at Runtime._shouldMockCjs (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\logger.ts:25:33)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\transactionDataConverter.ts:4:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\index.ts:229:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\modules\employees\services\overtimeRecords.ts:11:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.require (D:\pharmacy-pos\backend\app.ts:20:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\routes\__tests__\products.shared.test.ts:8:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:77:13)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: 'D:\\backend\\utils\\logger',
      _originalMessage: "Cannot find module 'D:\\backend\\utils\\logger' from '../shared/utils/logger.ts'"
    }

    [0m [90m 27 |[39m     backendBusinessLogger [33m=[39m backendLoggerModule[33m.[39mbusinessLogger[33m;[39m
     [90m 28 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 29 |[39m     console[33m.[39mwarn([32m'?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 30 |[39m   }
     [90m 31 |[39m }
     [90m 32 |[39m[0m

      at Object.<anonymous> (../shared/utils/logger.ts:29:13)
      at Object.<anonymous> (../shared/utils/transactionDataConverter.ts:4:1)
      at Object.<anonymous> (../shared/index.ts:229:1)
      at Object.<anonymous> (modules/employees/services/overtimeRecords.ts:11:1)
      at Object.require (app.ts:20:1)
      at Object.<anonymous> (routes/__tests__/products.shared.test.ts:8:1)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode token detected, bypassing JWT verification

      at log (middleware/auth.ts:69:13)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode token detected, bypassing JWT verification

      at log (middleware/auth.ts:69:13)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode token detected, bypassing JWT verification

      at log (middleware/auth.ts:69:13)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode token detected, bypassing JWT verification

      at log (middleware/auth.ts:69:13)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode token detected, bypassing JWT verification

      at log (middleware/auth.ts:69:13)

  console.log
    DEBUG simulate failure, stack: Error: 
        at NativeConnection.<anonymous> (D:\pharmacy-pos\backend\utils\mongoConnection.ts:13:29)
        at NativeConnection.emit (node:events:518:28)
        at NativeConnection.set (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\connection.js:145:12)
        at NativeConnection.onClose (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\connection.js:1315:19)
        at NativeConnection._close (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\connection.js:1264:12)
        at Object.<anonymous> (D:\pharmacy-pos\backend\routes\__tests__\products.shared.test.ts:35:5)

      at NativeConnection.log (utils/mongoConnection.ts:18:13)

  console.warn
    ?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨 ModuleNotFoundError: Cannot find module 'D:\backend\utils\logger' from '../shared/utils/logger.ts'
        at Resolver._throwModNotFoundError (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
        at Resolver.resolveModule (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
        at Resolver._getVirtualMockPath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
        at Resolver._getAbsolutePath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
        at Resolver.getModuleID (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
        at Runtime._shouldMockCjs (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\logger.ts:25:33)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\transactionDataConverter.ts:4:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\index.ts:229:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\modules\employees\services\overtimeRecords.ts:11:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.require (D:\pharmacy-pos\backend\app.ts:20:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\routes\__tests__\products.simple.test.ts:4:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:77:13)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: 'D:\\backend\\utils\\logger',
      _originalMessage: "Cannot find module 'D:\\backend\\utils\\logger' from '../shared/utils/logger.ts'"
    }

    [0m [90m 27 |[39m     backendBusinessLogger [33m=[39m backendLoggerModule[33m.[39mbusinessLogger[33m;[39m
     [90m 28 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 29 |[39m     console[33m.[39mwarn([32m'?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 30 |[39m   }
     [90m 31 |[39m }
     [90m 32 |[39m[0m

      at Object.<anonymous> (../shared/utils/logger.ts:29:13)
      at Object.<anonymous> (../shared/utils/transactionDataConverter.ts:4:1)
      at Object.<anonymous> (../shared/index.ts:229:1)
      at Object.<anonymous> (modules/employees/services/overtimeRecords.ts:11:1)
      at Object.require (app.ts:20:1)
      at Object.<anonymous> (routes/__tests__/products.simple.test.ts:4:1)

  console.log
    DEBUG simulate failure, stack: Error: 
        at NativeConnection.<anonymous> (D:\pharmacy-pos\backend\utils\mongoConnection.ts:13:29)
        at NativeConnection.emit (node:events:518:28)
        at NativeConnection.set (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\connection.js:145:12)
        at NativeConnection.onClose (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\connection.js:1315:19)
        at NativeConnection._close (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\connection.js:1264:12)
        at async Promise.all (index 0)
        at Mongoose.disconnect (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\mongoose.js:471:3)
        at Object.<anonymous> (D:\pharmacy-pos\backend\routes\__tests__\products.simple.test.ts:25:5)

      at NativeConnection.log (utils/mongoConnection.ts:18:13)
          at async Promise.all (index 0)

  console.warn
    ?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨 ModuleNotFoundError: Cannot find module 'D:\backend\utils\logger' from '../shared/utils/logger.ts'
        at Resolver._throwModNotFoundError (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
        at Resolver.resolveModule (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
        at Resolver._getVirtualMockPath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
        at Resolver._getAbsolutePath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
        at Resolver.getModuleID (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
        at Runtime._shouldMockCjs (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\logger.ts:25:33)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\transactionDataConverter.ts:4:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\index.ts:229:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\modules\employees\services\overtimeRecords.ts:11:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.require (D:\pharmacy-pos\backend\app.ts:20:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\routes\__tests__\products.integration.test.ts:2:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:77:13)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: 'D:\\backend\\utils\\logger',
      _originalMessage: "Cannot find module 'D:\\backend\\utils\\logger' from '../shared/utils/logger.ts'"
    }

    [0m [90m 27 |[39m     backendBusinessLogger [33m=[39m backendLoggerModule[33m.[39mbusinessLogger[33m;[39m
     [90m 28 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 29 |[39m     console[33m.[39mwarn([32m'?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 30 |[39m   }
     [90m 31 |[39m }
     [90m 32 |[39m[0m

      at Object.<anonymous> (../shared/utils/logger.ts:29:13)
      at Object.<anonymous> (../shared/utils/transactionDataConverter.ts:4:1)
      at Object.<anonymous> (../shared/index.ts:229:1)
      at Object.<anonymous> (modules/employees/services/overtimeRecords.ts:11:1)
      at Object.require (app.ts:20:1)
      at Object.<anonymous> (routes/__tests__/products.integration.test.ts:2:1)

  console.error
    靘?ID ?亥岷?Ｗ??航炊嚗?CastError: Cast to ObjectId failed for value "code" (type string) at path "_id" for model "baseproduct"
        at SchemaObjectId.Object.<anonymous>.SchemaObjectId.cast (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\schema\objectId.js:251:11)
        at SchemaObjectId.Object.<anonymous>.SchemaType.applySetters (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\schemaType.js:1255:12)
        at SchemaObjectId.Object.<anonymous>.SchemaType.castForQuery (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\schemaType.js:1673:17)
        at cast (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\cast.js:390:32)
        at model.Query.Object.<anonymous>.Query.cast (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\query.js:5055:12)
        at model.Query.Object.<anonymous>.Query._castConditions (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\query.js:2351:10)
        at model.Query._findOne (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\query.js:2674:8)
        at model.Query.exec (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\query.js:4604:80)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at findProductById (D:\pharmacy-pos\backend\modules\products\legacy\legacy.service.ts:462:19)
        at getProductByIdHandler (D:\pharmacy-pos\backend\modules\products\legacy\legacy.controller.ts:120:21) {
      stringValue: '"code"',
      messageFormat: undefined,
      kind: 'ObjectId',
      value: 'code',
      path: '_id',
      reason: BSONError: input must be a 24 character hex string, 12 byte Uint8Array, or an integer
          at new ObjectId (D:\pharmacy-pos\node_modules\.pnpm\bson@6.10.4\node_modules\bson\src\objectid.ts:120:15)
          at castObjectId (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\cast\objectid.js:25:12)
          at SchemaObjectId.Object.<anonymous>.SchemaObjectId.cast (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\schema\objectId.js:249:12)
          at SchemaObjectId.Object.<anonymous>.SchemaType.applySetters (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\schemaType.js:1255:12)
          at SchemaObjectId.Object.<anonymous>.SchemaType.castForQuery (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\schemaType.js:1673:17)
          at cast (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\cast.js:390:32)
          at model.Query.Object.<anonymous>.Query.cast (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\query.js:5055:12)
          at model.Query.Object.<anonymous>.Query._castConditions (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\query.js:2351:10)
          at model.Query._findOne (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\query.js:2674:8)
          at model.Query.exec (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\query.js:4604:80)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at findProductById (D:\pharmacy-pos\backend\modules\products\legacy\legacy.service.ts:462:19)
          at getProductByIdHandler (D:\pharmacy-pos\backend\modules\products\legacy\legacy.controller.ts:120:21),
      valueType: 'string'
    }

    [0m [90m 68 |[39m   }
     [90m 69 |[39m
    [31m[1m>[22m[39m[90m 70 |[39m   console[33m.[39merror(logMessage[33m,[39m error)
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 71 |[39m   res[33m.[39mstatus([33mAPI_CONSTANTS[39m[33m.[39m[33mHTTP_STATUS[39m[33m.[39m[33mINTERNAL_SERVER_ERROR[39m)[33m.[39mjson({
     [90m 72 |[39m     success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 73 |[39m     message[33m:[39m [33mERROR_MESSAGES[39m[33m.[39m[33mGENERIC[39m[33m.[39m[33mINTERNAL_ERROR[39m[33m,[39m[0m

      at handleControllerError (modules/products/legacy/legacy.controller.ts:70:11)
      at getProductByIdHandler (modules/products/legacy/legacy.controller.ts:123:5)

  console.log
    DEBUG simulate failure, stack: Error: 
        at NativeConnection.<anonymous> (D:\pharmacy-pos\backend\utils\mongoConnection.ts:13:29)
        at NativeConnection.emit (node:events:518:28)
        at NativeConnection.set (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\connection.js:145:12)
        at NativeConnection.onClose (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\connection.js:1315:19)
        at NativeConnection._close (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\connection.js:1264:12)
        at async Promise.all (index 0)
        at Mongoose.disconnect (D:\pharmacy-pos\node_modules\.pnpm\mongoose@8.16.0_socks@2.8.5\node_modules\mongoose\lib\mongoose.js:471:3)
        at Object.<anonymous> (D:\pharmacy-pos\backend\routes\__tests__\products.integration.test.ts:439:7)

      at NativeConnection.log (utils/mongoConnection.ts:18:13)
          at async Promise.all (index 0)

  console.error
    ?亥岷?Ｗ??”?航炊嚗?Error: MongoDB test connection temporarily unavailable
        at ensureMongoConnection (D:\pharmacy-pos\backend\utils\mongoConnection.ts:62:13)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at listProducts (D:\pharmacy-pos\backend\modules\products\legacy\legacy.service.ts:316:3)
        at listProductsHandler (D:\pharmacy-pos\backend\modules\products\legacy\legacy.controller.ts:81:20)

    [0m [90m 68 |[39m   }
     [90m 69 |[39m
    [31m[1m>[22m[39m[90m 70 |[39m   console[33m.[39merror(logMessage[33m,[39m error)
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 71 |[39m   res[33m.[39mstatus([33mAPI_CONSTANTS[39m[33m.[39m[33mHTTP_STATUS[39m[33m.[39m[33mINTERNAL_SERVER_ERROR[39m)[33m.[39mjson({
     [90m 72 |[39m     success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 73 |[39m     message[33m:[39m [33mERROR_MESSAGES[39m[33m.[39m[33mGENERIC[39m[33m.[39m[33mINTERNAL_ERROR[39m[33m,[39m[0m

      at handleControllerError (modules/products/legacy/legacy.controller.ts:70:11)
      at listProductsHandler (modules/products/legacy/legacy.controller.ts:87:5)

  console.warn
    ?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨 ModuleNotFoundError: Cannot find module 'D:\backend\utils\logger' from '../shared/utils/logger.ts'
        at Resolver._throwModNotFoundError (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
        at Resolver.resolveModule (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
        at Resolver._getVirtualMockPath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
        at Resolver._getAbsolutePath (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
        at Resolver.getModuleID (D:\pharmacy-pos\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
        at Runtime._shouldMockCjs (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\logger.ts:25:33)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\utils\transactionDataConverter.ts:4:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\shared\index.ts:229:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\modules\employees\services\overtimeRecords.ts:11:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.require (D:\pharmacy-pos\backend\app.ts:20:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at Runtime.requireModuleOrMock (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1048:21)
        at Object.<anonymous> (D:\pharmacy-pos\backend\test\app.integration.test.ts:2:1)
        at Runtime._execModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1439:24)
        at Runtime._loadModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1022:12)
        at Runtime.requireModule (D:\pharmacy-pos\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:882:12)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:77:13)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: 'D:\\backend\\utils\\logger',
      _originalMessage: "Cannot find module 'D:\\backend\\utils\\logger' from '../shared/utils/logger.ts'"
    }

    [0m [90m 27 |[39m     backendBusinessLogger [33m=[39m backendLoggerModule[33m.[39mbusinessLogger[33m;[39m
     [90m 28 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 29 |[39m     console[33m.[39mwarn([32m'?⊥?頛敺垢logger嚗?雿輻console雿?蹂誨'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 30 |[39m   }
     [90m 31 |[39m }
     [90m 32 |[39m[0m

      at Object.<anonymous> (../shared/utils/logger.ts:29:13)
      at Object.<anonymous> (../shared/utils/transactionDataConverter.ts:4:1)
      at Object.<anonymous> (../shared/index.ts:229:1)
      at Object.<anonymous> (modules/employees/services/overtimeRecords.ts:11:1)
      at Object.require (app.ts:20:1)
      at Object.<anonymous> (test/app.integration.test.ts:2:1)

  console.log
    Test mode enabled: false

      at log (middleware/auth.ts:53:11)

  console.log
    No token provided in request

      at log (middleware/auth.ts:57:13)

  console.log
    Test mode enabled: false

      at log (middleware/auth.ts:53:11)

  console.log
    No token provided in request

      at log (middleware/auth.ts:57:13)

  console.error
    撱箇?撣單?航炊: Error: 撣單隞?Ⅳ ACC001 撌脣???        at Function.createAccount (D:\pharmacy-pos\backend\services\accounting2\AccountService.ts:37:15)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at Object.<anonymous> (D:\pharmacy-pos\backend\services\accounting2\__tests__\AccountService.test.ts:85:7)

    [0m [90m 52 |[39m       [36mreturn[39m savedAccount[33m;[39m
     [90m 53 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 54 |[39m       console[33m.[39merror([32m'撱箇?撣單?航炊:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 55 |[39m       [36mthrow[39m error[33m;[39m
     [90m 56 |[39m     }
     [90m 57 |[39m   }[0m

      at Function.error [as createAccount] (services/accounting2/AccountService.ts:54:15)
      at Object.<anonymous> (services/accounting2/__tests__/AccountService.test.ts:85:7)

  console.error
    撱箇?撣單?航炊: Error: Database connection failed
        at Object.<anonymous> (D:\pharmacy-pos\backend\services\accounting2\__tests__\AccountService.test.ts:92:23)
        at Promise.then.completed (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:316:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)

    [0m [90m 52 |[39m       [36mreturn[39m savedAccount[33m;[39m
     [90m 53 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 54 |[39m       console[33m.[39merror([32m'撱箇?撣單?航炊:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 55 |[39m       [36mthrow[39m error[33m;[39m
     [90m 56 |[39m     }
     [90m 57 |[39m   }[0m

      at Function.error [as createAccount] (services/accounting2/AccountService.ts:54:15)
      at Object.<anonymous> (services/accounting2/__tests__/AccountService.test.ts:96:7)

  console.error
    ??撣單閰喟敦鞈??航炊: Error: 撣單銝??冽??⊥?????        at Function.getAccountById (D:\pharmacy-pos\backend\services\accounting2\AccountService.ts:135:15)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at Object.<anonymous> (D:\pharmacy-pos\backend\services\accounting2\__tests__\AccountService.test.ts:181:7)

    [0m [90m 157 |[39m       [36mreturn[39m result[33m;[39m
     [90m 158 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 159 |[39m       console[33m.[39merror([32m'??撣單閰喟敦鞈??航炊:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 160 |[39m       [36mthrow[39m error[33m;[39m
     [90m 161 |[39m     }
     [90m 162 |[39m   }[0m

      at Function.error [as getAccountById] (services/accounting2/AccountService.ts:159:15)
      at Object.<anonymous> (services/accounting2/__tests__/AccountService.test.ts:181:7)

  console.error
    ?湔撣單?航炊: Error: 撣單銝??冽??⊥?????        at Function.updateAccount (D:\pharmacy-pos\backend\services\accounting2\AccountService.ts:186:15)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at Object.<anonymous> (D:\pharmacy-pos\backend\services\accounting2\__tests__\AccountService.test.ts:247:7)

    [0m [90m 218 |[39m       [36mreturn[39m updatedAccount[33m;[39m
     [90m 219 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 220 |[39m       console[33m.[39merror([32m'?湔撣單?航炊:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 221 |[39m       [36mthrow[39m error[33m;[39m
     [90m 222 |[39m     }
     [90m 223 |[39m   }[0m

      at Function.error [as updateAccount] (services/accounting2/AccountService.ts:220:15)
      at Object.<anonymous> (services/accounting2/__tests__/AccountService.test.ts:247:7)

  console.error
    ?湔撣單?航炊: Error: 撣單隞?Ⅳ NEW001 撌脣???        at Function.updateAccount (D:\pharmacy-pos\backend\services\accounting2\AccountService.ts:199:17)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at Object.<anonymous> (D:\pharmacy-pos\backend\services\accounting2\__tests__\AccountService.test.ts:260:7)

    [0m [90m 218 |[39m       [36mreturn[39m updatedAccount[33m;[39m
     [90m 219 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 220 |[39m       console[33m.[39merror([32m'?湔撣單?航炊:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 221 |[39m       [36mthrow[39m error[33m;[39m
     [90m 222 |[39m     }
     [90m 223 |[39m   }[0m

      at Function.error [as updateAccount] (services/accounting2/AccountService.ts:220:15)
      at Object.<anonymous> (services/accounting2/__tests__/AccountService.test.ts:260:7)

  console.error
    ?芷撣單?航炊: Error: 撣單銝??冽??⊥?????        at Function.deleteAccount (D:\pharmacy-pos\backend\services\accounting2\AccountService.ts:242:15)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at Object.<anonymous> (D:\pharmacy-pos\backend\services\accounting2\__tests__\AccountService.test.ts:299:7)

    [0m [90m 270 |[39m       [36mreturn[39m [36mtrue[39m[33m;[39m
     [90m 271 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 272 |[39m       console[33m.[39merror([32m'?芷撣單?航炊:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 273 |[39m       [36mthrow[39m error[33m;[39m
     [90m 274 |[39m     }
     [90m 275 |[39m   }[0m

      at Function.error [as deleteAccount] (services/accounting2/AccountService.ts:272:15)
      at Object.<anonymous> (services/accounting2/__tests__/AccountService.test.ts:299:7)

  console.error
    ?芷撣單?航炊: Error: ?⊥??芷撣單嚗董?嗆??賊?鈭斗?
        at Function.deleteAccount (D:\pharmacy-pos\backend\services\accounting2\AccountService.ts:259:15)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at Object.<anonymous> (D:\pharmacy-pos\backend\services\accounting2\__tests__\AccountService.test.ts:316:7)

    [0m [90m 270 |[39m       [36mreturn[39m [36mtrue[39m[33m;[39m
     [90m 271 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 272 |[39m       console[33m.[39merror([32m'?芷撣單?航炊:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 273 |[39m       [36mthrow[39m error[33m;[39m
     [90m 274 |[39m     }
     [90m 275 |[39m   }[0m

      at Function.error [as deleteAccount] (services/accounting2/AccountService.ts:272:15)
      at Object.<anonymous> (services/accounting2/__tests__/AccountService.test.ts:316:7)

  console.error
    撱箇?撣單?航炊: Error: 撣單隞?Ⅳ ACC002 撌脣???        at Function.createAccount (D:\pharmacy-pos\backend\services\accounting2\AccountService.ts:37:15)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at Function.createMultipleAccounts (D:\pharmacy-pos\backend\services\accounting2\AccountService.ts:338:25)
        at Object.<anonymous> (D:\pharmacy-pos\backend\services\accounting2\__tests__\AccountService.test.ts:384:22)

    [0m [90m 52 |[39m       [36mreturn[39m savedAccount[33m;[39m
     [90m 53 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 54 |[39m       console[33m.[39merror([32m'撱箇?撣單?航炊:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 55 |[39m       [36mthrow[39m error[33m;[39m
     [90m 56 |[39m     }
     [90m 57 |[39m   }[0m

      at Function.error [as createAccount] (services/accounting2/AccountService.ts:54:15)
      at Function.createMultipleAccounts (services/accounting2/AccountService.ts:338:25)
      at Object.<anonymous> (services/accounting2/__tests__/AccountService.test.ts:384:22)

  console.log
    ? 敹怠???撌脤???
      at CacheService.log [as close] (services/CacheService.ts:407:15)

  console.log
    ? 敹怠???撌脤???
      at CacheService.log [as close] (services/CacheService.ts:407:15)

  console.log
    ? 敹怠???撌脤???
      at CacheService.log [as close] (services/CacheService.ts:407:15)

  console.log
    ? 敹怠???撌脤???
      at CacheService.log [as close] (services/CacheService.ts:407:15)

  console.log
    ? 敹怠???撌脤???
      at CacheService.log [as close] (services/CacheService.ts:407:15)

  console.log
    ? 敹怠???撌脤???
      at CacheService.log [as close] (services/CacheService.ts:407:15)

  console.log
    ? 敹怠???撌脤???
      at CacheService.log [as close] (services/CacheService.ts:407:15)

  console.log
    ? 敹怠???撌脤???
      at CacheService.log [as close] (services/CacheService.ts:407:15)

  console.log
    ? 敹怠???撌脤???
      at CacheService.log [as close] (services/CacheService.ts:407:15)

  console.log
    ? 敹怠???撌脤???
      at CacheService.log [as close] (services/CacheService.ts:407:15)

  console.log
    ? 敹怠???撌脤???
      at CacheService.log [as close] (services/CacheService.ts:407:15)

[31m"\x1B[31m'error'\x1B[39m"[39m: [31m'撱箇?鈭斗?蝢斤??航炊: 鈭斗?蝢斤?蝺刻? TXN001 撌脣???[39m {"stack":"Error: 鈭斗?蝢斤?蝺刻? TXN001 撌脣??沔n    at Function.createTransactionGroup (D:\\pharmacy-pos\\backend\\services\\accounting2\\TransactionService.ts:35:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (D:\\pharmacy-pos\\backend\\services\\accounting2\\__tests__\\TransactionService.test.ts:102:7)","timestamp":"2025-10-09 10:12:29:1229"}
[31m"\x1B[31m'error'\x1B[39m"[39m: [31m'??鈭斗?蝢斤?閰喟敦鞈??航炊: 鈭斗?蝢斤?銝??冽??⊥?????[39m {"stack":"Error: 鈭斗?蝢斤?銝??冽??⊥????n    at Function.getTransactionGroupById (D:\\pharmacy-pos\\backend\\services\\accounting2\\TransactionService.ts:162:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (D:\\pharmacy-pos\\backend\\services\\accounting2\\__tests__\\TransactionService.test.ts:235:7)","timestamp":"2025-10-09 10:12:29:1229"}
[31m"\x1B[31m'error'\x1B[39m"[39m: [31m'?湔鈭斗?蝢斤??航炊: 鈭斗?蝢斤?銝??冽??⊥?????[39m {"stack":"Error: 鈭斗?蝢斤?銝??冽??⊥????n    at Function.updateTransactionGroup (D:\\pharmacy-pos\\backend\\services\\accounting2\\TransactionService.ts:221:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (D:\\pharmacy-pos\\backend\\services\\accounting2\\__tests__\\TransactionService.test.ts:333:7)","timestamp":"2025-10-09 10:12:29:1229"}
[31m"\x1B[31m'error'\x1B[39m"[39m: [31m'?湔鈭斗?蝢斤??航炊: 撌脩Ⅱ隤?鈭斗??⊥?靽格'[39m {"stack":"Error: 撌脩Ⅱ隤?鈭斗??⊥?靽格\n    at Function.updateTransactionGroup (D:\\pharmacy-pos\\backend\\services\\accounting2\\TransactionService.ts:226:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (D:\\pharmacy-pos\\backend\\services\\accounting2\\__tests__\\TransactionService.test.ts:344:7)","timestamp":"2025-10-09 10:12:29:1229"}
[31m"\x1B[31m'error'\x1B[39m"[39m: [31m'?湔鈭斗?蝢斤??航炊: 鈭斗?蝢斤?蝺刻? NEW001 撌脣???[39m {"stack":"Error: 鈭斗?蝢斤?蝺刻? NEW001 撌脣??沔n    at Function.updateTransactionGroup (D:\\pharmacy-pos\\backend\\services\\accounting2\\TransactionService.ts:238:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (D:\\pharmacy-pos\\backend\\services\\accounting2\\__tests__\\TransactionService.test.ts:358:7)","timestamp":"2025-10-09 10:12:29:1229"}
[31m"\x1B[31m'error'\x1B[39m"[39m: [31m'蝣箄?鈭斗?蝢斤??航炊: 鈭斗?蝢斤?銝??冽??⊥?????[39m {"stack":"Error: 鈭斗?蝢斤?銝??冽??⊥????n    at Function.confirmTransactionGroup (D:\\pharmacy-pos\\backend\\services\\accounting2\\TransactionService.ts:286:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (D:\\pharmacy-pos\\backend\\services\\accounting2\\__tests__\\TransactionService.test.ts:402:7)","timestamp":"2025-10-09 10:12:29:1229"}
[31m"\x1B[31m'error'\x1B[39m"[39m: [31m'蝣箄?鈭斗?蝢斤??航炊: 鈭斗?蝢斤?撌脩?蝣箄?'[39m {"stack":"Error: 鈭斗?蝢斤?撌脩?蝣箄?\n    at Function.confirmTransactionGroup (D:\\pharmacy-pos\\backend\\services\\accounting2\\TransactionService.ts:290:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (D:\\pharmacy-pos\\backend\\services\\accounting2\\__tests__\\TransactionService.test.ts:413:7)","timestamp":"2025-10-09 10:12:29:1229"}
[31m"\x1B[31m'error'\x1B[39m"[39m: [31m'蝣箄?鈭斗?蝢斤??航炊: 撌脣?瘨?鈭斗??⊥?蝣箄?'[39m {"stack":"Error: 撌脣?瘨?鈭斗??⊥?蝣箄?\n    at Function.confirmTransactionGroup (D:\\pharmacy-pos\\backend\\services\\accounting2\\TransactionService.ts:294:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (D:\\pharmacy-pos\\backend\\services\\accounting2\\__tests__\\TransactionService.test.ts:424:7)","timestamp":"2025-10-09 10:12:29:1229"}
[31m"\x1B[31m'error'\x1B[39m"[39m: [31m'蝣箄?鈭斗?蝢斤??航炊: 鈭斗?蝢斤?敹?????蝣箄?'[39m {"stack":"Error: 鈭斗?蝢斤?敹?????蝣箄?\n    at Function.confirmTransactionGroup (D:\\pharmacy-pos\\backend\\services\\accounting2\\TransactionService.ts:299:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (D:\\pharmacy-pos\\backend\\services\\accounting2\\__tests__\\TransactionService.test.ts:439:7)","timestamp":"2025-10-09 10:12:29:1229"}
[31m"\x1B[31m'error'\x1B[39m"[39m: [31m'蝣箄?鈭斗?蝢斤??航炊: 鈭斗??硫銝像銵∴?? 1000嚗硫??500'[39m {"stack":"Error: 鈭斗??硫銝像銵∴?? 1000嚗硫??500\n    at Function.confirmTransactionGroup (D:\\pharmacy-pos\\backend\\services\\accounting2\\TransactionService.ts:307:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (D:\\pharmacy-pos\\backend\\services\\accounting2\\__tests__\\TransactionService.test.ts:457:7)","timestamp":"2025-10-09 10:12:29:1229"}
[31m"\x1B[31m'error'\x1B[39m"[39m: [31m'??鈭斗?蝢斤??航炊: 鈭斗?蝢斤?銝??冽??⊥?????[39m {"stack":"Error: 鈭斗?蝢斤?銝??冽??⊥????n    at Function.cancelTransactionGroup (D:\\pharmacy-pos\\backend\\services\\accounting2\\TransactionService.ts:352:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (D:\\pharmacy-pos\\backend\\services\\accounting2\\__tests__\\TransactionService.test.ts:495:7)","timestamp":"2025-10-09 10:12:29:1229"}
[31m"\x1B[31m'error'\x1B[39m"[39m: [31m'??鈭斗?蝢斤??航炊: 鈭斗?蝢斤?撌脩???'[39m {"stack":"Error: 鈭斗?蝢斤?撌脩???\n    at Function.cancelTransactionGroup (D:\\pharmacy-pos\\backend\\services\\accounting2\\TransactionService.ts:356:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (D:\\pharmacy-pos\\backend\\services\\accounting2\\__tests__\\TransactionService.test.ts:506:7)","timestamp":"2025-10-09 10:12:29:1229"}
[31m"\x1B[31m'error'\x1B[39m"[39m: [31m'??鈭斗?蝢斤??航炊: ?⊥???鈭斗?嚗? 2 蝑漱???冽迨鈭斗?'[39m {"stack":"Error: ?⊥???鈭斗?嚗? 2 蝑漱???冽迨鈭斗?\n    at Function.cancelTransactionGroup (D:\\pharmacy-pos\\backend\\services\\accounting2\\TransactionService.ts:367:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (D:\\pharmacy-pos\\backend\\services\\accounting2\\__tests__\\TransactionService.test.ts:520:7)","timestamp":"2025-10-09 10:12:29:1229"}
[31m"\x1B[31m'error'\x1B[39m"[39m: [31m'閮?鈭斗?擗??航炊: 鈭斗?銝??具蝣箄??甈?摮?'[39m {"stack":"Error: 鈭斗?銝??具蝣箄??甈?摮?\n    at Function.calculateTransactionBalance (D:\\pharmacy-pos\\backend\\services\\accounting2\\TransactionService.ts:501:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (D:\\pharmacy-pos\\backend\\services\\accounting2\\__tests__\\TransactionService.test.ts:570:7)","timestamp":"2025-10-09 10:12:29:1229"}
[31m"\x1B[31m'error'\x1B[39m"[39m: [31m'蝻箏?????ID:'[39m {"existingAccountIds":[],"missingAccountIds":["nonexistent"],"queryConditions":{"uniqueAccountIds":["nonexistent"],"userId":"user123"},"timestamp":"2025-10-09 10:12:29:1229"}
[33m"\x1B[33m'warn'\x1B[39m"[39m: [33m'銝?渡???憿?:'[39m {"entryType":"invalid-format","timestamp":"2025-10-09 10:12:36:1236"}
[31m"\x1B[31m'error'\x1B[39m"[39m: [31m'?萄遣?芸???????隤? ?典???蝘銝???[39m {"stack":"Error: ?典???蝘銝??沔n    at Function.getAccountDetails (D:\\pharmacy-pos\\backend\\services\\AutoAccountingEntryService.ts:210:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Function.handlePurchaseOrderCompletion (D:\\pharmacy-pos\\backend\\services\\AutoAccountingEntryService.ts:30:24)\n    at Object.<anonymous> (D:\\pharmacy-pos\\backend\\services\\__tests__\\AutoAccountingEntryService.test.ts:241:7)","timestamp":"2025-10-09 10:12:36:1236"}
[33m"\x1B[33m'warn'\x1B[39m"[39m: [33m'?⊥??寞????澆??曉??硫蝘:'[39m {"entryType":"expense-asset","timestamp":"2025-10-09 10:12:36:1236"}
  console.error
    ?脣????桐??蔭憭望?: Error: Database error
        at Object.<anonymous> (D:\pharmacy-pos\backend\controllers\__tests__\packageUnits.test.ts:96:71)
        at Promise.then.completed (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:316:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)

    [0m [90m 44 |[39m       
     [90m 45 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 46 |[39m       console[33m.[39merror([32m'?脣????桐??蔭憭望?:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 47 |[39m       res[33m.[39mstatus([35m500[39m)[33m.[39mjson({
     [90m 48 |[39m         success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 49 |[39m         error[33m:[39m [32m'???典?券隤?[39m[33m,[39m[0m

      at getPackageUnits (controllers/packageUnits.ts:46:15)

  console.error
    閮???蝘擗??航炊: Error: ??蝘銝???        at Function.calculateAccountBalance (D:\pharmacy-pos\backend\services\accountBalanceService.ts:28:15)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at Object.<anonymous> (D:\pharmacy-pos\backend\services\__tests__\AccountBalanceService.test.ts:142:7)

    [0m [90m 82 |[39m       }[33m;[39m
     [90m 83 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 84 |[39m       console[33m.[39merror([32m'閮???蝘擗??航炊:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 85 |[39m       [36mthrow[39m error[33m;[39m
     [90m 86 |[39m     }
     [90m 87 |[39m   }[0m

      at Function.error [as calculateAccountBalance] (services/accountBalanceService.ts:84:15)
      at Object.<anonymous> (services/__tests__/AccountBalanceService.test.ts:142:7)

  console.error
    ?寥?閮???蝘擗??航炊: Error: 閮??航炊
        at Object.<anonymous> (D:\pharmacy-pos\backend\services\__tests__\AccountBalanceService.test.ts:183:28)
        at Promise.then.completed (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:316:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)

    [0m [90m 108 |[39m       [36mreturn[39m balances[33m;[39m
     [90m 109 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 110 |[39m       console[33m.[39merror([32m'?寥?閮???蝘擗??航炊:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 111 |[39m       [36mthrow[39m error[33m;[39m
     [90m 112 |[39m     }
     [90m 113 |[39m   }[0m

      at Function.error [as calculateMultipleAccountBalances] (services/accountBalanceService.ts:110:15)
      at Object.<anonymous> (services/__tests__/AccountBalanceService.test.ts:185:7)

  console.error
    閮???蝘擗??航炊: Error: 鞈?摨恍?憭望?
        at Object.<anonymous> (D:\pharmacy-pos\backend\services\__tests__\AccountBalanceService.test.ts:458:64)
        at Promise.then.completed (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:316:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)

    [0m [90m 82 |[39m       }[33m;[39m
     [90m 83 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 84 |[39m       console[33m.[39merror([32m'閮???蝘擗??航炊:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 85 |[39m       [36mthrow[39m error[33m;[39m
     [90m 86 |[39m     }
     [90m 87 |[39m   }[0m

      at Function.error [as calculateAccountBalance] (services/accountBalanceService.ts:84:15)
      at Object.<anonymous> (services/__tests__/AccountBalanceService.test.ts:460:7)

  console.error
    ???桅???蝞?憿隤? Error: ?亥岷憭望?
        at Object.<anonymous> (D:\pharmacy-pos\backend\services\__tests__\AccountBalanceService.test.ts:465:60)
        at Promise.then.completed (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:316:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)

    [0m [90m 160 |[39m       }[33m;[39m
     [90m 161 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 162 |[39m       console[33m.[39merror([32m'???桅???蝞?憿隤?'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 163 |[39m       [36mthrow[39m error[33m;[39m
     [90m 164 |[39m     }
     [90m 165 |[39m   }[0m

      at Function.error [as calculateBalanceByAccountType] (services/accountBalanceService.ts:162:15)
      at Object.<anonymous> (services/__tests__/AccountBalanceService.test.ts:467:7)

  console.error
    ??閰衣?銵券隤? Error: 閮??航炊
        at Object.<anonymous> (D:\pharmacy-pos\backend\services\__tests__\AccountBalanceService.test.ts:473:28)
        at Promise.then.completed (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:316:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)

    [0m [90m 223 |[39m       }[33m;[39m
     [90m 224 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 225 |[39m       console[33m.[39merror([32m'??閰衣?銵券隤?'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 226 |[39m       [36mthrow[39m error[33m;[39m
     [90m 227 |[39m     }
     [90m 228 |[39m   }[0m

      at Function.error [as generateTrialBalance] (services/accountBalanceService.ts:225:15)
      at Object.<anonymous> (services/__tests__/AccountBalanceService.test.ts:475:7)

  console.error
    ?脣???蝘鈭斗?甇瑕?航炊: Error: ?亥岷憭望?
        at Function.<anonymous> (D:\pharmacy-pos\backend\services\__tests__\AccountBalanceService.test.ts:481:15)
        at D:\pharmacy-pos\node_modules\.pnpm\jest-mock@29.7.0\node_modules\jest-mock\build\index.js:397:39
        at Function.<anonymous> (D:\pharmacy-pos\node_modules\.pnpm\jest-mock@29.7.0\node_modules\jest-mock\build\index.js:404:13)
        at Function.mockConstructor (D:\pharmacy-pos\node_modules\.pnpm\jest-mock@29.7.0\node_modules\jest-mock\build\index.js:148:19)
        at Function.find (eval at _createMockFunction (D:\pharmacy-pos\node_modules\.pnpm\jest-mock@29.7.0\node_modules\jest-mock\build\index.js:566:31), <anonymous>:3:50)
        at Function.find [as getAccountTransactionHistory] (D:\pharmacy-pos\backend\services\accountBalanceService.ts:261:45)
        at Object.<anonymous> (D:\pharmacy-pos\backend\services\__tests__\AccountBalanceService.test.ts:484:42)
        at Promise.then.completed (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:316:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)

    [0m [90m 301 |[39m       }[33m;[39m
     [90m 302 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 303 |[39m       console[33m.[39merror([32m'?脣???蝘鈭斗?甇瑕?航炊:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 304 |[39m       [36mthrow[39m error[33m;[39m
     [90m 305 |[39m     }
     [90m 306 |[39m   }[0m

      at Function.error [as getAccountTransactionHistory] (services/accountBalanceService.ts:303:15)
      at Object.<anonymous> (services/__tests__/AccountBalanceService.test.ts:484:42)

[31m[31merror[31m[39m: [31m撱箇?鈭斗??航炊[39m {"error":"Database error","timestamp":"2025-10-09 10:12:42:1242"}
  console.log
    ?? GET /accounting-entries/by-account - ?亥岷?: {
      accountId: '507f1f77bcf86cd799439011',
      organizationId: '507f1f77bcf86cd799439012',
      startDate: '2024-01-01',
      endDate: '2024-12-31',
      page: '1',
      limit: '10',
      userId: 'user-1'
    }

      at log (routes/accountingEntries.ts:52:13)

  console.log
    ?? ?亥岷蝯??賊?: 2 / 2

      at log (routes/accountingEntries.ts:88:13)

  console.log
    ?? GET /accounting-entries/by-account - ?亥岷?: {
      accountId: '507f1f77bcf86cd799439011',
      organizationId: undefined,
      startDate: undefined,
      endDate: undefined,
      page: 1,
      limit: 100,
      userId: 'user-1'
    }

      at log (routes/accountingEntries.ts:52:13)

  console.error
    ?脣?蝘??憭望?: Error: db failure
        at Object.<anonymous> (D:\pharmacy-pos\backend\test\routes\accountingEntries.test.ts:123:63)
        at D:\pharmacy-pos\node_modules\.pnpm\jest-mock@29.7.0\node_modules\jest-mock\build\index.js:397:39
        at Object.<anonymous> (D:\pharmacy-pos\node_modules\.pnpm\jest-mock@29.7.0\node_modules\jest-mock\build\index.js:404:13)
        at Object.mockConstructor [as find] (D:\pharmacy-pos\node_modules\.pnpm\jest-mock@29.7.0\node_modules\jest-mock\build\index.js:148:19)
        at find (D:\pharmacy-pos\backend\routes\accountingEntries.ts:78:43)
        at Layer.handle [as handle_request] (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\layer.js:95:5)
        at next (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\route.js:149:13)
        at D:\pharmacy-pos\backend\test\routes\accountingEntries.test.ts:13:5
        at D:\pharmacy-pos\node_modules\.pnpm\jest-mock@29.7.0\node_modules\jest-mock\build\index.js:397:39
        at D:\pharmacy-pos\node_modules\.pnpm\jest-mock@29.7.0\node_modules\jest-mock\build\index.js:404:13
        at mockConstructor (D:\pharmacy-pos\node_modules\.pnpm\jest-mock@29.7.0\node_modules\jest-mock\build\index.js:113:19)
        at Layer.handle [as handle_request] (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\layer.js:95:5)
        at next (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\layer.js:95:5)
        at D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:284:15
        at param (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:365:14)
        at param (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:376:14)
        at Function.process_params (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:421:3)
        at next (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:280:10)
        at Function.handle (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:175:3)
        at router (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:328:13)
        at D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:286:9
        at Function.process_params (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:346:12)
        at next (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:280:10)
        at jsonParser (D:\pharmacy-pos\node_modules\.pnpm\body-parser@1.20.3\node_modules\body-parser\lib\types\json.js:113:7)
        at Layer.handle [as handle_request] (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:328:13)
        at D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:286:9
        at Function.process_params (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:346:12)
        at next (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:280:10)
        at expressInit (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\middleware\init.js:40:5)
        at Layer.handle [as handle_request] (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:328:13)
        at D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:286:9
        at Function.process_params (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:346:12)
        at next (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:280:10)
        at query (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\middleware\query.js:45:5)
        at Layer.handle [as handle_request] (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:328:13)
        at D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:286:9
        at Function.process_params (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:346:12)
        at next (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:280:10)
        at Function.handle (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\router\index.js:175:3)
        at Function.handle (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\application.js:181:10)
        at Server.app (D:\pharmacy-pos\node_modules\.pnpm\express@4.21.2\node_modules\express\lib\express.js:39:9)
        at Server.emit (node:events:518:28)
        at parserOnIncoming (node:_http_server:1153:12)
        at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

    [0m [90m 176 |[39m     })[33m;[39m
     [90m 177 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 178 |[39m     console[33m.[39merror([32m'?脣?蝘??憭望?:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 179 |[39m     res[33m.[39mstatus([35m500[39m)[33m.[39mjson({
     [90m 180 |[39m       success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 181 |[39m       message[33m:[39m [32m'?脣?蝘??憭望?'[39m[0m

      at error (routes/accountingEntries.ts:178:13)
      at Layer.handle [as handle_request] (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
      at next (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/route.js:149:13)
      at test/routes/accountingEntries.test.ts:13:5
      at Layer.handle [as handle_request] (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
      at next (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
      at ../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:284:15
      at param (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:365:14)
      at param (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:376:14)
      at Function.process_params (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:421:3)
      at next (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:280:10)
      at Function.handle (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:175:3)
      at router (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:328:13)
      at ../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:286:9
      at Function.process_params (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:346:12)
      at next (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:280:10)
      at jsonParser (../node_modules/.pnpm/body-parser@1.20.3/node_modules/body-parser/lib/types/json.js:113:7)
      at Layer.handle [as handle_request] (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:328:13)
      at ../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:286:9
      at Function.process_params (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:346:12)
      at next (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:280:10)
      at expressInit (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/middleware/init.js:40:5)
      at Layer.handle [as handle_request] (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:328:13)
      at ../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:286:9
      at Function.process_params (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:346:12)
      at next (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:280:10)
      at query (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/middleware/query.js:45:5)
      at Layer.handle [as handle_request] (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:328:13)
      at ../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:286:9
      at Function.process_params (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:346:12)
      at next (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:280:10)
      at Function.handle (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/index.js:175:3)
      at Function.handle (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/application.js:181:10)
      at Server.app (../node_modules/.pnpm/express@4.21.2/node_modules/express/lib/express.js:39:9)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    No token provided in request

      at log (middleware/auth.ts:57:13)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    No token provided in request

      at log (middleware/auth.ts:57:13)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    No token provided in request

      at log (middleware/auth.ts:57:13)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode token detected, bypassing JWT verification

      at log (middleware/auth.ts:69:13)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    Test mode enabled: true

      at log (middleware/auth.ts:53:11)

  console.log
    No token provided in request

      at log (middleware/auth.ts:57:13)

  console.log
    頝喲?銝摨怠??Ｗ???FIFO ??: 68e71a23bdb08f789f430ba5, 憿?: sale-no-stock, ??蝞??? 250

      at log (utils/fifoCalculator.ts:415:15)
          at Array.forEach (<anonymous>)

  console.log
    瘝??箄疏閮?嚗?????澈摮?株???
      at log (utils/fifoCalculator.ts:535:15)

  console.log
    頝喲?銝摨怠??Ｗ???FIFO ??: 68e71a23bdb08f789f430bb1, 憿?: sale-no-stock, ??蝞??? 250

      at log (utils/fifoCalculator.ts:415:15)
          at Array.forEach (<anonymous>)

  console.log
    瘝??箄疏閮?嚗?????澈摮?株???
      at log (utils/fifoCalculator.ts:535:15)

  console.error
    FIFO閮??航炊: Error: inventories ?敹??臭????        at calculateProductFIFO (D:\pharmacy-pos\backend\utils\fifoCalculator.ts:489:13)
        at Object.<anonymous> (D:\pharmacy-pos\backend\utils\__tests__\fifoCalculator.test.ts:549:42)
        at Promise.then.completed (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:316:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)

    [0m [90m 622 |[39m     }[33m;[39m
     [90m 623 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 624 |[39m     console[33m.[39merror([32m'FIFO閮??航炊:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 625 |[39m     [36mreturn[39m {
     [90m 626 |[39m       success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 627 |[39m       error[33m:[39m error [36minstanceof[39m [33mError[39m [33m?[39m error[33m.[39mmessage [33m:[39m [32m'?芰?航炊'[39m[0m

      at error (utils/fifoCalculator.ts:624:13)
      at Object.<anonymous> (utils/__tests__/fifoCalculator.test.ts:549:42)

  console.log
    Disconnected from test database

      at disconnectDB (test/integration/paymentFlow.test.ts:143:11)

  console.error
    餈質馱鞈?雿輻???航炊: Error: 靘?鈭斗?銝??冽??⊥?????        at Function.trackFundingUsage (D:\pharmacy-pos\backend\services\accounting2\FundingService.ts:43:15)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at Object.<anonymous> (D:\pharmacy-pos\backend\services\accounting2\__tests__\FundingService.test.ts:89:7)

    [0m [90m  99 |[39m       }[33m;[39m
     [90m 100 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 101 |[39m       console[33m.[39merror([32m'餈質馱鞈?雿輻???航炊:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 102 |[39m       [36mthrow[39m error[33m;[39m
     [90m 103 |[39m     }
     [90m 104 |[39m   }[0m

      at Function.error [as trackFundingUsage] (services/accounting2/FundingService.ts:101:15)
      at Object.<anonymous> (services/accounting2/__tests__/FundingService.test.ts:89:7)

  console.error
    撱箇?鞈????航炊: Error: ?格?鈭斗?銝??冽??⊥?????        at Function.createFundingAllocation (D:\pharmacy-pos\backend\services\accounting2\FundingService.ts:235:15)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at Object.<anonymous> (D:\pharmacy-pos\backend\services\accounting2\__tests__\FundingService.test.ts:254:7)

    [0m [90m 292 |[39m       }[33m;[39m
     [90m 293 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 294 |[39m       console[33m.[39merror([32m'撱箇?鞈????航炊:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 295 |[39m       [36mthrow[39m error[33m;[39m
     [90m 296 |[39m     }
     [90m 297 |[39m   }[0m

      at Function.error [as createFundingAllocation] (services/accounting2/FundingService.ts:294:15)
      at Object.<anonymous> (services/accounting2/__tests__/FundingService.test.ts:254:7)

  console.error
    撱箇?鞈????航炊: Error: 撌脩Ⅱ隤?鈭斗??⊥?靽格鞈???
        at Function.createFundingAllocation (D:\pharmacy-pos\backend\services\accounting2\FundingService.ts:239:15)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at Object.<anonymous> (D:\pharmacy-pos\backend\services\accounting2\__tests__\FundingService.test.ts:268:7)

    [0m [90m 292 |[39m       }[33m;[39m
     [90m 293 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 294 |[39m       console[33m.[39merror([32m'撱箇?鞈????航炊:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 295 |[39m       [36mthrow[39m error[33m;[39m
     [90m 296 |[39m     }
     [90m 297 |[39m   }[0m

      at Function.error [as createFundingAllocation] (services/accounting2/FundingService.ts:294:15)
      at Object.<anonymous> (services/accounting2/__tests__/FundingService.test.ts:268:7)

  console.error
    撱箇?鞈????航炊: Error: 鞈????? 500 頞??舐?? 200 (靘?: TXN001)
        at Function.createFundingAllocation (D:\pharmacy-pos\backend\services\accounting2\FundingService.ts:258:17)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at Object.<anonymous> (D:\pharmacy-pos\backend\services\accounting2\__tests__\FundingService.test.ts:298:7)

    [0m [90m 292 |[39m       }[33m;[39m
     [90m 293 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 294 |[39m       console[33m.[39merror([32m'撱箇?鞈????航炊:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 295 |[39m       [36mthrow[39m error[33m;[39m
     [90m 296 |[39m     }
     [90m 297 |[39m   }[0m

      at Function.error [as createFundingAllocation] (services/accounting2/FundingService.ts:294:15)
      at Object.<anonymous> (services/accounting2/__tests__/FundingService.test.ts:298:7)

  console.error
    撽?鞈????航炊: Error: 鈭斗?銝??冽??⊥?????        at Function.validateFundingAllocation (D:\pharmacy-pos\backend\services\accounting2\FundingService.ts:427:15)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at Object.<anonymous> (D:\pharmacy-pos\backend\services\accounting2\__tests__\FundingService.test.ts:437:7)

    [0m [90m 493 |[39m       }[33m;[39m
     [90m 494 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 495 |[39m       console[33m.[39merror([32m'撽?鞈????航炊:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 496 |[39m       [36mthrow[39m error[33m;[39m
     [90m 497 |[39m     }
     [90m 498 |[39m   }[0m

      at Function.error [as validateFundingAllocation] (services/accounting2/FundingService.ts:495:15)
      at Object.<anonymous> (services/accounting2/__tests__/FundingService.test.ts:437:7)

  console.log
    ?? ??蝘擗???: { organizationId: 'org-1' }

      at log (routes/accountBalances.ts:36:13)

  console.log
    ?? ?曉蝘?賊?: 2

      at log (routes/accountBalances.ts:44:13)

  console.log
    ??蝘擗???閮?摰?

      at log (routes/accountBalances.ts:94:13)

  console.log
    ?? ??蝘擗???: { organizationId: undefined }

      at log (routes/accountBalances.ts:36:13)

  console.error
    ????蝘擗???憭望?: Error: db failure
        at Object.<anonymous> (D:\pharmacy-pos\backend\test\routes\accountBalances.test.ts:114:50)
        at Promise.then.completed (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:316:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)

    [0m [90m 102 |[39m
     [90m 103 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 104 |[39m     console[33m.[39merror([32m'????蝘擗???憭望?:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 105 |[39m     res[33m.[39mstatus([35m500[39m)[33m.[39mjson({
     [90m 106 |[39m       message[33m:[39m [32m'??蝘擗???憭望?'[39m[33m,[39m
     [90m 107 |[39m       error[33m:[39m error [36minstanceof[39m [33mError[39m [33m?[39m error[33m.[39mmessage [33m:[39m [32m'?芰?航炊'[39m[0m

      at error (routes/accountBalances.ts:104:13)

  console.log
    ?妙 ??閮?蝘擗?: { accountId: 'acc-3', organizationId: 'org-2' }

      at log (routes/accountBalances.ts:118:13)

  console.log
    ?? ?曉???賊?: 2

      at log (routes/accountBalances.ts:133:13)

  console.log
    ? 擗?閮?蝯?: {
      accountCode: '3001',
      accountName: 'Inventory',
      initialBalance: 200,
      debitTotal: 90,
      creditTotal: 25,
      actualBalance: 265,
      normalBalance: 'debit'
    }

      at log (routes/accountBalances.ts:155:13)

  console.log
    ?妙 ??閮?蝘擗?: { accountId: 'missing-account', organizationId: undefined }

      at log (routes/accountBalances.ts:118:13)

  console.log
    ?妙 ?寥?閮?蝘擗?: { accountIds: undefined, organizationId: undefined }

      at log (routes/accountBalances.ts:192:13)

  console.log
    ?妙 ?寥?閮?蝘擗?: { accountIds: 3, organizationId: 'org-3' }

      at log (routes/accountBalances.ts:192:13)

  console.warn
    ?? 蝘銝??? missing

    [0m [90m 204 |[39m         [36mconst[39m account [33m=[39m [36mawait[39m [33mAccount2[39m[33m.[39mfindById(accountId)[33m;[39m
     [90m 205 |[39m         [36mif[39m ([33m![39maccount) {
    [31m[1m>[22m[39m[90m 206 |[39m           console[33m.[39mwarn([32m'?? 蝘銝???'[39m[33m,[39m accountId)[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 207 |[39m           [36mcontinue[39m[33m;[39m
     [90m 208 |[39m         }
     [90m 209 |[39m[0m

      at warn (routes/accountBalances.ts:206:19)

  console.log
    ???寥?閮?摰?嚗???蝞? 2

      at log (routes/accountBalances.ts:255:13)

  console.error
    ?亥岷鈭斗?蝢斤??航炊: Error: db down
        at Object.<anonymous> (D:\pharmacy-pos\backend\test\utils\transactionValidationHelpers.test.ts:107:21)
        at Promise.then.completed (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:316:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)

    [0m [90m 75 |[39m     [36mreturn[39m transactionGroup[33m;[39m
     [90m 76 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 77 |[39m     console[33m.[39merror([32m'?亥岷鈭斗?蝢斤??航炊:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 78 |[39m     sendErrorResponse(res[33m,[39m [35m500[39m[33m,[39m [32m'?亥岷鈭斗?蝢斤?憭望?'[39m)[33m;[39m
     [90m 79 |[39m     [36mreturn[39m [36mnull[39m[33m;[39m
     [90m 80 |[39m   }[0m

      at Object.error [as findAndValidateTransactionGroup] (utils/transactionValidationHelpers.ts:77:13)
      at Object.<anonymous> (test/utils/transactionValidationHelpers.test.ts:111:22)

  console.error
    ??鈭斗??膩撽?憭望?: { description: '  ', type: 'string' }

    [0m [90m 239 |[39m   [90m// 撽??膩[39m
     [90m 240 |[39m   [36mif[39m ([33m![39mdescription [33m||[39m [36mtypeof[39m description [33m!==[39m [32m'string'[39m [33m||[39m description[33m.[39mtrim() [33m===[39m [32m''[39m) {
    [31m[1m>[22m[39m[90m 241 |[39m     console[33m.[39merror([32m'??鈭斗??膩撽?憭望?:'[39m[33m,[39m { description[33m,[39m type[33m:[39m [36mtypeof[39m description })[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 242 |[39m     sendErrorResponse(res[33m,[39m [35m400[39m[33m,[39m [32m'鈭斗??膩銝?箇征'[39m)[33m;[39m
     [90m 243 |[39m     [36mreturn[39m [36mfalse[39m[33m;[39m
     [90m 244 |[39m   }[0m

      at Object.error [as validateBasicTransactionData] (utils/transactionValidationHelpers.ts:241:13)
      at Object.<anonymous> (test/utils/transactionValidationHelpers.test.ts:235:26)

  console.error
    ??鈭斗??交??澆??航炊: { transactionDate: 'bad', parsedDate: Invalid Date }

    [0m [90m 254 |[39m   [36mconst[39m parsedDate [33m=[39m [36mnew[39m [33mDate[39m(transactionDate)[33m;[39m
     [90m 255 |[39m   [36mif[39m (isNaN(parsedDate[33m.[39mgetTime())) {
    [31m[1m>[22m[39m[90m 256 |[39m     console[33m.[39merror([32m'??鈭斗??交??澆??航炊:'[39m[33m,[39m { transactionDate[33m,[39m parsedDate })[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 257 |[39m     sendErrorResponse(res[33m,[39m [35m400[39m[33m,[39m [32m'鈭斗??交??澆??航炊'[39m)[33m;[39m
     [90m 258 |[39m     [36mreturn[39m [36mfalse[39m[33m;[39m
     [90m 259 |[39m   }[0m

      at Object.error [as validateBasicTransactionData] (utils/transactionValidationHelpers.ts:256:13)
      at Object.<anonymous> (test/utils/transactionValidationHelpers.test.ts:241:26)

  console.error
    ?????賊?銝雲: { entriesLength: 1 }

    [0m [90m 272 |[39m   [90m// 撽????賊?[39m
     [90m 273 |[39m   [36mif[39m (entries[33m.[39mlength [33m<[39m [35m2[39m) {
    [31m[1m>[22m[39m[90m 274 |[39m     console[33m.[39merror([32m'?????賊?銝雲:'[39m[33m,[39m { entriesLength[33m:[39m entries[33m.[39mlength })[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 275 |[39m     sendErrorResponse(res[33m,[39m [35m400[39m[33m,[39m [32m'銴?閮董?喳??閬蝑???[39m)[33m;[39m
     [90m 276 |[39m     [36mreturn[39m [36mfalse[39m[33m;[39m
     [90m 277 |[39m   }[0m

      at Object.error [as validateBasicTransactionData] (utils/transactionValidationHelpers.ts:274:13)
      at Object.<anonymous> (test/utils/transactionValidationHelpers.test.ts:247:26)

  console.error
    ??Load?航炊: Error: boom
        at Object.<anonymous> (D:\pharmacy-pos\backend\test\utils\transactionValidationHelpers.test.ts:265:21)
        at Promise.then.completed (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:316:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)

    [0m [90m 286 |[39m   operation[33m:[39m string
     [90m 287 |[39m )[33m:[39m [36mvoid[39m [33m=>[39m {
    [31m[1m>[22m[39m[90m 288 |[39m   console[33m.[39merror([32m`??${operation}?航炊:`[39m[33m,[39m error)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 289 |[39m   console[33m.[39merror([32m'???航炊??:'[39m[33m,[39m error [36minstanceof[39m [33mError[39m [33m?[39m error[33m.[39mstack [33m:[39m [32m'Unknown error'[39m)[33m;[39m
     [90m 290 |[39m   console[33m.[39merror([32m'???航炊閰單?:'[39m[33m,[39m {
     [90m 291 |[39m     name[33m:[39m error [36minstanceof[39m [33mError[39m [33m?[39m error[33m.[39mname [33m:[39m [32m'Unknown'[39m[33m,[39m[0m

      at Object.error [as handleRouteError] (utils/transactionValidationHelpers.ts:288:11)
      at Object.<anonymous> (test/utils/transactionValidationHelpers.test.ts:266:15)

  console.error
    ???航炊??: Error: boom
        at Object.<anonymous> (D:\pharmacy-pos\backend\test\utils\transactionValidationHelpers.test.ts:265:21)
        at Promise.then.completed (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:316:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)

    [0m [90m 287 |[39m )[33m:[39m [36mvoid[39m [33m=>[39m {
     [90m 288 |[39m   console[33m.[39merror([32m`??${operation}?航炊:`[39m[33m,[39m error)[33m;[39m
    [31m[1m>[22m[39m[90m 289 |[39m   console[33m.[39merror([32m'???航炊??:'[39m[33m,[39m error [36minstanceof[39m [33mError[39m [33m?[39m error[33m.[39mstack [33m:[39m [32m'Unknown error'[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 290 |[39m   console[33m.[39merror([32m'???航炊閰單?:'[39m[33m,[39m {
     [90m 291 |[39m     name[33m:[39m error [36minstanceof[39m [33mError[39m [33m?[39m error[33m.[39mname [33m:[39m [32m'Unknown'[39m[33m,[39m
     [90m 292 |[39m     message[33m:[39m error [36minstanceof[39m [33mError[39m [33m?[39m error[33m.[39mmessage [33m:[39m [33mString[39m(error)[33m,[39m[0m

      at Object.error [as handleRouteError] (utils/transactionValidationHelpers.ts:289:11)
      at Object.<anonymous> (test/utils/transactionValidationHelpers.test.ts:266:15)

  console.error
    ???航炊閰單?: {
      name: 'Error',
      message: 'boom',
      code: undefined,
      keyPattern: undefined,
      keyValue: undefined
    }

    [0m [90m 288 |[39m   console[33m.[39merror([32m`??${operation}?航炊:`[39m[33m,[39m error)[33m;[39m
     [90m 289 |[39m   console[33m.[39merror([32m'???航炊??:'[39m[33m,[39m error [36minstanceof[39m [33mError[39m [33m?[39m error[33m.[39mstack [33m:[39m [32m'Unknown error'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 290 |[39m   console[33m.[39merror([32m'???航炊閰單?:'[39m[33m,[39m {
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 291 |[39m     name[33m:[39m error [36minstanceof[39m [33mError[39m [33m?[39m error[33m.[39mname [33m:[39m [32m'Unknown'[39m[33m,[39m
     [90m 292 |[39m     message[33m:[39m error [36minstanceof[39m [33mError[39m [33m?[39m error[33m.[39mmessage [33m:[39m [33mString[39m(error)[33m,[39m
     [90m 293 |[39m     code[33m:[39m (error [36mas[39m any)[33m?[39m[33m.[39mcode[33m,[39m[0m

      at Object.error [as handleRouteError] (utils/transactionValidationHelpers.ts:290:11)
      at Object.<anonymous> (test/utils/transactionValidationHelpers.test.ts:266:15)

  console.log
    [OrderGen] ???交??韌: SO20240315

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:84:15)

  console.log
    [OrderGen] 雿輻?亥岷甇??銵券?撘? ^SO20240315[0-9]{3}$

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:90:15)

  console.log
    [OrderGen] ?曉 0 ?泵??隞嗥?閮??
      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:99:15)

  console.log
    [OrderGen] ?芣?啁憭抵??殷?雿輻暺?韏瑕??? 1

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:127:17)

  console.log
    [OrderGen] ??閮?? SO20240315001 (?交??韌: SO20240315, ?嗅?摨?: 1, ?澆????? 001)

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:143:15)

  console.log
    [OrderGen] ???交??韌: SO20240315

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:84:15)

  console.log
    [OrderGen] 雿輻?亥岷甇??銵券?撘? ^SO20240315[0-9]{3}$

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:90:15)

  console.log
    [OrderGen] ?曉 1 ?泵??隞嗥?閮??
      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:99:15)

  console.log
    [OrderGen] ???????? [5]

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:113:17)

  console.log
    [OrderGen] ?憭批??? 5

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:118:19)

  console.log
    [OrderGen] 摨?憓??? 6

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:122:19)

  console.log
    [OrderGen] ??閮?? SO20240315006 (?交??韌: SO20240315, ?嗅?摨?: 6, ?澆????? 006)

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:143:15)

  console.log
    [OrderGen] ???交??韌: SO20240315

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:84:15)

  console.log
    [OrderGen] 雿輻?亥岷甇??銵券?撘? ^SO20240315[0-9]{3}$

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:90:15)

  console.log
    [OrderGen] ?曉 1 ?泵??隞嗥?閮??
      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:99:15)

  console.log
    [OrderGen] ???????? [999]

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:113:17)

  console.log
    [OrderGen] ?憭批??? 999

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:118:19)

  console.log
    [OrderGen] 摨?憓??? 1000

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:122:19)

  console.log
    [OrderGen] 摨???憭批?1000嚗?蝵桃: 1

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:134:17)

  console.log
    [OrderGen] ??閮?? SO20240315001 (?交??韌: SO20240315, ?嗅?摨?: 1, ?澆????? 001)

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:143:15)

  console.log
    [OrderGen] ???交??韌: SO20240315

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:84:15)

  console.log
    [OrderGen] 雿輻?亥岷甇??銵券?撘? ^SO20240315[0-9]{5}$

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:90:15)

  console.log
    [OrderGen] ?曉 0 ?泵??隞嗥?閮??
      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:99:15)

  console.log
    [OrderGen] ?芣?啁憭抵??殷?雿輻暺?韏瑕??? 1

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:127:17)

  console.log
    [OrderGen] ??閮?? SO2024031500001 (?交??韌: SO20240315, ?嗅?摨?: 1, ?澆????? 00001)

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:143:15)

  console.log
    [OrderGen] ???交??韌: SO20240315

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:84:15)

  console.log
    [OrderGen] 雿輻?亥岷甇??銵券?撘? ^SO20240315[0-9]{3}$

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:90:15)

  console.log
    [OrderGen] ?曉 1 ?泵??隞嗥?閮??
      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:99:15)

  console.log
    [OrderGen] ???????? [10]

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:113:17)

  console.log
    [OrderGen] ?憭批??? 10

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:118:19)

  console.log
    [OrderGen] 摨?憓??? 11

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:122:19)

  console.log
    [OrderGen] ??閮?? SO20240315011 (?交??韌: SO20240315, ?嗅?摨?: 11, ?澆????? 011)

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:143:15)

  console.log
    [OrderGen] ???交??韌: SO20240315

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:84:15)

  console.log
    [OrderGen] 雿輻?亥岷甇??銵券?撘? ^SO20240315[0-9]{3}$

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:90:15)

  console.log
    [OrderGen] ?曉 1 ?泵??隞嗥?閮??
      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:99:15)

  console.log
    [OrderGen] ???????? []

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:113:17)

  console.log
    [OrderGen] ?芣?唳?????雿輻暺?韏瑕??? 1

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:124:19)

  console.log
    [OrderGen] ??閮?? SO20240315001 (?交??韌: SO20240315, ?嗅?摨?: 1, ?澆????? 001)

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:143:15)

  console.log
    [OrderGen] ???交??韌: SO20240315

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:84:15)

  console.log
    [OrderGen] 雿輻?亥岷甇??銵券?撘? ^SO20240315[0-9]{3}$

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:90:15)

  console.error
    [OrderGen] ??閮???粹嚗?畾? "orderNumber", ?航炊: Database error

    [0m [90m 148 |[39m     } [36mcatch[39m (error) {
     [90m 149 |[39m       [36mconst[39m errorMessage [33m=[39m error [36minstanceof[39m [33mError[39m [33m?[39m error[33m.[39mmessage [33m:[39m [33mString[39m(error)[33m;[39m
    [31m[1m>[22m[39m[90m 150 |[39m       console[33m.[39merror([32m`[OrderGen] ??閮???粹嚗?畾? "${this.field}", ?航炊: ${errorMessage}`[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 151 |[39m       [90m// 霈?怨??隤歹????臬??喃????刻?蝣?[39m
     [90m 152 |[39m       [36mthrow[39m error[33m;[39m
     [90m 153 |[39m     }[0m

      at OrderNumberGenerator.error [as generate] (utils/OrderNumberGenerator.ts:150:15)
      at Object.<anonymous> (utils/__tests__/OrderNumberGenerator.test.ts:224:30)

  console.log
    [OrderGen] ???交??韌: SO20240315

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:84:15)

  console.log
    [OrderGen] 雿輻?亥岷甇??銵券?撘? ^SO20240315[0-9]{3}$

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:90:15)

  console.log
    [OrderGen] ?曉 0 ?泵??隞嗥?閮??
      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:99:15)

  console.log
    [OrderGen] ?芣?啁憭抵??殷?雿輻暺?韏瑕??? 100

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:127:17)

  console.log
    [OrderGen] ??閮?? SO20240315100 (?交??韌: SO20240315, ?嗅?摨?: 100, ?澆????? 100)

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:143:15)

  console.error
    [OrderGen] Error checking existence for "SO20240315001": Database error

    [0m [90m 168 |[39m     } [36mcatch[39m (error) {
     [90m 169 |[39m       [36mconst[39m errorMessage [33m=[39m error [36minstanceof[39m [33mError[39m [33m?[39m error[33m.[39mmessage [33m:[39m [33mString[39m(error)[33m;[39m
    [31m[1m>[22m[39m[90m 170 |[39m       console[33m.[39merror([32m`[OrderGen] Error checking existence for "${orderNumber}": ${errorMessage}`[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 171 |[39m       [36mthrow[39m error[33m;[39m
     [90m 172 |[39m     }
     [90m 173 |[39m   }[0m

      at OrderNumberGenerator.error [as exists] (utils/OrderNumberGenerator.ts:170:15)
      at Object.<anonymous> (utils/__tests__/OrderNumberGenerator.test.ts:267:30)

  console.error
    [OrderGen] Error checking existence for "SO20240315001": Database error

    [0m [90m 168 |[39m     } [36mcatch[39m (error) {
     [90m 169 |[39m       [36mconst[39m errorMessage [33m=[39m error [36minstanceof[39m [33mError[39m [33m?[39m error[33m.[39mmessage [33m:[39m [33mString[39m(error)[33m;[39m
    [31m[1m>[22m[39m[90m 170 |[39m       console[33m.[39merror([32m`[OrderGen] Error checking existence for "${orderNumber}": ${errorMessage}`[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 171 |[39m       [36mthrow[39m error[33m;[39m
     [90m 172 |[39m     }
     [90m 173 |[39m   }[0m

      at OrderNumberGenerator.error [as exists] (utils/OrderNumberGenerator.ts:170:15)
      at OrderNumberGenerator.exists [as generateUnique] (utils/OrderNumberGenerator.ts:184:33)
      at Object.<anonymous> (utils/__tests__/OrderNumberGenerator.test.ts:314:30)

  console.error
    [OrderGen] Error generating unique order number: Database error

    [0m [90m 203 |[39m       }
     [90m 204 |[39m       [36mconst[39m errorMessage [33m=[39m error [36minstanceof[39m [33mError[39m [33m?[39m error[33m.[39mmessage [33m:[39m [33mString[39m(error)[33m;[39m
    [31m[1m>[22m[39m[90m 205 |[39m       console[33m.[39merror([32m`[OrderGen] Error generating unique order number: ${errorMessage}`[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 206 |[39m       [36mthrow[39m error[33m;[39m
     [90m 207 |[39m     }
     [90m 208 |[39m   }[0m

      at OrderNumberGenerator.error [as generateUnique] (utils/OrderNumberGenerator.ts:205:15)
      at Object.<anonymous> (utils/__tests__/OrderNumberGenerator.test.ts:314:7)

  console.log
    [OrderGen] ???交??韌: SO20240101

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:84:15)

  console.log
    [OrderGen] 雿輻?亥岷甇??銵券?撘? ^SO20240101[0-9]{3}$

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:90:15)

  console.log
    [OrderGen] ?曉 0 ?泵??隞嗥?閮??
      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:99:15)

  console.log
    [OrderGen] ?芣?啁憭抵??殷?雿輻暺?韏瑕??? 1

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:127:17)

  console.log
    [OrderGen] ??閮?? SO20240101001 (?交??韌: SO20240101, ?嗅?摨?: 1, ?澆????? 001)

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:143:15)

  console.log
    [OrderGen] ???交??韌: SO20241231

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:84:15)

  console.log
    [OrderGen] 雿輻?亥岷甇??銵券?撘? ^SO20241231[0-9]{3}$

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:90:15)

  console.log
    [OrderGen] ?曉 0 ?泵??隞嗥?閮??
      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:99:15)

  console.log
    [OrderGen] ?芣?啁憭抵??殷?雿輻暺?韏瑕??? 1

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:127:17)

  console.log
    [OrderGen] ??閮?? SO20241231001 (?交??韌: SO20241231, ?嗅?摨?: 1, ?澆????? 001)

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:143:15)

  console.log
    [OrderGen] ???交??韌: SO20240229

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:84:15)

  console.log
    [OrderGen] 雿輻?亥岷甇??銵券?撘? ^SO20240229[0-9]{3}$

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:90:15)

  console.log
    [OrderGen] ?曉 0 ?泵??隞嗥?閮??
      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:99:15)

  console.log
    [OrderGen] ?芣?啁憭抵??殷?雿輻暺?韏瑕??? 1

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:127:17)

  console.log
    [OrderGen] ??閮?? SO20240229001 (?交??韌: SO20240229, ?嗅?摨?: 1, ?澆????? 001)

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:143:15)

  console.log
    [OrderGen] ???交??韌: PO240315

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:84:15)

  console.log
    [OrderGen] 雿輻?亥岷甇??銵券?撘? ^PO240315[0-9]{4}$

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:90:15)

  console.log
    [OrderGen] ?曉 0 ?泵??隞嗥?閮??
      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:99:15)

  console.log
    [OrderGen] ?芣?啁憭抵??殷?雿輻暺?韏瑕??? 1

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:127:17)

  console.log
    [OrderGen] ??閮?? PO2403150001 (?交??韌: PO240315, ?嗅?摨?: 1, ?澆????? 0001)

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:143:15)

  console.log
    [OrderGen] ???交??韌: 20240315

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:84:15)

  console.log
    [OrderGen] 雿輻?亥岷甇??銵券?撘? ^20240315[0-9]{5}$

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:90:15)

  console.log
    [OrderGen] ?曉 0 ?泵??隞嗥?閮??
      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:99:15)

  console.log
    [OrderGen] ?芣?啁憭抵??殷?雿輻暺?韏瑕??? 1

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:127:17)

  console.log
    [OrderGen] ??閮?? 2024031500001 (?交??韌: 20240315, ?嗅?摨?: 1, ?澆????? 00001)

      at OrderNumberGenerator.log [as generate] (utils/OrderNumberGenerator.ts:143:15)

  console.error
    Error caught by global handler: {
      message: 'Oops',
      stack: 'Error: Oops\n' +
        '    at Object.<anonymous> (D:\\pharmacy-pos\\backend\\test\\middleware\\errorHandler.test.ts:165:19)\n' +
        '    at Promise.then.completed (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\utils.js:298:28)\n' +
        '    at new Promise (<anonymous>)\n' +
        '    at callAsyncCircusFn (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\utils.js:231:10)\n' +
        '    at _callCircusTest (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:316:40)\n' +
        '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
        '    at _runTest (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:252:3)\n' +
        '    at _runTestsForDescribeBlock (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:126:9)\n' +
        '    at _runTestsForDescribeBlock (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:121:9)\n' +
        '    at _runTestsForDescribeBlock (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:121:9)\n' +
        '    at run (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:71:3)\n' +
        '    at runAndTransformResultsToJestFormat (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n' +
        '    at jestAdapter (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n' +
        '    at runTestInternal (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-runner@29.7.0\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n' +
        '    at runTest (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-runner@29.7.0\\node_modules\\jest-runner\\build\\runTest.js:444:34)',
      url: undefined,
      method: 'GET',
      ip: '127.0.0.1',
      userAgent: 'jest',
      timestamp: '2025-10-09T02:12:57.853Z'
    }

    [0m [90m 160 |[39m
     [90m 161 |[39m   [90m// 閮??航炊[39m
    [31m[1m>[22m[39m[90m 162 |[39m   console[33m.[39merror([32m'Error caught by global handler:'[39m[33m,[39m {
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 163 |[39m     message[33m:[39m err[33m.[39mmessage[33m,[39m
     [90m 164 |[39m     stack[33m:[39m err[33m.[39mstack[33m,[39m
     [90m 165 |[39m     url[33m:[39m req[33m.[39moriginalUrl[33m,[39m[0m

      at error (middleware/errorHandler.ts:162:11)
      at Object.<anonymous> (test/middleware/errorHandler.test.ts:167:25)

  console.error
    Error caught by global handler: {
      message: 'Oops',
      stack: 'Error: Oops\n' +
        '    at Object.<anonymous> (D:\\pharmacy-pos\\backend\\test\\middleware\\errorHandler.test.ts:175:19)\n' +
        '    at Promise.then.completed (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\utils.js:298:28)\n' +
        '    at new Promise (<anonymous>)\n' +
        '    at callAsyncCircusFn (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\utils.js:231:10)\n' +
        '    at _callCircusTest (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:316:40)\n' +
        '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
        '    at _runTest (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:252:3)\n' +
        '    at _runTestsForDescribeBlock (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:126:9)\n' +
        '    at _runTestsForDescribeBlock (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:121:9)\n' +
        '    at _runTestsForDescribeBlock (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:121:9)\n' +
        '    at run (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:71:3)\n' +
        '    at runAndTransformResultsToJestFormat (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n' +
        '    at jestAdapter (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n' +
        '    at runTestInternal (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-runner@29.7.0\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n' +
        '    at runTest (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-runner@29.7.0\\node_modules\\jest-runner\\build\\runTest.js:444:34)',
      url: undefined,
      method: 'GET',
      ip: '127.0.0.1',
      userAgent: 'jest',
      timestamp: '2025-10-09T02:12:57.856Z'
    }

    [0m [90m 160 |[39m
     [90m 161 |[39m   [90m// 閮??航炊[39m
    [31m[1m>[22m[39m[90m 162 |[39m   console[33m.[39merror([32m'Error caught by global handler:'[39m[33m,[39m {
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 163 |[39m     message[33m:[39m err[33m.[39mmessage[33m,[39m
     [90m 164 |[39m     stack[33m:[39m err[33m.[39mstack[33m,[39m
     [90m 165 |[39m     url[33m:[39m req[33m.[39moriginalUrl[33m,[39m[0m

      at error (middleware/errorHandler.ts:162:11)
      at Object.<anonymous> (test/middleware/errorHandler.test.ts:177:25)

  console.error
    Error caught by global handler: {
      message: 'Validation failed',
      stack: 'ValidationError: Validation failed\n' +
        '    at Object.<anonymous> (D:\\pharmacy-pos\\backend\\test\\middleware\\errorHandler.test.ts:186:36)\n' +
        '    at Promise.then.completed (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\utils.js:298:28)\n' +
        '    at new Promise (<anonymous>)\n' +
        '    at callAsyncCircusFn (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\utils.js:231:10)\n' +
        '    at _callCircusTest (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:316:40)\n' +
        '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
        '    at _runTest (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:252:3)\n' +
        '    at _runTestsForDescribeBlock (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:126:9)\n' +
        '    at _runTestsForDescribeBlock (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:121:9)\n' +
        '    at _runTestsForDescribeBlock (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:121:9)\n' +
        '    at run (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:71:3)\n' +
        '    at runAndTransformResultsToJestFormat (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n' +
        '    at jestAdapter (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n' +
        '    at runTestInternal (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-runner@29.7.0\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n' +
        '    at runTest (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-runner@29.7.0\\node_modules\\jest-runner\\build\\runTest.js:444:34)',
      url: undefined,
      method: 'PUT',
      ip: '127.0.0.1',
      userAgent: 'jest',
      timestamp: '2025-10-09T02:12:57.859Z'
    }

    [0m [90m 160 |[39m
     [90m 161 |[39m   [90m// 閮??航炊[39m
    [31m[1m>[22m[39m[90m 162 |[39m   console[33m.[39merror([32m'Error caught by global handler:'[39m[33m,[39m {
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 163 |[39m     message[33m:[39m err[33m.[39mmessage[33m,[39m
     [90m 164 |[39m     stack[33m:[39m err[33m.[39mstack[33m,[39m
     [90m 165 |[39m     url[33m:[39m req[33m.[39moriginalUrl[33m,[39m[0m

      at error (middleware/errorHandler.ts:162:11)
      at Object.<anonymous> (test/middleware/errorHandler.test.ts:191:25)

  console.error
    Error caught by global handler: {
      message: 'Cast to ObjectId failed for value "bad-id" (type string) at path "accountId"',
      stack: 'CastError: Cast to ObjectId failed for value "bad-id" (type string) at path "accountId"\n' +
        '    at Object.<anonymous> (D:\\pharmacy-pos\\backend\\test\\middleware\\errorHandler.test.ts:199:19)\n' +
        '    at Promise.then.completed (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\utils.js:298:28)\n' +
        '    at new Promise (<anonymous>)\n' +
        '    at callAsyncCircusFn (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\utils.js:231:10)\n' +
        '    at _callCircusTest (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:316:40)\n' +
        '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
        '    at _runTest (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:252:3)\n' +
        '    at _runTestsForDescribeBlock (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:126:9)\n' +
        '    at run (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:71:3)\n' +
        '    at runAndTransformResultsToJestFormat (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n' +
        '    at jestAdapter (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n' +
        '    at runTestInternal (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-runner@29.7.0\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n' +
        '    at runTest (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-runner@29.7.0\\node_modules\\jest-runner\\build\\runTest.js:444:34)',
      url: undefined,
      method: 'GET',
      ip: '127.0.0.1',
      userAgent: 'jest',
      timestamp: '2025-10-09T02:12:57.861Z'
    }

    [0m [90m 160 |[39m
     [90m 161 |[39m   [90m// 閮??航炊[39m
    [31m[1m>[22m[39m[90m 162 |[39m   console[33m.[39merror([32m'Error caught by global handler:'[39m[33m,[39m {
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 163 |[39m     message[33m:[39m err[33m.[39mmessage[33m,[39m
     [90m 164 |[39m     stack[33m:[39m err[33m.[39mstack[33m,[39m
     [90m 165 |[39m     url[33m:[39m req[33m.[39moriginalUrl[33m,[39m[0m

      at error (middleware/errorHandler.ts:162:11)
      at Object.<anonymous> (test/middleware/errorHandler.test.ts:201:25)

  console.error
    Error caught by global handler: {
      message: 'Duplicate',
      stack: undefined,
      url: undefined,
      method: 'POST',
      ip: '127.0.0.1',
      userAgent: 'jest',
      timestamp: '2025-10-09T02:12:57.864Z'
    }

    [0m [90m 160 |[39m
     [90m 161 |[39m   [90m// 閮??航炊[39m
    [31m[1m>[22m[39m[90m 162 |[39m   console[33m.[39merror([32m'Error caught by global handler:'[39m[33m,[39m {
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 163 |[39m     message[33m:[39m err[33m.[39mmessage[33m,[39m
     [90m 164 |[39m     stack[33m:[39m err[33m.[39mstack[33m,[39m
     [90m 165 |[39m     url[33m:[39m req[33m.[39moriginalUrl[33m,[39m[0m

      at error (middleware/errorHandler.ts:162:11)
      at Object.<anonymous> (test/middleware/errorHandler.test.ts:210:25)

  console.error
    Error caught by global handler: {
      message: 'jwt malformed',
      stack: undefined,
      url: undefined,
      method: 'GET',
      ip: '127.0.0.1',
      userAgent: 'jest',
      timestamp: '2025-10-09T02:12:57.867Z'
    }

    [0m [90m 160 |[39m
     [90m 161 |[39m   [90m// 閮??航炊[39m
    [31m[1m>[22m[39m[90m 162 |[39m   console[33m.[39merror([32m'Error caught by global handler:'[39m[33m,[39m {
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 163 |[39m     message[33m:[39m err[33m.[39mmessage[33m,[39m
     [90m 164 |[39m     stack[33m:[39m err[33m.[39mstack[33m,[39m
     [90m 165 |[39m     url[33m:[39m req[33m.[39moriginalUrl[33m,[39m[0m

      at error (middleware/errorHandler.ts:162:11)
      at Object.<anonymous> (test/middleware/errorHandler.test.ts:219:25)

  console.error
    Error caught by global handler: {
      message: 'jwt expired',
      stack: undefined,
      url: undefined,
      method: 'GET',
      ip: '127.0.0.1',
      userAgent: 'jest',
      timestamp: '2025-10-09T02:12:57.869Z'
    }

    [0m [90m 160 |[39m
     [90m 161 |[39m   [90m// 閮??航炊[39m
    [31m[1m>[22m[39m[90m 162 |[39m   console[33m.[39merror([32m'Error caught by global handler:'[39m[33m,[39m {
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 163 |[39m     message[33m:[39m err[33m.[39mmessage[33m,[39m
     [90m 164 |[39m     stack[33m:[39m err[33m.[39mstack[33m,[39m
     [90m 165 |[39m     url[33m:[39m req[33m.[39moriginalUrl[33m,[39m[0m

      at error (middleware/errorHandler.ts:162:11)
      at Object.<anonymous> (test/middleware/errorHandler.test.ts:228:25)

  console.error
    Error caught by global handler: {
      message: 'unexpected',
      stack: 'Error: unexpected\n' +
        '    at Object.<anonymous> (D:\\pharmacy-pos\\backend\\test\\middleware\\errorHandler.test.ts:235:19)\n' +
        '    at Promise.then.completed (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\utils.js:298:28)\n' +
        '    at new Promise (<anonymous>)\n' +
        '    at callAsyncCircusFn (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\utils.js:231:10)\n' +
        '    at _callCircusTest (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:316:40)\n' +
        '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
        '    at _runTest (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:252:3)\n' +
        '    at _runTestsForDescribeBlock (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:126:9)\n' +
        '    at run (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\run.js:71:3)\n' +
        '    at runAndTransformResultsToJestFormat (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n' +
        '    at jestAdapter (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-circus@29.7.0_babel-plugin-macros@3.1.0\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n' +
        '    at runTestInternal (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-runner@29.7.0\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n' +
        '    at runTest (D:\\pharmacy-pos\\node_modules\\.pnpm\\jest-runner@29.7.0\\node_modules\\jest-runner\\build\\runTest.js:444:34)',
      url: undefined,
      method: 'GET',
      ip: '127.0.0.1',
      userAgent: 'jest',
      timestamp: '2025-10-09T02:12:57.871Z'
    }

    [0m [90m 160 |[39m
     [90m 161 |[39m   [90m// 閮??航炊[39m
    [31m[1m>[22m[39m[90m 162 |[39m   console[33m.[39merror([32m'Error caught by global handler:'[39m[33m,[39m {
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 163 |[39m     message[33m:[39m err[33m.[39mmessage[33m,[39m
     [90m 164 |[39m     stack[33m:[39m err[33m.[39mstack[33m,[39m
     [90m 165 |[39m     url[33m:[39m req[33m.[39moriginalUrl[33m,[39m[0m

      at error (middleware/errorHandler.ts:162:11)
      at Object.<anonymous> (test/middleware/errorHandler.test.ts:237:25)

  console.error
    ERROR ? AppError: unexpected
        at globalErrorHandler (D:\pharmacy-pos\backend\middleware\errorHandler.ts:199:13)
        at Object.<anonymous> (D:\pharmacy-pos\backend\test\middleware\errorHandler.test.ts:237:25)
        at Promise.then.completed (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:316:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:126:9)
        at run (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34) {
      statusCode: 500,
      isOperational: false,
      code: 'INTERNAL_SERVER_ERROR'
    }

    [0m [90m 138 |[39m   } [36melse[39m {
     [90m 139 |[39m     [90m// 蝔??航炊嚗?瘣拚?航炊閰單?[39m
    [31m[1m>[22m[39m[90m 140 |[39m     console[33m.[39merror([32m'ERROR ?'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 141 |[39m     
     [90m 142 |[39m     res[33m.[39mstatus([35m500[39m)[33m.[39mjson({
     [90m 143 |[39m       success[33m:[39m [36mfalse[39m[33m,[39m[0m

      at error (middleware/errorHandler.ts:140:13)
      at sendErrorProd (middleware/errorHandler.ts:211:5)
      at Object.<anonymous> (test/middleware/errorHandler.test.ts:237:25)

  console.error
    ???臭?unknown閮???粹: Error: 銝??閮憿?: unknown
        at Function.generateUniqueOrderNumber (D:\pharmacy-pos\backend\utils\OrderNumberService.ts:155:17)
        at Object.<anonymous> (D:\pharmacy-pos\backend\utils\__tests__\OrderNumberService.test.ts:61:28)
        at Promise.then.completed (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:316:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\pharmacy-pos\node_modules\.pnpm\jest-circus@29.7.0_babel-plugin-macros@3.1.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\pharmacy-pos\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)

    [0m [90m 169 |[39m       [36mreturn[39m [36mawait[39m generator[33m.[39mgenerateUnique(baseOrderNumber[33m,[39m maxAttempts)[33m;[39m
     [90m 170 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 171 |[39m       console[33m.[39merror([32m`???臭?${type}閮???粹:`[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 172 |[39m       [36mthrow[39m error[33m;[39m
     [90m 173 |[39m     }
     [90m 174 |[39m   }[0m

      at Function.error [as generateUniqueOrderNumber] (utils/OrderNumberService.ts:171:15)
      at Object.<anonymous> (utils/__tests__/OrderNumberService.test.ts:61:28)

----------------------------------|---------|----------|---------|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                                                                                                                             
----------------------------------|---------|----------|---------|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------
All files                         |   44.23 |    32.67 |   45.86 |   44.15 |                                                                                                                                                               
 backend                          |   88.19 |       40 |   33.33 |   88.19 |                                                                                                                                                               
  app.ts                          |   88.19 |       40 |   33.33 |   88.19 | 160-182,198-201,252-254,267-268                                                                                                                               
 backend/middleware               |   98.79 |    88.66 |     100 |   98.72 |                                                                                                                                                               
  adminAuth.ts                    |     100 |      100 |     100 |     100 |                                                                                                                                                               
  auth.ts                         |     100 |      100 |     100 |     100 |                                                                                                                                                               
  doubleEntryValidation.ts        |     100 |      100 |     100 |     100 |                                                                                                                                                               
  errorHandler.ts                 |     100 |    92.15 |     100 |     100 | 14-24,56,200                                                                                                                                                  
  performanceMonitor.ts           |   94.59 |     74.5 |     100 |   94.36 | 68-70,111                                                                                                                                                     
 backend/models                   |   61.28 |       25 |    27.9 |   62.37 |                                                                                                                                                               
  Account2.ts                     |     100 |    85.71 |     100 |     100 | 164,179                                                                                                                                                       
  AccountType.ts                  |   48.57 |        0 |       0 |   48.48 | 111,116-120,125-137,142,147,154-210                                                                                                                           
  AccountingEntry.ts              |     100 |      100 |     100 |     100 |                                                                                                                                                               
  AccountingRecord2.ts            |   84.61 |      100 |       0 |   84.61 | 83-85                                                                                                                                                         
  BaseProduct.ts                  |     100 |      100 |     100 |     100 |                                                                                                                                                               
  Category2.ts                    |     100 |      100 |     100 |     100 |                                                                                                                                                               
  Customer.ts                     |     100 |    92.85 |     100 |     100 | 86                                                                                                                                                            
  Inventory.ts                    |     100 |      100 |     100 |     100 |                                                                                                                                                               
  LinkReference.ts                |   34.88 |        0 |       0 |   34.88 | 53,124-160,168,175,183-185,190,195-198                                                                                                                        
  MonitoredProduct.ts             |     100 |      100 |     100 |     100 |                                                                                                                                                               
  Organization.ts                 |      50 |        0 |       0 |   51.85 | 149,154,159,165-175,180-181                                                                                                                                   
  OvertimeRecord.ts               |   83.33 |      100 |       0 |   83.33 | 95-96                                                                                                                                                         
  Package.ts                      |      40 |        0 |       0 |   41.17 | 36-65,81-85,90-98,103-104,110-112                                                                                                                             
  ProductCategory.ts              |     100 |      100 |     100 |     100 |                                                                                                                                                               
  ProductNote.ts                  |   30.35 |        0 |       0 |   32.07 | 154-195,200,212-234,243-246,251-252                                                                                                                           
  ProductPackageUnit.ts           |   58.06 |        0 |   16.66 |   58.06 | 101-105,110-114,119,140,153-156                                                                                                                               
  PurchaseOrder.ts                |     100 |      100 |     100 |     100 |                                                                                                                                                               
  Sale.ts                         |    93.1 |    66.66 |     100 |   92.85 | 94,100                                                                                                                                                        
  ShiftTimeConfig.ts              |      75 |      100 |       0 |      75 | 34-45                                                                                                                                                         
  ShippingOrder.ts                |   53.33 |        0 |       0 |   57.14 | 73,105,148-154                                                                                                                                                
  Supplier.ts                     |     100 |      100 |     100 |     100 |                                                                                                                                                               
  SupplierAccountMapping.ts       |   32.25 |        0 |       0 |   35.71 | 112-138,146-152,160                                                                                                                                           
  TransactionGroup.ts             |   43.75 |        0 |       0 |   43.75 | 108-139                                                                                                                                                       
  TransactionGroupWithEntries.ts  |    40.5 |        0 |       0 |   43.24 | 350,394-425,430-462,467-479                                                                                                                                   
  User.ts                         |    90.9 |        0 |     100 |     100 | 81                                                                                                                                                            
 backend/routes                   |   19.32 |     8.21 |   15.94 |   19.58 |                                                                                                                                                               
  accountBalances.ts              |   93.18 |    71.42 |     100 |   93.18 | 152,179-180,248,264-265                                                                                                                                       
  accountingEntries.ts            |   30.84 |    28.23 |      28 |   32.24 | 29-33,188-330,339-514,523-654                                                                                                                                 
  accountingRecords2.ts           |    5.57 |        0 |       0 |     5.7 | 19-115,124-188,197-225,234-390,400-568,578-620                                                                                                                
  accounts2.ts                    |    8.76 |        0 |       0 |    9.03 | 20-24,43-46,51-60,65-84,89-126,140,153,167-177,183-204,210-369,375-459,465-543,549-576,582-618,624-706,712-727,733-812,818-846                                
  auth.ts                         |    7.44 |        0 |       0 |    7.53 | 62-99,112-247,254-258,267-284,292-307,315-340,355-453,465-523,532-572,584-670,678-694,702-783,791-884,892-979                                                 
  categories2.ts                  |    7.34 |        0 |       0 |    7.64 | 17-65,74-93,102-121,130-158,167-263,272-366,375-421,430-464                                                                                                   
  config.ts                       |   38.46 |        0 |       0 |   38.46 | 21-44                                                                                                                                                         
  csvImportApi.ts                 |    7.77 |        0 |       0 |    7.89 | 63-71,88-300,322-535                                                                                                                                          
  dashboard.ts                    |   97.22 |    71.73 |   89.47 |   97.95 | 206,343                                                                                                                                                       
  fifo.ts                         |    7.17 |        0 |       0 |    7.37 | 56-120,128-254,262-384,392-528,538-582,711-800                                                                                                                
  inventory.ts                    |   64.67 |    39.79 |   85.71 |   64.08 | 93,98-99,157,167-174,188,192,201,213,230,238,242,247-248,259-262,276,287,292-293,306,316-317,322,335,367-368,383,387,398,406-477,487-488,493,504-509,526      
  linkGlobalUpdate.ts             |   13.11 |        0 |       0 |   13.11 | 10-105,115-191                                                                                                                                                
  linkReferences.ts               |   10.16 |        0 |       0 |   10.43 | 9-72,83-97,107-128,138-198,208-277,287-319,329-365                                                                                                            
  monitoredProducts.ts            |   13.92 |        0 |       0 |   13.92 | 30-84,98-195,204-273                                                                                                                                          
  monitoring.ts                   |   53.92 |    27.27 |    62.5 |   53.92 | 32-37,45,47,53,63-104,122,148,196,237-240,254,264-282,292-341                                                                                                 
  organizations.ts                |      10 |        0 |       0 |   10.12 | 57-98,114-150,163-242,256-328,341-399,412-470,480-511                                                                                                         
  packageUnits.ts                 |     100 |      100 |     100 |     100 |                                                                                                                                                               
  packages.ts                     |    10.2 |        0 |       0 |   10.41 | 17-61,70-87,96-161,171-242,251-268,277-299,308-329,338-348,357-367                                                                                            
  reports.ts                      |   12.85 |        0 |       0 |   13.04 | 35-173,181-283                                                                                                                                                
  settings.ts                     |   13.11 |        0 |       0 |   13.11 | 23-70,78-158                                                                                                                                                  
  shiftTimeConfigs.ts             |    9.48 |        0 |       0 |    9.77 | 41-61,72-115,129-204,219-318,329-386                                                                                                                          
  shippingOrdersImport.ts         |    7.72 |        0 |       0 |    7.83 | 85-93,110-455,464-487,495-689                                                                                                                                 
  supplierAccountMappings.ts      |   14.88 |        0 |       0 |   16.02 | 63-70,75-92,104-108,113-117,121-123,133-159,169-203,213-228,235-253,265-316,329-385,396-409                                                                   
  themes.ts                       |   11.11 |        0 |       0 |   11.33 | 26-30,37-56,64-80,88-122,134-203,211-264,272-343,351-405                                                                                                      
  transactionGroups.ts            |    7.27 |        0 |       0 |    7.75 | 23-29,34-36,41-45,64-70,75-82,89-114,119-139,145-244,250-279,285-449,455-599,605-662,668-709,715-767,773-857,863-942                                          
  transactionGroupsWithEntries.ts |    7.12 |        0 |       0 |    7.84 | 45-64,69-89,95-137,143-198,204-300,306-406,412-444,450-475,481-502,508-616,625-726,735-832                                                                    
  userThemes.ts                   |   74.24 |    63.33 |    92.3 |   73.43 | 64-70,83-89,95,118-124,149-155,167-173,239-245,261-267,306-312,326-332,358-364,382-388                                                                        
  users.ts                        |      25 |        0 |       0 |   25.71 | 37-120                                                                                                                                                        
 backend/routes/accounting2       |   85.89 |      100 |     100 |   85.89 |                                                                                                                                                               
  accountRoutes.ts                |     100 |      100 |     100 |     100 |                                                                                                                                                               
  accountTypes.ts                 |       0 |      100 |     100 |       0 | 1-32                                                                                                                                                          
  fundingRoutes.ts                |     100 |      100 |     100 |     100 |                                                                                                                                                               
  index.ts                        |     100 |      100 |     100 |     100 |                                                                                                                                                               
  transactionRoutes.ts            |     100 |      100 |     100 |     100 |                                                                                                                                                               
 backend/services                 |   80.53 |    77.89 |   85.71 |   80.24 |                                                                                                                                                               
  AccountingIntegrationService.ts |     100 |    94.11 |     100 |     100 | 136                                                                                                                                                           
  AutoAccountingEntryService.ts   |   64.28 |     53.7 |   71.42 |    64.4 | 25-26,37-43,56-57,83-93,117,162-167,230-231,237,247-248,339-403                                                                                               
  CacheService.ts                 |   63.87 |    65.11 |   76.66 |   63.49 | 70-75,91-92,96-97,101-102,112-147,166-170,191-194,207,220-221,233-235,242-243,255-261,277-278,288-290,307-308,320-321,329,335-336,369-376,397-398,409,487-488 
  OptimizedProductService.ts      |     100 |      100 |     100 |     100 |                                                                                                                                                               
  PackageUnitService.ts           |   87.78 |     92.5 |    90.9 |    87.6 | 29-30,35,255-276,295,333-334,359-360                                                                                                                          
  accountBalanceService.ts        |   98.85 |    93.33 |     100 |   98.78 | 251                                                                                                                                                           
 backend/services/accounting2     |   65.94 |       56 |   56.52 |   66.62 |                                                                                                                                                               
  AccountService.ts               |   91.15 |    77.77 |      80 |   93.51 | 109-110,214,316-317,409-410                                                                                                                                   
  FundingService.ts               |   92.62 |    83.07 |   72.72 |   94.11 | 97,198-199,401-402,458-463                                                                                                                                    
  TransactionService.ts           |   44.47 |    39.81 |   37.09 |   44.19 | 136-137,244,258,322,383,616-617,685-1422                                                                                                                      
  ValidationService.ts            |   87.87 |    64.42 |   95.65 |   87.26 | 117-118,197-205,229,241-242,322-330,383,456-458,595-604,654,667-668                                                                                           
  index.ts                        |       0 |      100 |       0 |       0 | 6-12                                                                                                                                                          
 backend/utils                    |   73.45 |    57.96 |   72.54 |   72.57 |                                                                                                                                                               
  OrderNumberGenerator.ts         |     100 |    90.32 |     100 |     100 | 149-169,204                                                                                                                                                   
  OrderNumberService.ts           |   45.23 |    13.51 |      20 |   45.23 | 29-123                                                                                                                                                        
  codeGenerator.ts                |     100 |     86.2 |     100 |     100 | 145-153,221,230                                                                                                                                               
  doubleEntryValidation.ts        |     100 |      100 |     100 |     100 |                                                                                                                                                               
  fifoCalculator.ts               |   88.55 |    68.86 |   92.59 |   90.13 | 231-232,237-238,313,446-451,468-473,508-511                                                                                                                   
  fundingSourceHelpers.ts         |   20.33 |        0 |       0 |   13.46 | 14-44,53-77,93-128,139-167,175-180                                                                                                                            
  logger.ts                       |    72.5 |    18.18 |   33.33 |   69.44 | 188,208-222,242-257,270,285                                                                                                                                   
  mongoConnection.ts              |   66.66 |    53.33 |   85.71 |   66.66 | 21,32-36,55,65-69,73-80                                                                                                                                       
  passwordUtils.ts                |     100 |    98.43 |     100 |     100 | 107                                                                                                                                                           
  pdfGenerator.ts                 |       0 |        0 |       0 |       0 | 35-346                                                                                                                                                        
  responseHelpers.ts              |     100 |      100 |     100 |     100 |                                                                                                                                                               
  transactionFormatHelpers.ts     |   74.07 |       60 |      50 |      70 | 12-28,67-75,96-123,133,248-250                                                                                                                                
  transactionValidationHelpers.ts |   94.69 |     75.4 |     100 |   94.11 | 248-250,263-269                                                                                                                                               
----------------------------------|---------|----------|---------|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------
D:\pharmacy-pos\backend:
?RR_PNPM_RECURSIVE_RUN_FIRST_FAIL??@pharmacy-pos/backend@1.0.0 test: `jest`
Exit status 1
