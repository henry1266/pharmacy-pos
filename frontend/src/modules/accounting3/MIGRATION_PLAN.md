# Accounting3 æ¨¡çµ„æ¶æ§‹é‡æ§‹é·ç§»è¨ˆåŠƒ

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æª”è©³ç´°èªªæ˜å¾ç¾æœ‰çš„ `features/` ç›®éŒ„çµæ§‹é‡æ§‹ç‚ºæ›´ç›´è§€çš„åŠŸèƒ½å°å‘æ‰å¹³æ¶æ§‹çš„é·ç§»è¨ˆåŠƒã€‚

## ğŸ—ï¸ æ¶æ§‹æ˜ å°„

### ç¾æœ‰æ¶æ§‹
```
frontend/src/modules/accounting3/
â”œâ”€â”€ components/         # å…±ç”¨ UI å…ƒä»¶
â”‚   â””â”€â”€ ui/            # UI å…ƒä»¶
â”œâ”€â”€ core/              # æ ¸å¿ƒæœå‹™
â”œâ”€â”€ features/          # åŠŸèƒ½æ¨¡çµ„
â”‚   â”œâ”€â”€ accounts/      # ç§‘ç›®ç®¡ç†åŠŸèƒ½
â”‚   â”œâ”€â”€ organizations/ # æ©Ÿæ§‹ç®¡ç†åŠŸèƒ½
â”‚   â””â”€â”€ transactions/  # äº¤æ˜“ç®¡ç†åŠŸèƒ½
â”œâ”€â”€ pages/             # é é¢å…ƒä»¶
â”œâ”€â”€ services/          # å…¨å±€æœå‹™
â””â”€â”€ types/             # å…¨å±€é¡å‹å®šç¾©
```

### ç›®æ¨™æ¶æ§‹
```
frontend/src/modules/accounting3/
â”œâ”€â”€ ui/                # å…±ç”¨ UI å…ƒä»¶ (åŸ components/ui/)
â”œâ”€â”€ core/              # æ ¸å¿ƒæœå‹™ (ä¿æŒä¸è®Š)
â”œâ”€â”€ shared/            # è·¨åŠŸèƒ½æ¨¡çµ„å…±äº«è³‡æº (æ–°å¢)
â”œâ”€â”€ accounts/          # ç§‘ç›®ç®¡ç†åŠŸèƒ½ (åŸ features/accounts/)
â”‚   â”œâ”€â”€ components/    # ç§‘ç›®ç›¸é—œå…ƒä»¶
â”‚   â”œâ”€â”€ hooks/         # ç§‘ç›®ç›¸é—œ hooks
â”‚   â”œâ”€â”€ services/      # ç§‘ç›®ç›¸é—œæœå‹™
â”‚   â”œâ”€â”€ types/         # ç§‘ç›®ç›¸é—œé¡å‹
â”‚   â”œâ”€â”€ utils/         # ç§‘ç›®ç›¸é—œå·¥å…·å‡½æ•¸
â”‚   â””â”€â”€ pages/         # ç§‘ç›®ç›¸é—œé é¢ (å¾ pages/ é·ç§»)
â”œâ”€â”€ organizations/     # æ©Ÿæ§‹ç®¡ç†åŠŸèƒ½ (åŸ features/organizations/)
â”‚   â”œâ”€â”€ components/    # æ©Ÿæ§‹ç›¸é—œå…ƒä»¶
â”‚   â”œâ”€â”€ hooks/         # æ©Ÿæ§‹ç›¸é—œ hooks
â”‚   â”œâ”€â”€ services/      # æ©Ÿæ§‹ç›¸é—œæœå‹™
â”‚   â”œâ”€â”€ types/         # æ©Ÿæ§‹ç›¸é—œé¡å‹
â”‚   â”œâ”€â”€ utils/         # æ©Ÿæ§‹ç›¸é—œå·¥å…·å‡½æ•¸
â”‚   â””â”€â”€ pages/         # æ©Ÿæ§‹ç›¸é—œé é¢ (å¾ pages/ é·ç§»)
â””â”€â”€ transactions/      # äº¤æ˜“ç®¡ç†åŠŸèƒ½ (åŸ features/transactions/)
    â”œâ”€â”€ components/    # äº¤æ˜“ç›¸é—œå…ƒä»¶
    â”œâ”€â”€ hooks/         # äº¤æ˜“ç›¸é—œ hooks
    â”œâ”€â”€ services/      # äº¤æ˜“ç›¸é—œæœå‹™
    â”œâ”€â”€ types/         # äº¤æ˜“ç›¸é—œé¡å‹
    â”œâ”€â”€ utils/         # äº¤æ˜“ç›¸é—œå·¥å…·å‡½æ•¸
    â””â”€â”€ pages/         # äº¤æ˜“ç›¸é—œé é¢ (å¾ pages/ é·ç§»)
```

## ğŸ“… é·ç§»æ™‚é–“è¡¨

| éšæ®µ | ä»»å‹™ | é è¨ˆæ™‚é–“ | è² è²¬äºº |
|------|------|----------|--------|
| 1 | æ¶æ§‹è¨­è¨ˆèˆ‡è¦åŠƒ | 1é€± | æ¶æ§‹å¸« |
| 2 | å»ºç«‹æ–°çš„æª”æ¡ˆçµæ§‹ | 1å¤© | å‰ç«¯é–‹ç™¼ |
| 3 | é·ç§» accounts åŠŸèƒ½æ¨¡çµ„ | 3å¤© | å‰ç«¯é–‹ç™¼ |
| 4 | é·ç§» organizations åŠŸèƒ½æ¨¡çµ„ | 2å¤© | å‰ç«¯é–‹ç™¼ |
| 5 | é·ç§» transactions åŠŸèƒ½æ¨¡çµ„ | 3å¤© | å‰ç«¯é–‹ç™¼ |
| 6 | é‡æ§‹å…±äº«è³‡æº | 2å¤© | å‰ç«¯é–‹ç™¼ |
| 7 | æ›´æ–°å°å‡ºç­–ç•¥ | 1å¤© | å‰ç«¯é–‹ç™¼ |
| 8 | æ¸¬è©¦èˆ‡é©—è­‰ | 3å¤© | QA |
| 9 | æ–‡æª”æ›´æ–° | 1å¤© | æŠ€è¡“æ–‡æª” |
| **ç¸½è¨ˆ** | | **2é€±** | |

## ğŸ”„ é·ç§»ç­–ç•¥

### 1. æº–å‚™å·¥ä½œ
- å»ºç«‹é·ç§»åˆ†æ”¯ `feature/accounting3-restructure`
- ç¢ºä¿æ‰€æœ‰æ¸¬è©¦é€šé
- å‚™ä»½é—œéµæ–‡ä»¶

### 2. å»ºç«‹æ–°çš„æª”æ¡ˆçµæ§‹
- åœ¨ä¸åˆªé™¤ç¾æœ‰æ–‡ä»¶çš„æƒ…æ³ä¸‹ï¼Œå‰µå»ºæ–°çš„ç›®éŒ„çµæ§‹
- ä¿ç•™ç¾æœ‰çš„ `features/`ã€`components/` å’Œ `pages/` ç›®éŒ„ï¼Œç›´åˆ°é·ç§»å®Œæˆ

### 3. æ–‡ä»¶é·ç§»æ–¹æ³•
- **è¤‡è£½å„ªå…ˆæ–¼ç§»å‹•**ï¼šå…ˆè¤‡è£½æ–‡ä»¶åˆ°æ–°ä½ç½®ï¼Œç¢ºèªåŠŸèƒ½æ­£å¸¸å¾Œå†åˆªé™¤åŸæ–‡ä»¶
- **é€å€‹æ¨¡çµ„é·ç§»**ï¼šä¸€æ¬¡åªé·ç§»ä¸€å€‹åŠŸèƒ½æ¨¡çµ„ï¼Œç¢ºä¿æ¯å€‹æ¨¡çµ„é·ç§»å¾Œéƒ½èƒ½æ­£å¸¸å·¥ä½œ
- **ä¿æŒå°å…¥å…¼å®¹**ï¼šä½¿ç”¨é‡æ–°å°å‡ºï¼ˆre-exportï¼‰ä¿æŒå‘å¾Œå…¼å®¹

### 4. å°å…¥è·¯å¾‘å…¼å®¹ç­–ç•¥

#### éšæ®µ 1: é›™è·¯å¾‘æ”¯æŒ
åœ¨ `features/accounts/index.ts` ä¸­æ·»åŠ ï¼š
```typescript
// é‡æ–°å°å‡ºæ–°è·¯å¾‘çš„å…§å®¹ï¼Œä¿æŒå‘å¾Œå…¼å®¹
export * from '../../accounts';
```

#### éšæ®µ 2: å°å…¥è·¯å¾‘æ›´æ–°
ä½¿ç”¨æœå°‹æ›¿æ›åŠŸèƒ½ï¼Œæ›´æ–°æ‰€æœ‰å°å…¥è·¯å¾‘ï¼š
- å¾: `import { X } from '@/modules/accounting3/features/accounts'`
- åˆ°: `import { X } from '@/modules/accounting3/accounts'`

#### éšæ®µ 3: ç§»é™¤èˆŠè·¯å¾‘
å®Œæˆæ‰€æœ‰å°å…¥è·¯å¾‘æ›´æ–°å¾Œï¼Œç§»é™¤èˆŠçš„ç›®éŒ„å’Œé‡æ–°å°å‡ºã€‚

## ğŸ“ è©³ç´°é·ç§»æ­¥é©Ÿ

### 1. é·ç§» accounts åŠŸèƒ½æ¨¡çµ„

#### 1.1 å‰µå»ºç›®æ¨™ç›®éŒ„çµæ§‹
```
accounting3/accounts/
â”œâ”€â”€ components/
â”œâ”€â”€ hooks/
â”œâ”€â”€ services/
â”œâ”€â”€ types/
â”œâ”€â”€ utils/
â””â”€â”€ pages/
```

#### 1.2 è¤‡è£½æ–‡ä»¶
- å¾ `features/accounts/components/` åˆ° `accounts/components/`
- å¾ `features/accounts/hooks/` åˆ° `accounts/hooks/`
- å¾ `features/accounts/services/` åˆ° `accounts/services/`
- å¾ `features/accounts/types/` åˆ° `accounts/types/`
- å¾ `features/accounts/utils/` åˆ° `accounts/utils/`
- å¾ `pages/AccountPage/` åˆ° `accounts/pages/`

#### 1.3 æ›´æ–°å°å…¥è·¯å¾‘
- åœ¨æ–°æ–‡ä»¶ä¸­æ›´æ–°æ‰€æœ‰ç›¸å°å°å…¥è·¯å¾‘
- æ·»åŠ é‡æ–°å°å‡ºä»¥ä¿æŒå‘å¾Œå…¼å®¹

#### 1.4 æ¸¬è©¦åŠŸèƒ½
- ç¢ºä¿æ‰€æœ‰å–®å…ƒæ¸¬è©¦é€šé
- æ‰‹å‹•æ¸¬è©¦é—œéµåŠŸèƒ½

### 2. é·ç§» organizations åŠŸèƒ½æ¨¡çµ„

#### 2.1 å‰µå»ºç›®æ¨™ç›®éŒ„çµæ§‹
```
accounting3/organizations/
â”œâ”€â”€ components/
â”œâ”€â”€ hooks/
â”œâ”€â”€ services/
â”œâ”€â”€ types/
â”œâ”€â”€ utils/
â””â”€â”€ pages/
```

#### 2.2 è¤‡è£½æ–‡ä»¶
- å¾ `features/organizations/components/` åˆ° `organizations/components/`
- å¾ `features/organizations/hooks/` åˆ° `organizations/hooks/`
- å¾ `features/organizations/services/` åˆ° `organizations/services/`
- å¾ `features/organizations/types/` åˆ° `organizations/types/`
- å¾ `features/organizations/utils/` åˆ° `organizations/utils/`
- å¾ `pages/OrganizationPage/` åˆ° `organizations/pages/`

#### 2.3 æ›´æ–°å°å…¥è·¯å¾‘
- åœ¨æ–°æ–‡ä»¶ä¸­æ›´æ–°æ‰€æœ‰ç›¸å°å°å…¥è·¯å¾‘
- æ·»åŠ é‡æ–°å°å‡ºä»¥ä¿æŒå‘å¾Œå…¼å®¹

#### 2.4 æ¸¬è©¦åŠŸèƒ½
- ç¢ºä¿æ‰€æœ‰å–®å…ƒæ¸¬è©¦é€šé
- æ‰‹å‹•æ¸¬è©¦é—œéµåŠŸèƒ½

### 3. é·ç§» transactions åŠŸèƒ½æ¨¡çµ„

#### 3.1 å‰µå»ºç›®æ¨™ç›®éŒ„çµæ§‹
```
accounting3/transactions/
â”œâ”€â”€ components/
â”œâ”€â”€ hooks/
â”œâ”€â”€ services/
â”œâ”€â”€ types/
â”œâ”€â”€ utils/
â””â”€â”€ pages/
```

#### 3.2 è¤‡è£½æ–‡ä»¶
- å¾ `features/transactions/components/` åˆ° `transactions/components/`
- å¾ `features/transactions/hooks/` åˆ° `transactions/hooks/`
- å¾ `features/transactions/services/` åˆ° `transactions/services/`
- å¾ `features/transactions/types/` åˆ° `transactions/types/`
- å¾ `features/transactions/utils/` åˆ° `transactions/utils/`
- å¾ `pages/TransactionPage/` åˆ° `transactions/pages/`

#### 3.3 æ›´æ–°å°å…¥è·¯å¾‘
- åœ¨æ–°æ–‡ä»¶ä¸­æ›´æ–°æ‰€æœ‰ç›¸å°å°å…¥è·¯å¾‘
- æ·»åŠ é‡æ–°å°å‡ºä»¥ä¿æŒå‘å¾Œå…¼å®¹

#### 3.4 æ¸¬è©¦åŠŸèƒ½
- ç¢ºä¿æ‰€æœ‰å–®å…ƒæ¸¬è©¦é€šé
- æ‰‹å‹•æ¸¬è©¦é—œéµåŠŸèƒ½

### 4. é‡æ§‹å…±äº«è³‡æº

#### 4.1 å‰µå»ºå…±äº«ç›®éŒ„
```
accounting3/
â”œâ”€â”€ ui/        # å¾ components/ui/ é·ç§»
â””â”€â”€ shared/    # æ–°å¢ç›®éŒ„
    â”œâ”€â”€ constants/
    â””â”€â”€ helpers/
```

#### 4.2 é·ç§» UI çµ„ä»¶
- å¾ `components/ui/` åˆ° `ui/`
- æ›´æ–°å°å…¥è·¯å¾‘

#### 4.3 è­˜åˆ¥ä¸¦é·ç§»å…±äº«è³‡æº
- è­˜åˆ¥è·¨åŠŸèƒ½æ¨¡çµ„ä½¿ç”¨çš„å¸¸é‡ã€å·¥å…·å‡½æ•¸ç­‰
- å°‡å®ƒå€‘é·ç§»åˆ° `shared/` ç›®éŒ„ä¸‹

### 5. æ›´æ–°å°å‡ºç­–ç•¥

#### 5.1 æ›´æ–°æ ¹ç›®éŒ„ `index.ts`
```typescript
// å°å‡ºæ ¸å¿ƒåŠŸèƒ½
export * from './core';

// å°å‡ºå…±ç”¨ UI å…ƒä»¶
export * from './ui';

// å°å‡ºå…±äº«è³‡æº
export * from './shared';

// å°å‡ºåŠŸèƒ½æ¨¡çµ„çš„å…¬å…± API
export * from './accounts';
export * from './organizations';
export * from './transactions';

// å‘å¾Œå…¼å®¹ (è‡¨æ™‚)
export * as features from './features';
export * as components from './components';
export * as pages from './pages';
```

#### 5.2 æ›´æ–°å„åŠŸèƒ½æ¨¡çµ„ `index.ts`
```typescript
// å°å‡ºå…¬å…± API
export * from './components';
export * from './hooks';
export * from './services';
export * from './types';
export * from './utils';

// å°å‡ºé é¢
export * from './pages';
```

### 6. æ¸¬è©¦èˆ‡é©—è­‰

#### 6.1 å–®å…ƒæ¸¬è©¦
- åŸ·è¡Œæ‰€æœ‰å–®å…ƒæ¸¬è©¦
- ä¿®å¾©ä»»ä½•å¤±æ•—çš„æ¸¬è©¦

#### 6.2 æ•´åˆæ¸¬è©¦
- åŸ·è¡Œæ‰€æœ‰æ•´åˆæ¸¬è©¦
- ç¢ºä¿æ¨¡çµ„é–“çš„äº¤äº’æ­£å¸¸

#### 6.3 ç«¯åˆ°ç«¯æ¸¬è©¦
- åŸ·è¡Œé—œéµåŠŸèƒ½çš„ç«¯åˆ°ç«¯æ¸¬è©¦
- ç¢ºä¿ç”¨æˆ¶é«”é©—ä¸å—å½±éŸ¿

### 7. æ¸…ç†èˆ‡å®Œæˆ

#### 7.1 ç§»é™¤èˆŠç›®éŒ„
- ç¢ºèªæ‰€æœ‰åŠŸèƒ½æ­£å¸¸å¾Œï¼Œç§»é™¤ `features/`ã€`components/` å’Œ `pages/` ç›®éŒ„
- ç§»é™¤è‡¨æ™‚çš„å‘å¾Œå…¼å®¹å°å‡º

#### 7.2 æ›´æ–°æ–‡æª”
- æ›´æ–° README.md
- æ›´æ–°é–‹ç™¼æŒ‡å—
- å»ºç«‹æ¶æ§‹èªªæ˜æ–‡æª”

## ğŸ› ï¸ å·¥å…·èˆ‡è³‡æº

### æœå°‹æ›¿æ›å‘½ä»¤
```bash
# æ›´æ–°å°å…¥è·¯å¾‘ - accounts
grep -r "from '@/modules/accounting3/features/accounts" --include="*.ts" --include="*.tsx" . | cut -d: -f1 | xargs sed -i 's|from '"'"'@/modules/accounting3/features/accounts|from '"'"'@/modules/accounting3/accounts|g'

# æ›´æ–°å°å…¥è·¯å¾‘ - organizations
grep -r "from '@/modules/accounting3/features/organizations" --include="*.ts" --include="*.tsx" . | cut -d: -f1 | xargs sed -i 's|from '"'"'@/modules/accounting3/features/organizations|from '"'"'@/modules/accounting3/organizations|g'

# æ›´æ–°å°å…¥è·¯å¾‘ - transactions
grep -r "from '@/modules/accounting3/features/transactions" --include="*.ts" --include="*.tsx" . | cut -d: -f1 | xargs sed -i 's|from '"'"'@/modules/accounting3/features/transactions|from '"'"'@/modules/accounting3/transactions|g'

# æ›´æ–°å°å…¥è·¯å¾‘ - components/ui
grep -r "from '@/modules/accounting3/components/ui" --include="*.ts" --include="*.tsx" . | cut -d: -f1 | xargs sed -i 's|from '"'"'@/modules/accounting3/components/ui|from '"'"'@/modules/accounting3/ui|g'
```

### æ¸¬è©¦è…³æœ¬
```bash
# åŸ·è¡Œæ‰€æœ‰ accounting3 ç›¸é—œæ¸¬è©¦
npm test -- --testPathPattern=accounting3
```

## ğŸ” é¢¨éšªè©•ä¼°èˆ‡ç·©è§£ç­–ç•¥

### æ½›åœ¨é¢¨éšª
1. **å°å…¥è·¯å¾‘éŒ¯èª¤**ï¼šé·ç§»éç¨‹ä¸­å¯èƒ½å‡ºç¾å°å…¥è·¯å¾‘éŒ¯èª¤
2. **åŠŸèƒ½ä¸­æ–·**ï¼šé‡æ§‹å¯èƒ½å°è‡´æŸäº›åŠŸèƒ½æš«æ™‚ä¸­æ–·
3. **æ¸¬è©¦è¦†è“‹ä¸è¶³**ï¼šæŸäº›é‚Šç·£æƒ…æ³å¯èƒ½æœªè¢«æ¸¬è©¦è¦†è“‹

### ç·©è§£ç­–ç•¥
1. **æ¼¸é€²å¼é·ç§»**ï¼šä¸€æ¬¡åªé·ç§»ä¸€å€‹åŠŸèƒ½æ¨¡çµ„ï¼Œç¢ºä¿æ¯å€‹æ¨¡çµ„é·ç§»å¾Œéƒ½èƒ½æ­£å¸¸å·¥ä½œ
2. **é›™è·¯å¾‘æ”¯æŒ**ï¼šä½¿ç”¨é‡æ–°å°å‡ºä¿æŒå‘å¾Œå…¼å®¹ï¼Œæ¸›å°‘ä¸­æ–·é¢¨éšª
3. **å…¨é¢æ¸¬è©¦**ï¼šå¢åŠ æ¸¬è©¦è¦†è“‹ç‡ï¼Œç‰¹åˆ¥æ˜¯é—œéµåŠŸèƒ½
4. **å›æ»¾è¨ˆåŠƒ**ï¼šæº–å‚™å›æ»¾ç­–ç•¥ï¼Œä»¥ä¾¿åœ¨å‡ºç¾åš´é‡å•é¡Œæ™‚å¿«é€Ÿæ¢å¾©

## ğŸ“Š æˆåŠŸæŒ‡æ¨™

1. **æ‰€æœ‰æ¸¬è©¦é€šé**ï¼šå–®å…ƒæ¸¬è©¦ã€æ•´åˆæ¸¬è©¦å’Œç«¯åˆ°ç«¯æ¸¬è©¦å…¨éƒ¨é€šé
2. **ç„¡åŠŸèƒ½é€€åŒ–**ï¼šæ‰€æœ‰ç¾æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œï¼Œç„¡é€€åŒ–
3. **ä»£ç¢¼è³ªé‡æå‡**ï¼šä»£ç¢¼å¯è®€æ€§å’Œå¯ç¶­è­·æ€§æå‡
4. **é–‹ç™¼é«”é©—æ”¹å–„**ï¼šé–‹ç™¼è€…åé¥‹ç©æ¥µï¼Œå°èˆªå’Œé–‹ç™¼æ•ˆç‡æå‡

## ğŸ“ çµè«–

æœ¬é·ç§»è¨ˆåŠƒæä¾›äº†å¾ç¾æœ‰æ¶æ§‹é·ç§»åˆ°åŠŸèƒ½å°å‘æ‰å¹³æ¶æ§‹çš„è©³ç´°æ­¥é©Ÿã€‚é€šééµå¾ªé€™äº›æ­¥é©Ÿï¼Œæˆ‘å€‘å¯ä»¥å¯¦ç¾æ›´ç›´è§€ã€æ›´æ˜“æ–¼ç¶­è­·çš„ä»£ç¢¼çµ„ç¹”çµæ§‹ï¼ŒåŒæ™‚ç¢ºä¿ç¾æœ‰åŠŸèƒ½ä¸å—å½±éŸ¿ã€‚

---

**æœ€å¾Œæ›´æ–°**: 2025-08-13
**ç‰ˆæœ¬**: 1.0.0
**ç¶­è­·è€…**: é–‹ç™¼åœ˜éšŠ