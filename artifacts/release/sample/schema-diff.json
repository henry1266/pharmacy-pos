{
  "baseRef": "HEAD~1",
  "headRef": "HEAD",
  "generatedAt": "2025-09-29T03:53:41.650Z",
  "files": [
    {
      "path": "openapi/openapi.json",
      "status": "M",
      "diff": "diff --git a/openapi/openapi.json b/openapi/openapi.json\nindex d31db90b..ef7935f4 100644\n--- a/openapi/openapi.json\n+++ b/openapi/openapi.json\n@@ -22,6 +22,10 @@\n     {\n       \"name\": \"Suppliers\",\n       \"description\": \"Supplier management endpoints\"\n+    },\n+    {\n+      \"name\": \"Purchase Orders\",\n+      \"description\": \"Purchase order management endpoints\"\n     }\n   ],\n   \"paths\": {\n@@ -1174,302 +1178,1802 @@\n           }\n         }\n       }\n-    }\n-  },\n-  \"components\": {\n-    \"schemas\": {\n-      \"ApiResponse\": {\n-        \"type\": \"object\",\n-        \"properties\": {\n-          \"success\": {\n-            \"type\": \"boolean\"\n-          },\n-          \"message\": {\n-            \"type\": \"string\"\n+    },\n+    \"/purchase-orders\": {\n+      \"get\": {\n+        \"summary\": \"List purchase orders\",\n+        \"operationId\": \"listPurchaseOrders\",\n+        \"tags\": [\n+          \"Purchase Orders\"\n+        ],\n+        \"responses\": {\n+          \"200\": {\n+            \"description\": \"OK\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"allOf\": [\n+                    {\n+                      \"$ref\": \"#/components/schemas/ApiResponse\"\n+                    },\n+                    {\n+                      \"type\": \"object\",\n+                      \"properties\": {\n+                        \"data\": {\n+                          \"type\": \"array\",\n+                          \"items\": {\n+                            \"$ref\": \"#/components/schemas/PurchaseOrder\"\n+                          }\n+                        }\n+                      }\n+                    }\n+                  ]\n+                },\n+                \"examples\": {\n+                  \"purchaseOrders\": {\n+                    \"summary\": \"Purchase order list\",\n+                    \"value\": {\n+                      \"success\": true,\n+                      \"message\": \"OK\",\n+                      \"data\": [\n+                        {\n+                          \"_id\": \"64f0a1b2c3d4e5f678901234\",\n+                          \"poid\": \"PO-2025-0001\",\n+                          \"orderNumber\": \"PO-2025-0001\",\n+                          \"posupplier\": \"Acme Pharma\",\n+                          \"supplier\": {\n+                            \"_id\": \"64f0a1b2c3d4e5f678909999\",\n+                            \"name\": \"Acme Pharma\"\n+                          },\n+                          \"items\": [\n+                            {\n+                              \"_id\": \"64f0a1b2c3d4e5f678901999\",\n+                              \"did\": \"SKU-1001\",\n+                              \"dname\": \"Vitamin C 500mg\",\n+                              \"dquantity\": 10,\n+                              \"dtotalCost\": 2500,\n+                              \"unitPrice\": 250\n+                            }\n+                          ],\n+                          \"totalAmount\": 2500,\n+                          \"status\": \"pending\",\n+                          \"paymentStatus\": \"���I\",\n+                          \"createdAt\": \"2025-01-01T00:00:00.000Z\",\n+                          \"updatedAt\": \"2025-01-01T00:00:00.000Z\"\n+                        }\n+                      ],\n+                      \"timestamp\": \"2025-01-01T00:00:00.000Z\"\n+                    }\n+                  }\n+                }\n+              }\n+            }\n           },\n-          \"data\": {},\n-          \"timestamp\": {\n-            \"type\": \"string\",\n-            \"format\": \"date-time\"\n+          \"500\": {\n+            \"description\": \"Server error\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"$ref\": \"#/components/schemas/ErrorResponse\"\n+                }\n+              }\n+            }\n           }\n-        },\n-        \"required\": [\n-          \"success\"\n-        ]\n+        }\n       },\n-      \"ErrorResponse\": {\n-        \"type\": \"object\",\n-        \"properties\": {\n-          \"success\": {\n-            \"type\": \"boolean\",\n-            \"enum\": [\n-              false\n-            ]\n+      \"post\": {\n+        \"summary\": \"Create a purchase order\",\n+        \"operationId\": \"createPurchaseOrder\",\n+        \"tags\": [\n+          \"Purchase Orders\"\n+        ],\n+        \"requestBody\": {\n+          \"required\": true,\n+          \"content\": {\n+            \"application/json\": {\n+              \"schema\": {\n+                \"$ref\": \"#/components/schemas/PurchaseOrderCreateRequest\"\n+              }\n+            }\n+          }\n+        },\n+        \"responses\": {\n+          \"200\": {\n+            \"description\": \"Created\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"allOf\": [\n+                    {\n+                      \"$ref\": \"#/components/schemas/ApiResponse\"\n+                    },\n+                    {\n+                      \"type\": \"object\",\n+                      \"properties\": {\n+                        \"data\": {\n+                          \"$ref\": \"#/components/schemas/PurchaseOrder\"\n+                        }\n+                      }\n+                    }\n+                  ]\n+                },\n+                \"examples\": {\n+                  \"created\": {\n+                    \"summary\": \"Created purchase order\",\n+                    \"value\": {\n+                      \"success\": true,\n+                      \"message\": \"Created\",\n+                      \"data\": {\n+                        \"_id\": \"64f0a1b2c3d4e5f678901235\",\n+                        \"poid\": \"PO-2025-0002\",\n+                        \"orderNumber\": \"PO-2025-0002\",\n+                        \"posupplier\": \"Acme Pharma\",\n+                        \"items\": [\n+                          {\n+                            \"_id\": \"64f0a1b2c3d4e5f678902000\",\n+                            \"did\": \"SKU-1002\",\n+                            \"dname\": \"Pain Relief Tablets\",\n+                            \"dquantity\": 20,\n+                            \"dtotalCost\": 4000,\n+                            \"unitPrice\": 200\n+                          }\n+                        ],\n+                        \"totalAmount\": 4000,\n+                        \"status\": \"pending\",\n+                        \"paymentStatus\": \"���I\",\n+                        \"createdAt\": \"2025-01-02T00:00:00.000Z\",\n+                        \"updatedAt\": \"2025-01-02T00:00:00.000Z\"\n+                      },\n+                      \"timestamp\": \"2025-01-02T00:00:00.000Z\"\n+                    }\n+                  }\n+                }\n+              }\n+            }\n           },\n-          \"message\": {\n-            \"type\": \"string\"\n+          \"400\": {\n+            \"description\": \"Validation error\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"$ref\": \"#/components/schemas/ErrorResponse\"\n+                }\n+              }\n+            }\n           },\n-          \"error\": {\n-            \"type\": \"string\"\n+          \"401\": {\n+            \"description\": \"Unauthorized\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"$ref\": \"#/components/schemas/ErrorResponse\"\n+                }\n+              }\n+            }\n           },\n-          \"errors\": {\n-            \"type\": \"array\",\n-            \"items\": {\n-              \"type\": \"object\",\n-              \"properties\": {\n-                \"msg\": {\n-                  \"type\": \"string\"\n-                },\n-                \"param\": {\n-                  \"type\": \"string\"\n+          \"500\": {\n+            \"description\": \"Server error\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"$ref\": \"#/components/schemas/ErrorResponse\"\n+                }\n+              }\n+            }\n+          }\n+        }\n+      }\n+    },\n+    \"/purchase-orders/{id}\": {\n+      \"get\": {\n+        \"summary\": \"Get purchase order by ID\",\n+        \"operationId\": \"getPurchaseOrderById\",\n+        \"tags\": [\n+          \"Purchase Orders\"\n+        ],\n+        \"parameters\": [\n+          {\n+            \"in\": \"path\",\n+            \"name\": \"id\",\n+            \"required\": true,\n+            \"schema\": {\n+              \"type\": \"string\"\n+            }\n+          }\n+        ],\n+        \"responses\": {\n+          \"200\": {\n+            \"description\": \"OK\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"allOf\": [\n+                    {\n+                      \"$ref\": \"#/components/schemas/ApiResponse\"\n+                    },\n+                    {\n+                      \"properties\": {\n+                        \"data\": {\n+                          \"$ref\": \"#/components/schemas/PurchaseOrder\"\n+                        }\n+                      }\n+                    }\n+                  ]\n                 },\n-                \"location\": {\n-                  \"type\": \"string\"\n+                \"examples\": {\n+                  \"purchaseOrder\": {\n+                    \"summary\": \"Purchase order\",\n+                    \"value\": {\n+                      \"success\": true,\n+                      \"message\": \"OK\",\n+                      \"data\": {\n+                        \"_id\": \"64f0a1b2c3d4e5f678901234\",\n+                        \"poid\": \"PO-2025-0001\",\n+                        \"orderNumber\": \"PO-2025-0001\",\n+                        \"posupplier\": \"Acme Pharma\",\n+                        \"items\": [\n+                          {\n+                            \"_id\": \"64f0a1b2c3d4e5f678901999\",\n+                            \"did\": \"SKU-1001\",\n+                            \"dname\": \"Vitamin C 500mg\",\n+                            \"dquantity\": 10,\n+                            \"dtotalCost\": 2500,\n+                            \"unitPrice\": 250\n+                          }\n+                        ],\n+                        \"totalAmount\": 2500,\n+                        \"status\": \"pending\",\n+                        \"paymentStatus\": \"���I\",\n+                        \"createdAt\": \"2025-01-01T00:00:00.000Z\",\n+                        \"updatedAt\": \"2025-01-01T00:00:00.000Z\"\n+                      },\n+                      \"timestamp\": \"2025-01-01T00:00:00.000Z\"\n+                    }\n+                  }\n                 }\n-              },\n-              \"required\": [\n-                \"msg\"\n-              ]\n+              }\n             }\n           },\n-          \"details\": {\n-            \"type\": \"object\",\n-            \"additionalProperties\": true\n-          },\n-          \"statusCode\": {\n-            \"type\": \"number\"\n+          \"404\": {\n+            \"description\": \"Not found\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"$ref\": \"#/components/schemas/ErrorResponse\"\n+                }\n+              }\n+            }\n           },\n-          \"timestamp\": {\n-            \"type\": \"string\",\n-            \"format\": \"date-time\"\n+          \"500\": {\n+            \"description\": \"Server error\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"$ref\": \"#/components/schemas/ErrorResponse\"\n+                }\n+              }\n+            }\n           }\n-        },\n-        \"required\": [\n-          \"success\",\n-          \"message\"\n-        ]\n+        }\n       },\n-      \"SaleItem\": {\n-        \"type\": \"object\",\n-        \"properties\": {\n-          \"product\": {\n-            \"type\": \"string\",\n-            \"minLength\": 24,\n-            \"maxLength\": 24\n+      \"put\": {\n+        \"summary\": \"Update a purchase order\",\n+        \"operationId\": \"updatePurchaseOrder\",\n+        \"tags\": [\n+          \"Purchase Orders\"\n+        ],\n+        \"parameters\": [\n+          {\n+            \"in\": \"path\",\n+            \"name\": \"id\",\n+            \"required\": true,\n+            \"schema\": {\n+              \"type\": \"string\"\n+            }\n+          }\n+        ],\n+        \"requestBody\": {\n+          \"required\": true,\n+          \"content\": {\n+            \"application/json\": {\n+              \"schema\": {\n+                \"$ref\": \"#/components/schemas/PurchaseOrderUpdateRequest\"\n+              }\n+            }\n+          }\n+        },\n+        \"responses\": {\n+          \"200\": {\n+            \"description\": \"Updated\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"allOf\": [\n+                    {\n+                      \"$ref\": \"#/components/schemas/ApiResponse\"\n+                    },\n+                    {\n+                      \"properties\": {\n+                        \"data\": {\n+                          \"$ref\": \"#/components/schemas/PurchaseOrder\"\n+                        }\n+                      }\n+                    }\n+                  ]\n+                }\n+              }\n+            }\n           },\n-          \"quantity\": {\n+          \"400\": {\n+            \"description\": \"Validation error\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"$ref\": \"#/components/schemas/ErrorResponse\"\n+                }\n+              }\n+            }\n+          },\n+          \"401\": {\n+            \"description\": \"Unauthorized\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"$ref\": \"#/components/schemas/ErrorResponse\"\n+                }\n+              }\n+            }\n+          },\n+          \"404\": {\n+            \"description\": \"Not found\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"$ref\": \"#/components/schemas/ErrorResponse\"\n+                }\n+              }\n+            }\n+          },\n+          \"500\": {\n+            \"description\": \"Server error\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"$ref\": \"#/components/schemas/ErrorResponse\"\n+                }\n+              }\n+            }\n+          }\n+        }\n+      },\n+      \"delete\": {\n+        \"summary\": \"Delete a purchase order\",\n+        \"operationId\": \"deletePurchaseOrder\",\n+        \"tags\": [\n+          \"Purchase Orders\"\n+        ],\n+        \"parameters\": [\n+          {\n+            \"in\": \"path\",\n+            \"name\": \"id\",\n+            \"required\": true,\n+            \"schema\": {\n+              \"type\": \"string\"\n+            }\n+          }\n+        ],\n+        \"responses\": {\n+          \"200\": {\n+            \"description\": \"Deleted\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"$ref\": \"#/components/schemas/ApiResponse\"\n+                }\n+              }\n+            }\n+          },\n+          \"404\": {\n+            \"description\": \"Not found\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"$ref\": \"#/components/schemas/ErrorResponse\"\n+                }\n+              }\n+            }\n+          },\n+          \"500\": {\n+            \"description\": \"Server error\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"$ref\": \"#/components/schemas/ErrorResponse\"\n+                }\n+              }\n+            }\n+          }\n+        }\n+      }\n+    },\n+    \"/purchase-orders/supplier/{supplierId}\": {\n+      \"get\": {\n+        \"summary\": \"List purchase orders by supplier\",\n+        \"operationId\": \"getPurchaseOrdersBySupplier\",\n+        \"tags\": [\n+          \"Purchase Orders\"\n+        ],\n+        \"parameters\": [\n+          {\n+            \"in\": \"path\",\n+            \"name\": \"supplierId\",\n+            \"required\": true,\n+            \"schema\": {\n+              \"type\": \"string\"\n+            }\n+          }\n+        ],\n+        \"responses\": {\n+          \"200\": {\n+            \"description\": \"OK\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"allOf\": [\n+                    {\n+                      \"$ref\": \"#/components/schemas/ApiResponse\"\n+                    },\n+                    {\n+                      \"properties\": {\n+                        \"data\": {\n+                          \"type\": \"array\",\n+                          \"items\": {\n+                            \"$ref\": \"#/components/schemas/PurchaseOrder\"\n+                          }\n+                        }\n+                      }\n+                    }\n+                  ]\n+                }\n+              }\n+            }\n+          },\n+          \"404\": {\n+            \"description\": \"Supplier not found\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"$ref\": \"#/components/schemas/ErrorResponse\"\n+                }\n+              }\n+            }\n+          },\n+          \"500\": {\n+            \"description\": \"Server error\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"$ref\": \"#/components/schemas/ErrorResponse\"\n+                }\n+              }\n+            }\n+          }\n+        }\n+      }\n+    },\n+    \"/purchase-orders/product/{productId}\": {\n+      \"get\": {\n+        \"summary\": \"List purchase orders by product\",\n+        \"operationId\": \"getPurchaseOrdersByProduct\",\n+        \"tags\": [\n+          \"Purchase Orders\"\n+        ],\n+        \"parameters\": [\n+          {\n+            \"in\": \"path\",\n+            \"name\": \"productId\",\n+            \"required\": true,\n+            \"schema\": {\n+              \"type\": \"string\"\n+            }\n+          }\n+        ],\n+        \"responses\": {\n+          \"200\": {\n+            \"description\": \"OK\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"allOf\": [\n+                    {\n+                      \"$ref\": \"#/components/schemas/ApiResponse\"\n+                    },\n+                    {\n+                      \"properties\": {\n+                        \"data\": {\n+                          \"type\": \"array\",\n+                          \"items\": {\n+                            \"$ref\": \"#/components/schemas/PurchaseOrder\"\n+                          }\n+                        }\n+                      }\n+                    }\n+                  ]\n+                }\n+              }\n+            }\n+          },\n+          \"404\": {\n+            \"description\": \"Product not found\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"$ref\": \"#/components/schemas/ErrorResponse\"\n+                }\n+              }\n+            }\n+          },\n+          \"500\": {\n+            \"description\": \"Server error\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"$ref\": \"#/components/schemas/ErrorResponse\"\n+                }\n+              }\n+            }\n+          }\n+        }\n+      }\n+    },\n+    \"/purchase-orders/recent/list\": {\n+      \"get\": {\n+        \"summary\": \"List recent purchase orders\",\n+        \"operationId\": \"getRecentPurchaseOrders\",\n+        \"tags\": [\n+          \"Purchase Orders\"\n+        ],\n+        \"parameters\": [\n+          {\n+            \"in\": \"query\",\n+            \"name\": \"limit\",\n+            \"required\": false,\n+            \"schema\": {\n+              \"type\": \"integer\",\n+              \"minimum\": 1,\n+              \"maximum\": 100,\n+              \"default\": 10\n+            }\n+          }\n+        ],\n+        \"responses\": {\n+          \"200\": {\n+            \"description\": \"OK\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"allOf\": [\n+                    {\n+                      \"$ref\": \"#/components/schemas/ApiResponse\"\n+                    },\n+                    {\n+                      \"properties\": {\n+                        \"data\": {\n+                          \"type\": \"array\",\n+                          \"items\": {\n+                            \"$ref\": \"#/components/schemas/PurchaseOrder\"\n+                          }\n+                        }\n+                      }\n+                    }\n+                  ]\n+                }\n+              }\n+            }\n+          },\n+          \"500\": {\n+            \"description\": \"Server error\",\n+            \"content\": {\n+              \"application/json\": {\n+                \"schema\": {\n+                  \"$ref\": \"#/components/schemas/ErrorResponse\"\n+                }\n+              }\n+            }\n+          }\n+        }\n+      }\n+    }\n+  },\n+  \"components\": {\n+    \"schemas\": {\n+      \"ApiResponse\": {\n+        \"type\": \"object\",\n+        \"properties\": {\n+          \"success\": {\n+            \"type\": \"boolean\"\n+          },\n+          \"message\": {\n+            \"type\": \"string\"\n+          },\n+          \"data\": {},\n+          \"timestamp\": {\n+            \"type\": \"string\",\n+            \"format\": \"date-time\"\n+          }\n+        },\n+        \"required\": [\n+          \"success\"\n+        ]\n+      },\n+      \"ErrorResponse\": {\n+        \"type\": \"object\",\n+        \"properties\": {\n+          \"success\": {\n+            \"type\": \"boolean\",\n+            \"enum\": [\n+              false\n+            ]\n+          },\n+          \"message\": {\n+            \"type\": \"string\"\n+          },\n+          \"error\": {\n+            \"type\": \"string\"\n+          },\n+          \"errors\": {\n+            \"type\": \"array\",\n+            \"items\": {\n+              \"type\": \"object\",\n+              \"properties\": {\n+                \"msg\": {\n+                  \"type\": \"string\"\n+                },\n+                \"param\": {\n+                  \"type\": \"string\"\n+                },\n+                \"location\": {\n+                  \"type\": \"string\"\n+                }\n+              },\n+              \"required\": [\n+                \"msg\"\n+              ]\n+            }\n+          },\n+          \"details\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": true\n+          },\n+          \"statusCode\": {\n+            \"type\": \"number\"\n+          },\n+          \"timestamp\": {\n+            \"type\": \"string\",\n+            \"format\": \"date-time\"\n+          }\n+        },\n+        \"required\": [\n+          \"success\",\n+          \"message\"\n+        ]\n+      },\n+      \"SaleItem\": {\n+        \"type\": \"object\",\n+        \"properties\": {\n+          \"product\": {\n+            \"type\": \"string\",\n+            \"minLength\": 24,\n+            \"maxLength\": 24\n+          },\n+          \"quantity\": {\n+            \"type\": \"number\",\n+            \"minimum\": 0.001,\n+            \"maximum\": 999999\n+          },\n+          \"price\": {\n+            \"type\": \"number\",\n+            \"minimum\": 0,\n+            \"maximum\": 999999.99\n+          },\n+          \"unitPrice\": {\n+            \"type\": \"number\",\n+            \"minimum\": 0,\n+            \"maximum\": 999999.99\n+          },\n+          \"discount\": {\n+            \"type\": \"number\",\n+            \"minimum\": 0,\n+            \"maximum\": 999999.99\n+          },\n+          \"subtotal\": {\n+            \"type\": \"number\",\n+            \"minimum\": 0,\n+            \"maximum\": 9999999.99\n+          },\n+          \"notes\": {\n+            \"type\": \"string\",\n+            \"maxLength\": 500\n+          }\n+        },\n+        \"required\": [\n+          \"product\",\n+          \"quantity\",\n+          \"price\",\n+          \"subtotal\"\n+        ],\n+        \"additionalProperties\": false\n+      },\n+      \"SaleCreateRequest\": {\n+        \"type\": \"object\",\n+        \"properties\": {\n+          \"saleNumber\": {\n+            \"type\": \"string\"\n+          },\n+          \"customer\": {\n+            \"type\": \"string\",\n+            \"minLength\": 24,\n+            \"maxLength\": 24\n+          },\n+          \"items\": {\n+            \"type\": \"array\",\n+            \"items\": {\n+              \"type\": \"object\",\n+              \"properties\": {\n+                \"product\": {\n+                  \"$ref\": \"#/definitions/SaleCreateRequest/properties/customer\"\n+                },\n+                \"quantity\": {\n+                  \"type\": \"number\",\n+                  \"minimum\": 0.001,\n+                  \"maximum\": 999999\n+                },\n+                \"price\": {\n+                  \"type\": \"number\",\n+                  \"minimum\": 0,\n+                  \"maximum\": 999999.99\n+                },\n+                \"unitPrice\": {\n+                  \"type\": \"number\",\n+                  \"minimum\": 0,\n+                  \"maximum\": 999999.99\n+                },\n+                \"discount\": {\n+                  \"type\": \"number\",\n+                  \"minimum\": 0,\n+                  \"maximum\": 999999.99\n+                },\n+                \"subtotal\": {\n+                  \"type\": \"number\",\n+                  \"minimum\": 0,\n+                  \"maximum\": 9999999.99\n+                },\n+                \"notes\": {\n+                  \"type\": \"string\",\n+                  \"maxLength\": 500\n+                }\n+              },\n+              \"required\": [\n+                \"product\",\n+                \"quantity\",\n+                \"price\",\n+                \"subtotal\"\n+              ],\n+              \"additionalProperties\": false\n+            },\n+            \"minItems\": 1\n+          },\n+          \"totalAmount\": {\n+            \"type\": \"number\",\n+            \"minimum\": 0,\n+            \"maximum\": 9999999.99\n+          },\n+          \"discount\": {\n+            \"type\": \"number\",\n+            \"minimum\": 0,\n+            \"maximum\": 9999999.99\n+          },\n+          \"paymentMethod\": {\n+            \"type\": \"string\",\n+            \"enum\": [\n+              \"cash\",\n+              \"card\",\n+              \"credit_card\",\n+              \"debit_card\",\n+              \"transfer\",\n+              \"mobile_payment\",\n+              \"other\"\n+            ]\n+          },\n+          \"paymentStatus\": {\n+            \"type\": \"string\",\n+            \"enum\": [\n+              \"paid\",\n+              \"pending\",\n+              \"partial\",\n+              \"cancelled\"\n+            ]\n+          },\n+          \"status\": {\n+            \"type\": \"string\",\n+            \"enum\": [\n+              \"completed\",\n+              \"pending\",\n+              \"cancelled\"\n+            ]\n+          },\n+          \"notes\": {\n+            \"type\": \"string\",\n+            \"maxLength\": 1000\n+          },\n+          \"note\": {\n+            \"type\": \"string\",\n+            \"maxLength\": 1000\n+          },\n+          \"cashier\": {\n+            \"$ref\": \"#/definitions/SaleCreateRequest/properties/customer\"\n+          },\n+          \"createdBy\": {\n+            \"$ref\": \"#/definitions/SaleCreateRequest/properties/customer\"\n+          },\n+          \"date\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"string\",\n+                \"format\": \"date-time\"\n+              },\n+              {\n+                \"type\": \"string\",\n+                \"format\": \"date-time\"\n+              }\n+            ]\n+          }\n+        },\n+        \"required\": [\n+          \"items\",\n+          \"totalAmount\",\n+          \"paymentMethod\"\n+        ],\n+        \"additionalProperties\": false\n+      },\n+      \"SaleUpdateRequest\": {\n+        \"type\": \"object\",\n+        \"properties\": {\n+          \"saleNumber\": {\n+            \"type\": \"string\"\n+          },\n+          \"customer\": {\n+            \"type\": \"string\",\n+            \"minLength\": 24,\n+            \"maxLength\": 24\n+          },\n+          \"items\": {\n+            \"type\": \"array\",\n+            \"items\": {\n+              \"type\": \"object\",\n+              \"properties\": {\n+                \"product\": {\n+                  \"$ref\": \"#/definitions/SaleUpdateRequest/properties/customer\"\n+                },\n+                \"quantity\": {\n+                  \"type\": \"number\",\n+                  \"minimum\": 0.001,\n+                  \"maximum\": 999999\n+                },\n+                \"price\": {\n+                  \"type\": \"number\",\n+                  \"minimum\": 0,\n+                  \"maximum\": 999999.99\n+                },\n+                \"unitPrice\": {\n+                  \"type\": \"number\",\n+                  \"minimum\": 0,\n+                  \"maximum\": 999999.99\n+                },\n+                \"discount\": {\n+                  \"type\": \"number\",\n+                  \"minimum\": 0,\n+                  \"maximum\": 999999.99\n+                },\n+                \"subtotal\": {\n+                  \"type\": \"number\",\n+                  \"minimum\": 0,\n+                  \"maximum\": 9999999.99\n+                },\n+                \"notes\": {\n+                  \"type\": \"string\",\n+                  \"maxLength\": 500\n+                }\n+              },\n+              \"required\": [\n+                \"product\",\n+                \"quantity\",\n+                \"price\",\n+                \"subtotal\"\n+              ],\n+              \"additionalProperties\": false\n+            },\n+            \"minItems\": 1\n+          },\n+          \"totalAmount\": {\n+            \"type\": \"number\",\n+            \"minimum\": 0,\n+            \"maximum\": 9999999.99\n+          },\n+          \"discount\": {\n+            \"type\": \"number\",\n+            \"minimum\": 0,\n+            \"maximum\": 9999999.99\n+          },\n+          \"paymentMethod\": {\n+            \"type\": \"string\",\n+            \"enum\": [\n+              \"cash\",\n+              \"card\",\n+              \"credit_card\",\n+              \"debit_card\",\n+              \"transfer\",\n+              \"mobile_payment\",\n+              \"other\"\n+            ]\n+          },\n+          \"paymentStatus\": {\n+            \"type\": \"string\",\n+            \"enum\": [\n+              \"paid\",\n+              \"pending\",\n+              \"partial\",\n+              \"cancelled\"\n+            ]\n+          },\n+          \"status\": {\n+            \"type\": \"string\",\n+            \"enum\": [\n+              \"completed\",\n+              \"pending\",\n+              \"cancelled\"\n+            ]\n+          },\n+          \"notes\": {\n+            \"type\": \"string\",\n+            \"maxLength\": 1000\n+          },\n+          \"note\": {\n+            \"type\": \"string\",\n+            \"maxLength\": 1000\n+          },\n+          \"cashier\": {\n+            \"$ref\": \"#/definitions/SaleUpdateRequest/properties/customer\"\n+          },\n+          \"createdBy\": {\n+            \"$ref\": \"#/definitions/SaleUpdateRequest/properties/customer\"\n+          },\n+          \"date\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"string\",\n+                \"format\": \"date-time\"\n+              },\n+              {\n+                \"type\": \"string\",\n+                \"format\": \"date-time\"\n+              }\n+            ]\n+          },\n+          \"_id\": {\n+            \"$ref\": \"#/definitions/SaleUpdateRequest/properties/customer\"\n+          }\n+        },\n+        \"required\": [\n+          \"_id\"\n+        ],\n+        \"additionalProperties\": false\n+      },\n+      \"SaleSearchQuery\": {\n+        \"type\": \"object\",\n+        \"properties\": {\n+          \"saleNumber\": {\n+            \"type\": \"string\"\n+          },\n+          \"customer\": {\n+            \"type\": \"string\"\n+          },\n+          \"startDate\": {\n+            \"type\": \"string\",\n+            \"pattern\": \"^\\\\d{4}-\\\\d{2}-\\\\d{2}$\"\n+          },\n+          \"endDate\": {\n+            \"type\": \"string\",\n+            \"pattern\": \"^\\\\d{4}-\\\\d{2}-\\\\d{2}$\"\n+          },\n+          \"paymentMethod\": {\n+            \"type\": \"string\",\n+            \"enum\": [\n+              \"cash\",\n+              \"card\",\n+              \"credit_card\",\n+              \"debit_card\",\n+              \"transfer\",\n+              \"mobile_payment\",\n+              \"other\"\n+            ]\n+          },\n+          \"paymentStatus\": {\n+            \"type\": \"string\",\n+            \"enum\": [\n+              \"paid\",\n+              \"pending\",\n+              \"partial\",\n+              \"cancelled\"\n+            ]\n+          },\n+          \"status\": {\n+            \"type\": \"string\",\n+            \"enum\": [\n+              \"completed\",\n+              \"pending\",\n+              \"cancelled\"\n+            ]\n+          },\n+          \"minAmount\": {\n+            \"type\": \"number\",\n+            \"minimum\": 0\n+          },\n+          \"maxAmount\": {\n+            \"type\": \"number\",\n+            \"minimum\": 0\n+          },\n+          \"cashier\": {\n+            \"type\": \"string\"\n+          },\n+          \"createdBy\": {\n+            \"type\": \"string\"\n+          }\n+        },\n+        \"additionalProperties\": false\n+      },\n+      \"Customer\": {\n+        \"type\": \"object\",\n+        \"properties\": {\n+          \"name\": {\n+            \"type\": \"string\",\n+            \"minLength\": 1,\n+            \"maxLength\": 100\n+          },\n+          \"code\": {\n+            \"type\": \"string\"\n+          },\n+          \"phone\": {\n+            \"type\": \"string\",\n+            \"pattern\": \"^[\\\\d\\\\s\\\\-+()]+$\",\n+            \"minLength\": 8,\n+            \"maxLength\": 20\n+          },\n+          \"email\": {\n+            \"type\": \"string\",\n+            \"pattern\": \"^[^\\\\s@]+@[^\\\\s@]+\\\\.[^\\\\s@]+$\",\n+            \"maxLength\": 254\n+          },\n+          \"address\": {\n+            \"type\": \"string\"\n+          },\n+          \"idCardNumber\": {\n+            \"type\": \"string\",\n+            \"pattern\": \"^[A-Z][12]\\\\d{8}$\"\n+          },\n+          \"birthdate\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"string\"\n+              },\n+              {\n+                \"type\": \"string\",\n+                \"format\": \"date-time\"\n+              }\n+            ]\n+          },\n+          \"gender\": {\n+            \"type\": \"string\",\n+            \"enum\": [\n+              \"male\",\n+              \"female\",\n+              \"other\"\n+            ]\n+          },\n+          \"allergies\": {\n+            \"type\": \"array\",\n+            \"items\": {\n+              \"type\": \"string\"\n+            }\n+          },\n+          \"membershipLevel\": {\n+            \"type\": \"string\",\n+            \"enum\": [\n+              \"regular\",\n+              \"silver\",\n+              \"gold\",\n+              \"platinum\"\n+            ]\n+          },\n+          \"medicalHistory\": {\n+            \"type\": \"string\"\n+          },\n+          \"notes\": {\n+            \"type\": \"string\"\n+          }\n+        },\n+        \"required\": [\n+          \"name\"\n+        ],\n+        \"additionalProperties\": false\n+      },\n+      \"CustomerCreateRequest\": {\n+        \"type\": \"object\",\n+        \"properties\": {\n+          \"name\": {\n+            \"type\": \"string\",\n+            \"minLength\": 1,\n+            \"maxLength\": 100\n+          },\n+          \"code\": {\n+            \"type\": \"string\"\n+          },\n+          \"phone\": {\n+            \"type\": \"string\",\n+            \"pattern\": \"^[\\\\d\\\\s\\\\-+()]+$\",\n+            \"minLength\": 8,\n+            \"maxLength\": 20\n+          },\n+          \"email\": {\n+            \"type\": \"string\",\n+            \"pattern\": \"^[^\\\\s@]+@[^\\\\s@]+\\\\.[^\\\\s@]+$\",\n+            \"maxLength\": 254\n+          },\n+          \"address\": {\n+            \"type\": \"string\"\n+          },\n+          \"idCardNumber\": {\n+            \"type\": \"string\",\n+            \"pattern\": \"^[A-Z][12]\\\\d{8}$\"\n+          },\n+          \"birthdate\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"string\"\n+              },\n+              {\n+                \"type\": \"string\",\n+                \"format\": \"date-time\"\n+              }\n+            ]\n+          },\n+          \"gender\": {\n+            \"type\": \"string\",\n+            \"enum\": [\n+              \"male\",\n+              \"female\",\n+              \"other\"\n+            ]\n+          },\n+          \"allergies\": {\n+            \"type\": \"array\",\n+            \"items\": {\n+              \"type\": \"string\"\n+            }\n+          },\n+          \"membershipLevel\": {\n+            \"type\": \"string\",\n+            \"enum\": [\n+              \"regular\",\n+              \"silver\",\n+              \"gold\",\n+              \"platinum\"\n+            ]\n+          },\n+          \"medicalHistory\": {\n+            \"type\": \"string\"\n+          },\n+          \"notes\": {\n+            \"type\": \"string\"\n+          }\n+        },\n+        \"required\": [\n+          \"name\"\n+        ],\n+        \"additionalProperties\": false\n+      },\n+      \"CustomerUpdateRequest\": {\n+        \"type\": \"object\",\n+        \"properties\": {\n+          \"name\": {\n+            \"type\": \"string\",\n+            \"minLength\": 1,\n+            \"maxLength\": 100\n+          },\n+          \"code\": {\n+            \"type\": \"string\"\n+          },\n+          \"phone\": {\n+            \"type\": \"string\",\n+            \"pattern\": \"^[\\\\d\\\\s\\\\-+()]+$\",\n+            \"minLength\": 8,\n+            \"maxLength\": 20\n+          },\n+          \"email\": {\n+            \"type\": \"string\",\n+            \"pattern\": \"^[^\\\\s@]+@[^\\\\s@]+\\\\.[^\\\\s@]+$\",\n+            \"maxLength\": 254\n+          },\n+          \"address\": {\n+            \"type\": \"string\"\n+          },\n+          \"idCardNumber\": {\n+            \"type\": \"string\",\n+            \"pattern\": \"^[A-Z][12]\\\\d{8}$\"\n+          },\n+          \"birthdate\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"string\"\n+              },\n+              {\n+                \"type\": \"string\",\n+                \"format\": \"date-time\"\n+              }\n+            ]\n+          },\n+          \"gender\": {\n+            \"type\": \"string\",\n+            \"enum\": [\n+              \"male\",\n+              \"female\",\n+              \"other\"\n+            ]\n+          },\n+          \"allergies\": {\n+            \"type\": \"array\",\n+            \"items\": {\n+              \"type\": \"string\"\n+            }\n+          },\n+          \"membershipLevel\": {\n+            \"type\": \"string\",\n+            \"enum\": [\n+              \"regular\",\n+              \"silver\",\n+              \"gold\",\n+              \"platinum\"\n+            ]\n+          },\n+          \"medicalHistory\": {\n+            \"type\": \"string\"\n+          },\n+          \"notes\": {\n+            \"type\": \"string\"\n+          }\n+        },\n+        \"additionalProperties\": false\n+      },\n+      \"CustomerSearchQuery\": {\n+        \"type\": \"object\",\n+        \"properties\": {\n+          \"search\": {\n+            \"type\": \"string\"\n+          },\n+          \"wildcardSearch\": {\n+            \"type\": \"string\"\n+          },\n+          \"page\": {\n             \"type\": \"number\",\n-            \"minimum\": 0.001,\n-            \"maximum\": 999999\n+            \"minimum\": 1\n           },\n-          \"price\": {\n+          \"limit\": {\n             \"type\": \"number\",\n-            \"minimum\": 0,\n-            \"maximum\": 999999.99\n+            \"minimum\": 1,\n+            \"maximum\": 100\n+          },\n+          \"sortBy\": {\n+            \"type\": \"string\"\n+          },\n+          \"sortOrder\": {\n+            \"type\": \"string\",\n+            \"enum\": [\n+              \"asc\",\n+              \"desc\"\n+            ]\n+          }\n+        },\n+        \"additionalProperties\": false\n+      },\n+      \"CustomerQuickCreateRequest\": {\n+        \"type\": \"object\",\n+        \"properties\": {\n+          \"name\": {\n+            \"type\": \"string\",\n+            \"minLength\": 1,\n+            \"maxLength\": 100\n+          },\n+          \"birthdate\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"string\"\n+              },\n+              {\n+                \"type\": \"string\",\n+                \"format\": \"date-time\"\n+              }\n+            ]\n+          },\n+          \"idCardNumber\": {\n+            \"type\": \"string\",\n+            \"pattern\": \"^[A-Z][12]\\\\d{8}$\"\n+          },\n+          \"notes\": {\n+            \"type\": \"string\"\n+          }\n+        },\n+        \"required\": [\n+          \"name\",\n+          \"birthdate\",\n+          \"idCardNumber\"\n+        ],\n+        \"additionalProperties\": false\n+      },\n+      \"Supplier\": {\n+        \"type\": \"object\",\n+        \"properties\": {\n+          \"name\": {\n+            \"type\": \"string\",\n+            \"minLength\": 1,\n+            \"maxLength\": 100\n+          },\n+          \"code\": {\n+            \"type\": \"string\",\n+            \"minLength\": 1,\n+            \"maxLength\": 50\n+          },\n+          \"shortCode\": {\n+            \"type\": \"string\",\n+            \"minLength\": 1,\n+            \"maxLength\": 20\n+          },\n+          \"contactPerson\": {\n+            \"type\": \"string\",\n+            \"minLength\": 1,\n+            \"maxLength\": 100\n+          },\n+          \"phone\": {\n+            \"type\": \"string\",\n+            \"pattern\": \"^[\\\\d\\\\s\\\\-+()]+$\",\n+            \"minLength\": 8,\n+            \"maxLength\": 20\n+          },\n+          \"email\": {\n+            \"type\": \"string\",\n+            \"pattern\": \"^[^\\\\s@]+@[^\\\\s@]+\\\\.[^\\\\s@]+$\",\n+            \"maxLength\": 254\n+          },\n+          \"address\": {\n+            \"type\": \"string\",\n+            \"maxLength\": 200\n+          },\n+          \"taxId\": {\n+            \"type\": \"string\",\n+            \"pattern\": \"^\\\\d{8}$\"\n+          },\n+          \"paymentTerms\": {\n+            \"type\": \"string\",\n+            \"maxLength\": 200\n+          },\n+          \"notes\": {\n+            \"type\": \"string\",\n+            \"maxLength\": 500\n+          },\n+          \"isActive\": {\n+            \"type\": \"boolean\"\n+          }\n+        },\n+        \"required\": [\n+          \"name\"\n+        ],\n+        \"additionalProperties\": false\n+      },\n+      \"SupplierCreateRequest\": {\n+        \"type\": \"object\",\n+        \"properties\": {\n+          \"name\": {\n+            \"type\": \"string\",\n+            \"minLength\": 1,\n+            \"maxLength\": 100\n+          },\n+          \"code\": {\n+            \"type\": \"string\",\n+            \"minLength\": 1,\n+            \"maxLength\": 50\n+          },\n+          \"shortCode\": {\n+            \"type\": \"string\",\n+            \"minLength\": 1,\n+            \"maxLength\": 20\n+          },\n+          \"contactPerson\": {\n+            \"type\": \"string\",\n+            \"minLength\": 1,\n+            \"maxLength\": 100\n+          },\n+          \"phone\": {\n+            \"type\": \"string\",\n+            \"pattern\": \"^[\\\\d\\\\s\\\\-+()]+$\",\n+            \"minLength\": 8,\n+            \"maxLength\": 20\n+          },\n+          \"email\": {\n+            \"type\": \"string\",\n+            \"pattern\": \"^[^\\\\s@]+@[^\\\\s@]+\\\\.[^\\\\s@]+$\",\n+            \"maxLength\": 254\n+          },\n+          \"address\": {\n+            \"type\": \"string\",\n+            \"maxLength\": 200\n+          },\n+          \"taxId\": {\n+            \"type\": \"string\",\n+            \"pattern\": \"^\\\\d{8}$\"\n+          },\n+          \"paymentTerms\": {\n+            \"type\": \"string\",\n+            \"maxLength\": 200\n+          },\n+          \"notes\": {\n+            \"type\": \"string\",\n+            \"maxLength\": 500\n+          },\n+          \"isActive\": {\n+            \"type\": \"boolean\"\n+          }\n+        },\n+        \"required\": [\n+          \"name\"\n+        ],\n+        \"additionalProperties\": false\n+      },\n+      \"SupplierUpdateRequest\": {\n+        \"type\": \"object\",\n+        \"properties\": {\n+          \"name\": {\n+            \"type\": \"string\",\n+            \"minLength\": 1,\n+            \"maxLength\": 100\n+          },\n+          \"code\": {\n+            \"type\": \"string\",\n+            \"minLength\": 1,\n+            \"maxLength\": 50\n+          },\n+          \"shortCode\": {\n+            \"type\": \"string\",\n+            \"minLength\": 1,\n+            \"maxLength\": 20\n+          },\n+          \"contactPerson\": {\n+            \"type\": \"string\",\n+            \"minLength\": 1,\n+            \"maxLength\": 100\n+          },\n+          \"phone\": {\n+            \"type\": \"string\",\n+            \"pattern\": \"^[\\\\d\\\\s\\\\-+()]+$\",\n+            \"minLength\": 8,\n+            \"maxLength\": 20\n           },\n-          \"unitPrice\": {\n-            \"type\": \"number\",\n-            \"minimum\": 0,\n-            \"maximum\": 999999.99\n+          \"email\": {\n+            \"type\": \"string\",\n+            \"pattern\": \"^[^\\\\s@]+@[^\\\\s@]+\\\\.[^\\\\s@]+$\",\n+            \"maxLength\": 254\n           },\n-          \"discount\": {\n-            \"type\": \"number\",\n-            \"minimum\": 0,\n-            \"maximum\": 999999.99\n+          \"address\": {\n+            \"type\": \"string\",\n+            \"maxLength\": 200\n           },\n-          \"subtotal\": {\n-            \"type\": \"number\",\n-            \"minimum\": 0,\n-            \"maximum\": 9999999.99\n+          \"taxId\": {\n+            \"type\": \"string\",\n+            \"pattern\": \"^\\\\d{8}$\"\n+          },\n+          \"paymentTerms\": {\n+            \"type\": \"string\",\n+            \"maxLength\": 200\n           },\n           \"notes\": {\n             \"type\": \"string\",\n             \"maxLength\": 500\n+          },\n+          \"isActive\": {\n+            \"type\": \"boolean\"\n           }\n         },\n-        \"required\": [\n-          \"product\",\n-          \"quantity\",\n-          \"price\",\n-          \"subtotal\"\n-        ],\n         \"additionalProperties\": false\n       },\n-      \"SaleCreateRequest\": {\n+      \"SupplierSearchQuery\": {\n         \"type\": \"object\",\n         \"properties\": {\n-          \"saleNumber\": {\n+          \"search\": {\n             \"type\": \"string\"\n           },\n-          \"customer\": {\n-            \"type\": \"string\",\n-            \"minLength\": 24,\n-            \"maxLength\": 24\n+          \"active\": {\n+            \"type\": \"boolean\"\n           },\n-          \"items\": {\n-            \"type\": \"array\",\n-            \"items\": {\n-              \"type\": \"object\",\n-              \"properties\": {\n-                \"product\": {\n-                  \"$ref\": \"#/definitions/SaleCreateRequest/properties/customer\"\n-                },\n-                \"quantity\": {\n-                  \"type\": \"number\",\n-                  \"minimum\": 0.001,\n-                  \"maximum\": 999999\n-                },\n-                \"price\": {\n-                  \"type\": \"number\",\n-                  \"minimum\": 0,\n-                  \"maximum\": 999999.99\n-                },\n-                \"unitPrice\": {\n-                  \"type\": \"number\",\n-                  \"minimum\": 0,\n-                  \"maximum\": 999999.99\n-                },\n-                \"discount\": {\n-                  \"type\": \"number\",\n-                  \"minimum\": 0,\n-                  \"maximum\": 999999.99\n-                },\n-                \"subtotal\": {\n-                  \"type\": \"number\",\n-                  \"minimum\": 0,\n-                  \"maximum\": 9999999.99\n-                },\n-                \"notes\": {\n-                  \"type\": \"string\",\n-                  \"maxLength\": 500\n-                }\n-              },\n-              \"required\": [\n-                \"product\",\n-                \"quantity\",\n-                \"price\",\n-                \"subtotal\"\n-              ],\n-              \"additionalProperties\": false\n-            },\n-            \"minItems\": 1\n+          \"page\": {\n+            \"type\": \"integer\",\n+            \"minimum\": 1\n           },\n-          \"totalAmount\": {\n-            \"type\": \"number\",\n-            \"minimum\": 0,\n-            \"maximum\": 9999999.99\n+          \"limit\": {\n+            \"type\": \"integer\",\n+            \"minimum\": 1,\n+            \"maximum\": 100\n           },\n-          \"discount\": {\n-            \"type\": \"number\",\n-            \"minimum\": 0,\n-            \"maximum\": 9999999.99\n+          \"sortBy\": {\n+            \"type\": \"string\",\n+            \"maxLength\": 50\n           },\n-          \"paymentMethod\": {\n+          \"sortOrder\": {\n             \"type\": \"string\",\n             \"enum\": [\n-              \"cash\",\n-              \"card\",\n-              \"credit_card\",\n-              \"debit_card\",\n-              \"transfer\",\n-              \"mobile_payment\",\n-              \"other\"\n+              \"asc\",\n+              \"desc\"\n             ]\n+          }\n+        },\n+        \"additionalProperties\": false\n+      },\n+      \"PurchaseOrder\": {\n+        \"type\": \"object\",\n+        \"properties\": {\n+          \"_id\": {\n+            \"type\": \"string\",\n+            \"pattern\": \"^[0-9a-fA-F]{24}$\"\n           },\n-          \"paymentStatus\": {\n+          \"poid\": {\n             \"type\": \"string\",\n-            \"enum\": [\n-              \"paid\",\n-              \"pending\",\n-              \"partial\",\n-              \"cancelled\"\n-            ]\n+            \"minLength\": 1,\n+            \"maxLength\": 64\n           },\n-          \"status\": {\n+          \"orderNumber\": {\n             \"type\": \"string\",\n-            \"enum\": [\n-              \"completed\",\n-              \"pending\",\n-              \"cancelled\"\n+            \"minLength\": 1,\n+            \"maxLength\": 64\n+          },\n+          \"pobill\": {\n+            \"type\": \"string\",\n+            \"maxLength\": 100\n+          },\n+          \"pobilldate\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"string\"\n+              },\n+              {\n+                \"type\": \"string\",\n+                \"format\": \"date-time\"\n+              }\n             ]\n           },\n-          \"notes\": {\n+          \"posupplier\": {\n             \"type\": \"string\",\n-            \"maxLength\": 1000\n+            \"minLength\": 1,\n+            \"maxLength\": 200\n           },\n-          \"note\": {\n+          \"supplier\": {\n+            \"anyOf\": [\n+              {\n+                \"$ref\": \"#/definitions/PurchaseOrder/properties/_id\"\n+              },\n+              {\n+                \"type\": \"object\",\n+                \"properties\": {\n+                  \"_id\": {\n+                    \"$ref\": \"#/definitions/PurchaseOrder/properties/_id\"\n+                  },\n+                  \"name\": {\n+                    \"type\": \"string\"\n+                  },\n+                  \"code\": {\n+                    \"type\": \"string\"\n+                  },\n+                  \"shortCode\": {\n+                    \"type\": \"string\"\n+                  }\n+                },\n+                \"additionalProperties\": true\n+              }\n+            ]\n+          },\n+          \"organizationId\": {\n+            \"$ref\": \"#/definitions/PurchaseOrder/properties/_id\"\n+          },\n+          \"transactionType\": {\n             \"type\": \"string\",\n-            \"maxLength\": 1000\n+            \"enum\": [\n+              \"進貨\",\n+              \"退貨\",\n+              \"支出\"\n+            ]\n           },\n-          \"cashier\": {\n-            \"$ref\": \"#/definitions/SaleCreateRequest/properties/customer\"\n+          \"selectedAccountIds\": {\n+            \"type\": \"array\",\n+            \"items\": {\n+              \"$ref\": \"#/definitions/PurchaseOrder/properties/_id\"\n+            }\n           },\n-          \"createdBy\": {\n-            \"$ref\": \"#/definitions/SaleCreateRequest/properties/customer\"\n+          \"accountingEntryType\": {\n+            \"type\": \"string\",\n+            \"enum\": [\n+              \"expense-asset\",\n+              \"asset-liability\"\n+            ]\n           },\n-          \"date\": {\n+          \"orderDate\": {\n             \"anyOf\": [\n+              {\n+                \"type\": \"string\"\n+              },\n               {\n                 \"type\": \"string\",\n                 \"format\": \"date-time\"\n+              }\n+            ]\n+          },\n+          \"expectedDeliveryDate\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"string\"\n               },\n               {\n                 \"type\": \"string\",\n                 \"format\": \"date-time\"\n               }\n             ]\n-          }\n-        },\n-        \"required\": [\n-          \"items\",\n-          \"totalAmount\",\n-          \"paymentMethod\"\n-        ],\n-        \"additionalProperties\": false\n-      },\n-      \"SaleUpdateRequest\": {\n-        \"type\": \"object\",\n-        \"properties\": {\n-          \"saleNumber\": {\n-            \"type\": \"string\"\n           },\n-          \"customer\": {\n-            \"type\": \"string\",\n-            \"minLength\": 24,\n-            \"maxLength\": 24\n+          \"actualDeliveryDate\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"string\"\n+              },\n+              {\n+                \"type\": \"string\",\n+                \"format\": \"date-time\"\n+              }\n+            ]\n           },\n           \"items\": {\n             \"type\": \"array\",\n             \"items\": {\n               \"type\": \"object\",\n               \"properties\": {\n+                \"_id\": {\n+                  \"$ref\": \"#/definitions/PurchaseOrder/properties/_id\"\n+                },\n                 \"product\": {\n-                  \"$ref\": \"#/definitions/SaleUpdateRequest/properties/customer\"\n+                  \"anyOf\": [\n+                    {\n+                      \"$ref\": \"#/definitions/PurchaseOrder/properties/_id\"\n+                    },\n+                    {\n+                      \"type\": \"object\",\n+                      \"properties\": {\n+                        \"_id\": {\n+                          \"$ref\": \"#/definitions/PurchaseOrder/properties/_id\"\n+                        },\n+                        \"name\": {\n+                          \"type\": \"string\"\n+                        },\n+                        \"code\": {\n+                          \"type\": \"string\"\n+                        }\n+                      },\n+                      \"additionalProperties\": true\n+                    }\n+                  ]\n                 },\n-                \"quantity\": {\n+                \"did\": {\n+                  \"type\": \"string\",\n+                  \"minLength\": 1,\n+                  \"maxLength\": 64\n+                },\n+                \"dname\": {\n+                  \"type\": \"string\",\n+                  \"minLength\": 1,\n+                  \"maxLength\": 200\n+                },\n+                \"dquantity\": {\n                   \"type\": \"number\",\n-                  \"minimum\": 0.001,\n+                  \"exclusiveMinimum\": 0,\n+                  \"minimum\": 0,\n                   \"maximum\": 999999\n                 },\n-                \"price\": {\n+                \"dtotalCost\": {\n                   \"type\": \"number\",\n                   \"minimum\": 0,\n                   \"maximum\": 999999.99\n                 },\n                 \"unitPrice\": {\n-                  \"type\": \"number\",\n-                  \"minimum\": 0,\n-                  \"maximum\": 999999.99\n+                  \"anyOf\": [\n+                    {\n+                      \"type\": \"number\",\n+                      \"minimum\": 0,\n+                      \"maximum\": 999999.99\n+                    },\n+                    {\n+                      \"not\": {}\n+                    },\n+                    {\n+                      \"type\": \"object\"\n+                    },\n+                    {\n+                      \"type\": \"string\",\n+                      \"const\": \"\"\n+                    }\n+                  ]\n                 },\n-                \"discount\": {\n-                  \"type\": \"number\",\n-                  \"minimum\": 0,\n-                  \"maximum\": 999999.99\n+                \"receivedQuantity\": {\n+                  \"anyOf\": [\n+                    {\n+                      \"type\": \"number\",\n+                      \"minimum\": 0,\n+                      \"maximum\": 999999\n+                    },\n+                    {\n+                      \"not\": {}\n+                    },\n+                    {\n+                      \"type\": \"object\"\n+                    },\n+                    {\n+                      \"type\": \"string\",\n+                      \"const\": \"\"\n+                    }\n+                  ]\n                 },\n-                \"subtotal\": {\n-                  \"type\": \"number\",\n-                  \"minimum\": 0,\n-                  \"maximum\": 9999999.99\n+                \"batchNumber\": {\n+                  \"type\": \"string\",\n+                  \"maxLength\": 100\n+                },\n+                \"packageQuantity\": {\n+                  \"anyOf\": [\n+                    {\n+                      \"type\": \"number\",\n+                      \"minimum\": 0,\n+                      \"maximum\": 999999\n+                    },\n+                    {\n+                      \"not\": {}\n+                    },\n+                    {\n+                      \"type\": \"object\"\n+                    },\n+                    {\n+                      \"type\": \"string\",\n+                      \"const\": \"\"\n+                    }\n+                  ]\n+                },\n+                \"boxQuantity\": {\n+                  \"anyOf\": [\n+                    {\n+                      \"type\": \"number\",\n+                      \"minimum\": 0,\n+                      \"maximum\": 999999\n+                    },\n+                    {\n+                      \"not\": {}\n+                    },\n+                    {\n+                      \"type\": \"object\"\n+                    },\n+                    {\n+                      \"type\": \"string\",\n+                      \"const\": \"\"\n+                    }\n+                  ]\n                 },\n                 \"notes\": {\n                   \"type\": \"string\",\n@@ -1477,332 +2981,244 @@\n                 }\n               },\n               \"required\": [\n-                \"product\",\n-                \"quantity\",\n-                \"price\",\n-                \"subtotal\"\n+                \"did\",\n+                \"dname\",\n+                \"dquantity\",\n+                \"dtotalCost\"\n               ],\n               \"additionalProperties\": false\n-            },\n-            \"minItems\": 1\n+            }\n           },\n           \"totalAmount\": {\n             \"type\": \"number\",\n-            \"minimum\": 0,\n-            \"maximum\": 9999999.99\n-          },\n-          \"discount\": {\n-            \"type\": \"number\",\n-            \"minimum\": 0,\n-            \"maximum\": 9999999.99\n-          },\n-          \"paymentMethod\": {\n-            \"type\": \"string\",\n-            \"enum\": [\n-              \"cash\",\n-              \"card\",\n-              \"credit_card\",\n-              \"debit_card\",\n-              \"transfer\",\n-              \"mobile_payment\",\n-              \"other\"\n-            ]\n+            \"minimum\": 0\n           },\n-          \"paymentStatus\": {\n+          \"status\": {\n             \"type\": \"string\",\n             \"enum\": [\n-              \"paid\",\n               \"pending\",\n-              \"partial\",\n+              \"approved\",\n+              \"received\",\n+              \"completed\",\n               \"cancelled\"\n             ]\n           },\n-          \"status\": {\n+          \"paymentStatus\": {\n             \"type\": \"string\",\n             \"enum\": [\n-              \"completed\",\n-              \"pending\",\n-              \"cancelled\"\n+              \"未付\",\n+              \"已付款\",\n+              \"已下收\",\n+              \"已匯款\"\n             ]\n           },\n           \"notes\": {\n             \"type\": \"string\",\n             \"maxLength\": 1000\n           },\n-          \"note\": {\n-            \"type\": \"string\",\n-            \"maxLength\": 1000\n-          },\n-          \"cashier\": {\n-            \"$ref\": \"#/definitions/SaleUpdateRequest/properties/customer\"\n-          },\n           \"createdBy\": {\n-            \"$ref\": \"#/definitions/SaleUpdateRequest/properties/customer\"\n+            \"anyOf\": [\n+              {\n+                \"$ref\": \"#/definitions/PurchaseOrder/properties/_id\"\n+              },\n+              {\n+                \"type\": \"object\",\n+                \"properties\": {\n+                  \"_id\": {\n+                    \"$ref\": \"#/definitions/PurchaseOrder/properties/_id\"\n+                  },\n+                  \"username\": {\n+                    \"type\": \"string\"\n+                  },\n+                  \"name\": {\n+                    \"type\": \"string\"\n+                  }\n+                },\n+                \"additionalProperties\": true\n+              }\n+            ]\n           },\n-          \"date\": {\n+          \"relatedTransactionGroupId\": {\n+            \"$ref\": \"#/definitions/PurchaseOrder/properties/_id\"\n+          },\n+          \"createdAt\": {\n             \"anyOf\": [\n+              {\n+                \"type\": \"string\"\n+              },\n               {\n                 \"type\": \"string\",\n                 \"format\": \"date-time\"\n+              }\n+            ]\n+          },\n+          \"updatedAt\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"string\"\n               },\n               {\n                 \"type\": \"string\",\n                 \"format\": \"date-time\"\n               }\n             ]\n-          },\n-          \"_id\": {\n-            \"$ref\": \"#/definitions/SaleUpdateRequest/properties/customer\"\n           }\n         },\n         \"required\": [\n-          \"_id\"\n+          \"_id\",\n+          \"poid\",\n+          \"orderNumber\",\n+          \"posupplier\",\n+          \"items\",\n+          \"totalAmount\",\n+          \"status\",\n+          \"createdAt\",\n+          \"updatedAt\"\n         ],\n         \"additionalProperties\": false\n       },\n-      \"SaleSearchQuery\": {\n+      \"PurchaseOrderItem\": {\n         \"type\": \"object\",\n         \"properties\": {\n-          \"saleNumber\": {\n-            \"type\": \"string\"\n-          },\n-          \"customer\": {\n-            \"type\": \"string\"\n-          },\n-          \"startDate\": {\n-            \"type\": \"string\",\n-            \"pattern\": \"^\\\\d{4}-\\\\d{2}-\\\\d{2}$\"\n-          },\n-          \"endDate\": {\n+          \"_id\": {\n             \"type\": \"string\",\n-            \"pattern\": \"^\\\\d{4}-\\\\d{2}-\\\\d{2}$\"\n+            \"pattern\": \"^[0-9a-fA-F]{24}$\"\n           },\n-          \"paymentMethod\": {\n-            \"type\": \"string\",\n-            \"enum\": [\n-              \"cash\",\n-              \"card\",\n-              \"credit_card\",\n-              \"debit_card\",\n-              \"transfer\",\n-              \"mobile_payment\",\n-              \"other\"\n-            ]\n+          \"product\": {\n+            \"$ref\": \"#/definitions/PurchaseOrderItem/properties/_id\"\n           },\n-          \"paymentStatus\": {\n+          \"did\": {\n             \"type\": \"string\",\n-            \"enum\": [\n-              \"paid\",\n-              \"pending\",\n-              \"partial\",\n-              \"cancelled\"\n-            ]\n+            \"minLength\": 1,\n+            \"maxLength\": 64\n           },\n-          \"status\": {\n+          \"dname\": {\n             \"type\": \"string\",\n-            \"enum\": [\n-              \"completed\",\n-              \"pending\",\n-              \"cancelled\"\n-            ]\n+            \"minLength\": 1,\n+            \"maxLength\": 200\n           },\n-          \"minAmount\": {\n+          \"dquantity\": {\n             \"type\": \"number\",\n-            \"minimum\": 0\n+            \"exclusiveMinimum\": 0,\n+            \"minimum\": 0,\n+            \"maximum\": 999999\n           },\n-          \"maxAmount\": {\n+          \"dtotalCost\": {\n             \"type\": \"number\",\n-            \"minimum\": 0\n-          },\n-          \"cashier\": {\n-            \"type\": \"string\"\n-          },\n-          \"createdBy\": {\n-            \"type\": \"string\"\n-          }\n-        },\n-        \"additionalProperties\": false\n-      },\n-      \"Customer\": {\n-        \"type\": \"object\",\n-        \"properties\": {\n-          \"name\": {\n-            \"type\": \"string\",\n-            \"minLength\": 1,\n-            \"maxLength\": 100\n-          },\n-          \"code\": {\n-            \"type\": \"string\"\n-          },\n-          \"phone\": {\n-            \"type\": \"string\",\n-            \"pattern\": \"^[\\\\d\\\\s\\\\-+()]+$\",\n-            \"minLength\": 8,\n-            \"maxLength\": 20\n-          },\n-          \"email\": {\n-            \"type\": \"string\",\n-            \"pattern\": \"^[^\\\\s@]+@[^\\\\s@]+\\\\.[^\\\\s@]+$\",\n-            \"maxLength\": 254\n-          },\n-          \"address\": {\n-            \"type\": \"string\"\n-          },\n-          \"idCardNumber\": {\n-            \"type\": \"string\",\n-            \"pattern\": \"^[A-Z][12]\\\\d{8}$\"\n+            \"minimum\": 0,\n+            \"maximum\": 999999.99\n           },\n-          \"birthdate\": {\n+          \"unitPrice\": {\n             \"anyOf\": [\n               {\n-                \"type\": \"string\"\n+                \"type\": \"number\",\n+                \"minimum\": 0,\n+                \"maximum\": 999999.99\n+              },\n+              {\n+                \"not\": {}\n+              },\n+              {\n+                \"type\": \"object\"\n               },\n               {\n                 \"type\": \"string\",\n-                \"format\": \"date-time\"\n+                \"const\": \"\"\n               }\n             ]\n           },\n-          \"gender\": {\n-            \"type\": \"string\",\n-            \"enum\": [\n-              \"male\",\n-              \"female\",\n-              \"other\"\n-            ]\n-          },\n-          \"allergies\": {\n-            \"type\": \"array\",\n-            \"items\": {\n-              \"type\": \"string\"\n-            }\n-          },\n-          \"membershipLevel\": {\n-            \"type\": \"string\",\n-            \"enum\": [\n-              \"regular\",\n-              \"silver\",\n-              \"gold\",\n-              \"platinum\"\n+          \"receivedQuantity\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"number\",\n+                \"minimum\": 0,\n+                \"maximum\": 999999\n+              },\n+              {\n+                \"not\": {}\n+              },\n+              {\n+                \"type\": \"object\"\n+              },\n+              {\n+                \"type\": \"string\",\n+                \"const\": \"\"\n+              }\n             ]\n           },\n-          \"medicalHistory\": {\n-            \"type\": \"string\"\n-          },\n-          \"notes\": {\n-            \"type\": \"string\"\n-          }\n-        },\n-        \"required\": [\n-          \"name\"\n-        ],\n-        \"additionalProperties\": false\n-      },\n-      \"CustomerCreateRequest\": {\n-        \"type\": \"object\",\n-        \"properties\": {\n-          \"name\": {\n+          \"batchNumber\": {\n             \"type\": \"string\",\n-            \"minLength\": 1,\n             \"maxLength\": 100\n           },\n-          \"code\": {\n-            \"type\": \"string\"\n-          },\n-          \"phone\": {\n-            \"type\": \"string\",\n-            \"pattern\": \"^[\\\\d\\\\s\\\\-+()]+$\",\n-            \"minLength\": 8,\n-            \"maxLength\": 20\n-          },\n-          \"email\": {\n-            \"type\": \"string\",\n-            \"pattern\": \"^[^\\\\s@]+@[^\\\\s@]+\\\\.[^\\\\s@]+$\",\n-            \"maxLength\": 254\n-          },\n-          \"address\": {\n-            \"type\": \"string\"\n-          },\n-          \"idCardNumber\": {\n-            \"type\": \"string\",\n-            \"pattern\": \"^[A-Z][12]\\\\d{8}$\"\n-          },\n-          \"birthdate\": {\n+          \"packageQuantity\": {\n             \"anyOf\": [\n               {\n-                \"type\": \"string\"\n+                \"type\": \"number\",\n+                \"minimum\": 0,\n+                \"maximum\": 999999\n+              },\n+              {\n+                \"not\": {}\n+              },\n+              {\n+                \"type\": \"object\"\n               },\n               {\n                 \"type\": \"string\",\n-                \"format\": \"date-time\"\n+                \"const\": \"\"\n               }\n             ]\n           },\n-          \"gender\": {\n-            \"type\": \"string\",\n-            \"enum\": [\n-              \"male\",\n-              \"female\",\n-              \"other\"\n-            ]\n-          },\n-          \"allergies\": {\n-            \"type\": \"array\",\n-            \"items\": {\n-              \"type\": \"string\"\n-            }\n-          },\n-          \"membershipLevel\": {\n-            \"type\": \"string\",\n-            \"enum\": [\n-              \"regular\",\n-              \"silver\",\n-              \"gold\",\n-              \"platinum\"\n+          \"boxQuantity\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"number\",\n+                \"minimum\": 0,\n+                \"maximum\": 999999\n+              },\n+              {\n+                \"not\": {}\n+              },\n+              {\n+                \"type\": \"object\"\n+              },\n+              {\n+                \"type\": \"string\",\n+                \"const\": \"\"\n+              }\n             ]\n           },\n-          \"medicalHistory\": {\n-            \"type\": \"string\"\n-          },\n           \"notes\": {\n-            \"type\": \"string\"\n+            \"type\": \"string\",\n+            \"maxLength\": 500\n           }\n         },\n         \"required\": [\n-          \"name\"\n+          \"did\",\n+          \"dname\",\n+          \"dquantity\",\n+          \"dtotalCost\"\n         ],\n         \"additionalProperties\": false\n       },\n-      \"CustomerUpdateRequest\": {\n+      \"PurchaseOrderCreateRequest\": {\n         \"type\": \"object\",\n         \"properties\": {\n-          \"name\": {\n+          \"poid\": {\n             \"type\": \"string\",\n             \"minLength\": 1,\n-            \"maxLength\": 100\n-          },\n-          \"code\": {\n-            \"type\": \"string\"\n-          },\n-          \"phone\": {\n-            \"type\": \"string\",\n-            \"pattern\": \"^[\\\\d\\\\s\\\\-+()]+$\",\n-            \"minLength\": 8,\n-            \"maxLength\": 20\n+            \"maxLength\": 64\n           },\n-          \"email\": {\n+          \"orderNumber\": {\n             \"type\": \"string\",\n-            \"pattern\": \"^[^\\\\s@]+@[^\\\\s@]+\\\\.[^\\\\s@]+$\",\n-            \"maxLength\": 254\n-          },\n-          \"address\": {\n-            \"type\": \"string\"\n+            \"minLength\": 1,\n+            \"maxLength\": 64\n           },\n-          \"idCardNumber\": {\n+          \"pobill\": {\n             \"type\": \"string\",\n-            \"pattern\": \"^[A-Z][12]\\\\d{8}$\"\n+            \"maxLength\": 100\n           },\n-          \"birthdate\": {\n+          \"pobilldate\": {\n             \"anyOf\": [\n               {\n                 \"type\": \"string\"\n@@ -1813,78 +3229,62 @@\n               }\n             ]\n           },\n-          \"gender\": {\n+          \"posupplier\": {\n             \"type\": \"string\",\n-            \"enum\": [\n-              \"male\",\n-              \"female\",\n-              \"other\"\n+            \"minLength\": 1,\n+            \"maxLength\": 200\n+          },\n+          \"supplier\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"string\",\n+                \"pattern\": \"^[0-9a-fA-F]{24}$\"\n+              },\n+              {\n+                \"type\": \"object\",\n+                \"properties\": {\n+                  \"_id\": {\n+                    \"$ref\": \"#/definitions/PurchaseOrderCreateRequest/properties/supplier/anyOf/0\"\n+                  },\n+                  \"name\": {\n+                    \"type\": \"string\"\n+                  },\n+                  \"code\": {\n+                    \"type\": \"string\"\n+                  },\n+                  \"shortCode\": {\n+                    \"type\": \"string\"\n+                  }\n+                },\n+                \"additionalProperties\": true\n+              }\n             ]\n           },\n-          \"allergies\": {\n-            \"type\": \"array\",\n-            \"items\": {\n-              \"type\": \"string\"\n-            }\n+          \"organizationId\": {\n+            \"$ref\": \"#/definitions/PurchaseOrderCreateRequest/properties/supplier/anyOf/0\"\n           },\n-          \"membershipLevel\": {\n+          \"transactionType\": {\n             \"type\": \"string\",\n             \"enum\": [\n-              \"regular\",\n-              \"silver\",\n-              \"gold\",\n-              \"platinum\"\n+              \"進貨\",\n+              \"退貨\",\n+              \"支出\"\n             ]\n           },\n-          \"medicalHistory\": {\n-            \"type\": \"string\"\n-          },\n-          \"notes\": {\n-            \"type\": \"string\"\n-          }\n-        },\n-        \"additionalProperties\": false\n-      },\n-      \"CustomerSearchQuery\": {\n-        \"type\": \"object\",\n-        \"properties\": {\n-          \"search\": {\n-            \"type\": \"string\"\n-          },\n-          \"wildcardSearch\": {\n-            \"type\": \"string\"\n-          },\n-          \"page\": {\n-            \"type\": \"number\",\n-            \"minimum\": 1\n-          },\n-          \"limit\": {\n-            \"type\": \"number\",\n-            \"minimum\": 1,\n-            \"maximum\": 100\n-          },\n-          \"sortBy\": {\n-            \"type\": \"string\"\n+          \"selectedAccountIds\": {\n+            \"type\": \"array\",\n+            \"items\": {\n+              \"$ref\": \"#/definitions/PurchaseOrderCreateRequest/properties/supplier/anyOf/0\"\n+            }\n           },\n-          \"sortOrder\": {\n+          \"accountingEntryType\": {\n             \"type\": \"string\",\n             \"enum\": [\n-              \"asc\",\n-              \"desc\"\n+              \"expense-asset\",\n+              \"asset-liability\"\n             ]\n-          }\n-        },\n-        \"additionalProperties\": false\n-      },\n-      \"CustomerQuickCreateRequest\": {\n-        \"type\": \"object\",\n-        \"properties\": {\n-          \"name\": {\n-            \"type\": \"string\",\n-            \"minLength\": 1,\n-            \"maxLength\": 100\n           },\n-          \"birthdate\": {\n+          \"orderDate\": {\n             \"anyOf\": [\n               {\n                 \"type\": \"string\"\n@@ -1895,203 +3295,551 @@\n               }\n             ]\n           },\n-          \"idCardNumber\": {\n-            \"type\": \"string\",\n-            \"pattern\": \"^[A-Z][12]\\\\d{8}$\"\n-          },\n-          \"notes\": {\n-            \"type\": \"string\"\n-          }\n-        },\n-        \"required\": [\n-          \"name\",\n-          \"birthdate\",\n-          \"idCardNumber\"\n-        ],\n-        \"additionalProperties\": false\n-      },\n-      \"Supplier\": {\n-        \"type\": \"object\",\n-        \"properties\": {\n-          \"name\": {\n-            \"type\": \"string\",\n-            \"minLength\": 1,\n-            \"maxLength\": 100\n-          },\n-          \"code\": {\n-            \"type\": \"string\",\n-            \"minLength\": 1,\n-            \"maxLength\": 50\n-          },\n-          \"shortCode\": {\n-            \"type\": \"string\",\n-            \"minLength\": 1,\n-            \"maxLength\": 20\n-          },\n-          \"contactPerson\": {\n-            \"type\": \"string\",\n-            \"minLength\": 1,\n-            \"maxLength\": 100\n+          \"expectedDeliveryDate\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"string\"\n+              },\n+              {\n+                \"type\": \"string\",\n+                \"format\": \"date-time\"\n+              }\n+            ]\n           },\n-          \"phone\": {\n-            \"type\": \"string\",\n-            \"pattern\": \"^[\\\\d\\\\s\\\\-+()]+$\",\n-            \"minLength\": 8,\n-            \"maxLength\": 20\n+          \"actualDeliveryDate\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"string\"\n+              },\n+              {\n+                \"type\": \"string\",\n+                \"format\": \"date-time\"\n+              }\n+            ]\n           },\n-          \"email\": {\n-            \"type\": \"string\",\n-            \"pattern\": \"^[^\\\\s@]+@[^\\\\s@]+\\\\.[^\\\\s@]+$\",\n-            \"maxLength\": 254\n+          \"items\": {\n+            \"type\": \"array\",\n+            \"items\": {\n+              \"type\": \"object\",\n+              \"properties\": {\n+                \"_id\": {\n+                  \"$ref\": \"#/definitions/PurchaseOrderCreateRequest/properties/supplier/anyOf/0\"\n+                },\n+                \"product\": {\n+                  \"$ref\": \"#/definitions/PurchaseOrderCreateRequest/properties/supplier/anyOf/0\"\n+                },\n+                \"did\": {\n+                  \"type\": \"string\",\n+                  \"minLength\": 1,\n+                  \"maxLength\": 64\n+                },\n+                \"dname\": {\n+                  \"type\": \"string\",\n+                  \"minLength\": 1,\n+                  \"maxLength\": 200\n+                },\n+                \"dquantity\": {\n+                  \"type\": \"number\",\n+                  \"exclusiveMinimum\": 0,\n+                  \"minimum\": 0,\n+                  \"maximum\": 999999\n+                },\n+                \"dtotalCost\": {\n+                  \"type\": \"number\",\n+                  \"minimum\": 0,\n+                  \"maximum\": 999999.99\n+                },\n+                \"unitPrice\": {\n+                  \"anyOf\": [\n+                    {\n+                      \"type\": \"number\",\n+                      \"minimum\": 0,\n+                      \"maximum\": 999999.99\n+                    },\n+                    {\n+                      \"not\": {}\n+                    },\n+                    {\n+                      \"type\": \"object\"\n+                    },\n+                    {\n+                      \"type\": \"string\",\n+                      \"const\": \"\"\n+                    }\n+                  ]\n+                },\n+                \"receivedQuantity\": {\n+                  \"anyOf\": [\n+                    {\n+                      \"type\": \"number\",\n+                      \"minimum\": 0,\n+                      \"maximum\": 999999\n+                    },\n+                    {\n+                      \"not\": {}\n+                    },\n+                    {\n+                      \"type\": \"object\"\n+                    },\n+                    {\n+                      \"type\": \"string\",\n+                      \"const\": \"\"\n+                    }\n+                  ]\n+                },\n+                \"batchNumber\": {\n+                  \"type\": \"string\",\n+                  \"maxLength\": 100\n+                },\n+                \"packageQuantity\": {\n+                  \"anyOf\": [\n+                    {\n+                      \"type\": \"number\",\n+                      \"minimum\": 0,\n+                      \"maximum\": 999999\n+                    },\n+                    {\n+                      \"not\": {}\n+                    },\n+                    {\n+                      \"type\": \"object\"\n+                    },\n+                    {\n+                      \"type\": \"string\",\n+                      \"const\": \"\"\n+                    }\n+                  ]\n+                },\n+                \"boxQuantity\": {\n+                  \"anyOf\": [\n+                    {\n+                      \"type\": \"number\",\n+                      \"minimum\": 0,\n+                      \"maximum\": 999999\n+                    },\n+                    {\n+                      \"not\": {}\n+                    },\n+                    {\n+                      \"type\": \"object\"\n+                    },\n+                    {\n+                      \"type\": \"string\",\n+                      \"const\": \"\"\n+                    }\n+                  ]\n+                },\n+                \"notes\": {\n+                  \"type\": \"string\",\n+                  \"maxLength\": 500\n+                }\n+              },\n+              \"required\": [\n+                \"did\",\n+                \"dname\",\n+                \"dquantity\",\n+                \"dtotalCost\"\n+              ],\n+              \"additionalProperties\": false\n+            },\n+            \"minItems\": 1\n           },\n-          \"address\": {\n-            \"type\": \"string\",\n-            \"maxLength\": 200\n+          \"totalAmount\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"number\",\n+                \"minimum\": 0,\n+                \"maximum\": 999999.99\n+              },\n+              {\n+                \"not\": {}\n+              },\n+              {\n+                \"type\": \"object\"\n+              },\n+              {\n+                \"type\": \"string\",\n+                \"const\": \"\"\n+              }\n+            ]\n           },\n-          \"taxId\": {\n+          \"status\": {\n             \"type\": \"string\",\n-            \"pattern\": \"^\\\\d{8}$\"\n+            \"enum\": [\n+              \"pending\",\n+              \"approved\",\n+              \"received\",\n+              \"completed\",\n+              \"cancelled\"\n+            ]\n           },\n-          \"paymentTerms\": {\n+          \"paymentStatus\": {\n             \"type\": \"string\",\n-            \"maxLength\": 200\n+            \"enum\": [\n+              \"未付\",\n+              \"已付款\",\n+              \"已下收\",\n+              \"已匯款\"\n+            ]\n           },\n           \"notes\": {\n             \"type\": \"string\",\n-            \"maxLength\": 500\n-          },\n-          \"isActive\": {\n-            \"type\": \"boolean\"\n+            \"maxLength\": 1000\n           }\n         },\n         \"required\": [\n-          \"name\"\n+          \"poid\",\n+          \"posupplier\",\n+          \"items\"\n         ],\n         \"additionalProperties\": false\n       },\n-      \"SupplierCreateRequest\": {\n+      \"PurchaseOrderUpdateRequest\": {\n         \"type\": \"object\",\n         \"properties\": {\n-          \"name\": {\n+          \"poid\": {\n             \"type\": \"string\",\n             \"minLength\": 1,\n-            \"maxLength\": 100\n+            \"maxLength\": 64\n           },\n-          \"code\": {\n+          \"orderNumber\": {\n             \"type\": \"string\",\n             \"minLength\": 1,\n-            \"maxLength\": 50\n+            \"maxLength\": 64\n           },\n-          \"shortCode\": {\n+          \"pobill\": {\n             \"type\": \"string\",\n-            \"minLength\": 1,\n-            \"maxLength\": 20\n+            \"maxLength\": 100\n           },\n-          \"contactPerson\": {\n+          \"pobilldate\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"string\"\n+              },\n+              {\n+                \"type\": \"string\",\n+                \"format\": \"date-time\"\n+              }\n+            ]\n+          },\n+          \"posupplier\": {\n             \"type\": \"string\",\n             \"minLength\": 1,\n-            \"maxLength\": 100\n+            \"maxLength\": 200\n           },\n-          \"phone\": {\n-            \"type\": \"string\",\n-            \"pattern\": \"^[\\\\d\\\\s\\\\-+()]+$\",\n-            \"minLength\": 8,\n-            \"maxLength\": 20\n+          \"supplier\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"string\",\n+                \"pattern\": \"^[0-9a-fA-F]{24}$\"\n+              },\n+              {\n+                \"type\": \"object\",\n+                \"properties\": {\n+                  \"_id\": {\n+                    \"$ref\": \"#/definitions/PurchaseOrderUpdateRequest/properties/supplier/anyOf/0\"\n+                  },\n+                  \"name\": {\n+                    \"type\": \"string\"\n+                  },\n+                  \"code\": {\n+                    \"type\": \"string\"\n+                  },\n+                  \"shortCode\": {\n+                    \"type\": \"string\"\n+                  }\n+                },\n+                \"additionalProperties\": true\n+              }\n+            ]\n           },\n-          \"email\": {\n+          \"organizationId\": {\n+            \"$ref\": \"#/definitions/PurchaseOrderUpdateRequest/properties/supplier/anyOf/0\"\n+          },\n+          \"transactionType\": {\n             \"type\": \"string\",\n-            \"pattern\": \"^[^\\\\s@]+@[^\\\\s@]+\\\\.[^\\\\s@]+$\",\n-            \"maxLength\": 254\n+            \"enum\": [\n+              \"進貨\",\n+              \"退貨\",\n+              \"支出\"\n+            ]\n           },\n-          \"address\": {\n+          \"selectedAccountIds\": {\n+            \"type\": \"array\",\n+            \"items\": {\n+              \"$ref\": \"#/definitions/PurchaseOrderUpdateRequest/properties/supplier/anyOf/0\"\n+            }\n+          },\n+          \"accountingEntryType\": {\n             \"type\": \"string\",\n-            \"maxLength\": 200\n+            \"enum\": [\n+              \"expense-asset\",\n+              \"asset-liability\"\n+            ]\n           },\n-          \"taxId\": {\n+          \"orderDate\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"string\"\n+              },\n+              {\n+                \"type\": \"string\",\n+                \"format\": \"date-time\"\n+              }\n+            ]\n+          },\n+          \"expectedDeliveryDate\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"string\"\n+              },\n+              {\n+                \"type\": \"string\",\n+                \"format\": \"date-time\"\n+              }\n+            ]\n+          },\n+          \"actualDeliveryDate\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"string\"\n+              },\n+              {\n+                \"type\": \"string\",\n+                \"format\": \"date-time\"\n+              }\n+            ]\n+          },\n+          \"items\": {\n+            \"type\": \"array\",\n+            \"items\": {\n+              \"type\": \"object\",\n+              \"properties\": {\n+                \"_id\": {\n+                  \"$ref\": \"#/definitions/PurchaseOrderUpdateRequest/properties/supplier/anyOf/0\"\n+                },\n+                \"product\": {\n+                  \"$ref\": \"#/definitions/PurchaseOrderUpdateRequest/properties/supplier/anyOf/0\"\n+                },\n+                \"did\": {\n+                  \"type\": \"string\",\n+                  \"minLength\": 1,\n+                  \"maxLength\": 64\n+                },\n+                \"dname\": {\n+                  \"type\": \"string\",\n+                  \"minLength\": 1,\n+                  \"maxLength\": 200\n+                },\n+                \"dquantity\": {\n+                  \"type\": \"number\",\n+                  \"exclusiveMinimum\": 0,\n+                  \"minimum\": 0,\n+                  \"maximum\": 999999\n+                },\n+                \"dtotalCost\": {\n+                  \"type\": \"number\",\n+                  \"minimum\": 0,\n+                  \"maximum\": 999999.99\n+                },\n+                \"unitPrice\": {\n+                  \"anyOf\": [\n+                    {\n+                      \"type\": \"number\",\n+                      \"minimum\": 0,\n+                      \"maximum\": 999999.99\n+                    },\n+                    {\n+                      \"not\": {}\n+                    },\n+                    {\n+                      \"type\": \"object\"\n+                    },\n+                    {\n+                      \"type\": \"string\",\n+                      \"const\": \"\"\n+                    }\n+                  ]\n+                },\n+                \"receivedQuantity\": {\n+                  \"anyOf\": [\n+                    {\n+                      \"type\": \"number\",\n+                      \"minimum\": 0,\n+                      \"maximum\": 999999\n+                    },\n+                    {\n+                      \"not\": {}\n+                    },\n+                    {\n+                      \"type\": \"object\"\n+                    },\n+                    {\n+                      \"type\": \"string\",\n+                      \"const\": \"\"\n+                    }\n+                  ]\n+                },\n+                \"batchNumber\": {\n+                  \"type\": \"string\",\n+                  \"maxLength\": 100\n+                },\n+                \"packageQuantity\": {\n+                  \"anyOf\": [\n+                    {\n+                      \"type\": \"number\",\n+                      \"minimum\": 0,\n+                      \"maximum\": 999999\n+                    },\n+                    {\n+                      \"not\": {}\n+                    },\n+                    {\n+                      \"type\": \"object\"\n+                    },\n+                    {\n+                      \"type\": \"string\",\n+                      \"const\": \"\"\n+                    }\n+                  ]\n+                },\n+                \"boxQuantity\": {\n+                  \"anyOf\": [\n+                    {\n+                      \"type\": \"number\",\n+                      \"minimum\": 0,\n+                      \"maximum\": 999999\n+                    },\n+                    {\n+                      \"not\": {}\n+                    },\n+                    {\n+                      \"type\": \"object\"\n+                    },\n+                    {\n+                      \"type\": \"string\",\n+                      \"const\": \"\"\n+                    }\n+                  ]\n+                },\n+                \"notes\": {\n+                  \"type\": \"string\",\n+                  \"maxLength\": 500\n+                }\n+              },\n+              \"required\": [\n+                \"did\",\n+                \"dname\",\n+                \"dquantity\",\n+                \"dtotalCost\"\n+              ],\n+              \"additionalProperties\": false\n+            },\n+            \"minItems\": 1\n+          },\n+          \"totalAmount\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"number\",\n+                \"minimum\": 0,\n+                \"maximum\": 999999.99\n+              },\n+              {\n+                \"not\": {}\n+              },\n+              {\n+                \"type\": \"object\"\n+              },\n+              {\n+                \"type\": \"string\",\n+                \"const\": \"\"\n+              }\n+            ]\n+          },\n+          \"status\": {\n             \"type\": \"string\",\n-            \"pattern\": \"^\\\\d{8}$\"\n+            \"enum\": [\n+              \"pending\",\n+              \"approved\",\n+              \"received\",\n+              \"completed\",\n+              \"cancelled\"\n+            ]\n           },\n-          \"paymentTerms\": {\n+          \"paymentStatus\": {\n             \"type\": \"string\",\n-            \"maxLength\": 200\n+            \"enum\": [\n+              \"未付\",\n+              \"已付款\",\n+              \"已下收\",\n+              \"已匯款\"\n+            ]\n           },\n           \"notes\": {\n             \"type\": \"string\",\n-            \"maxLength\": 500\n-          },\n-          \"isActive\": {\n-            \"type\": \"boolean\"\n+            \"maxLength\": 1000\n           }\n         },\n-        \"required\": [\n-          \"name\"\n-        ],\n         \"additionalProperties\": false\n       },\n-      \"SupplierUpdateRequest\": {\n+      \"PurchaseOrderSearchQuery\": {\n         \"type\": \"object\",\n         \"properties\": {\n-          \"name\": {\n-            \"type\": \"string\",\n-            \"minLength\": 1,\n-            \"maxLength\": 100\n-          },\n-          \"code\": {\n+          \"poid\": {\n             \"type\": \"string\",\n             \"minLength\": 1,\n-            \"maxLength\": 50\n-          },\n-          \"shortCode\": {\n-            \"type\": \"string\",\n-            \"minLength\": 1,\n-            \"maxLength\": 20\n+            \"maxLength\": 64\n           },\n-          \"contactPerson\": {\n+          \"pobill\": {\n             \"type\": \"string\",\n             \"minLength\": 1,\n             \"maxLength\": 100\n           },\n-          \"phone\": {\n-            \"type\": \"string\",\n-            \"pattern\": \"^[\\\\d\\\\s\\\\-+()]+$\",\n-            \"minLength\": 8,\n-            \"maxLength\": 20\n-          },\n-          \"email\": {\n-            \"type\": \"string\",\n-            \"pattern\": \"^[^\\\\s@]+@[^\\\\s@]+\\\\.[^\\\\s@]+$\",\n-            \"maxLength\": 254\n-          },\n-          \"address\": {\n+          \"posupplier\": {\n             \"type\": \"string\",\n+            \"minLength\": 1,\n             \"maxLength\": 200\n           },\n-          \"taxId\": {\n-            \"type\": \"string\",\n-            \"pattern\": \"^\\\\d{8}$\"\n+          \"startDate\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"string\"\n+              },\n+              {\n+                \"type\": \"string\",\n+                \"format\": \"date-time\"\n+              }\n+            ]\n           },\n-          \"paymentTerms\": {\n-            \"type\": \"string\",\n-            \"maxLength\": 200\n+          \"endDate\": {\n+            \"anyOf\": [\n+              {\n+                \"type\": \"string\"\n+              },\n+              {\n+                \"type\": \"string\",\n+                \"format\": \"date-time\"\n+              }\n+            ]\n           },\n-          \"notes\": {\n+          \"status\": {\n             \"type\": \"string\",\n-            \"maxLength\": 500\n-          },\n-          \"isActive\": {\n-            \"type\": \"boolean\"\n-          }\n-        },\n-        \"additionalProperties\": false\n-      },\n-      \"SupplierSearchQuery\": {\n-        \"type\": \"object\",\n-        \"properties\": {\n-          \"search\": {\n-            \"type\": \"string\"\n+            \"enum\": [\n+              \"pending\",\n+              \"approved\",\n+              \"received\",\n+              \"completed\",\n+              \"cancelled\"\n+            ]\n           },\n-          \"active\": {\n-            \"type\": \"boolean\"\n+          \"paymentStatus\": {\n+            \"type\": \"string\",\n+            \"enum\": [\n+              \"未付\",\n+              \"已付款\",\n+              \"已下收\",\n+              \"已匯款\"\n+            ]\n           },\n           \"page\": {\n             \"type\": \"integer\",\n"
    },
    {
      "path": "shared/api/paths/purchaseOrders.ts",
      "status": "A",
      "diff": "diff --git a/shared/api/paths/purchaseOrders.ts b/shared/api/paths/purchaseOrders.ts\nnew file mode 100644\nindex 00000000..1db2989e\n--- /dev/null\n+++ b/shared/api/paths/purchaseOrders.ts\n@@ -0,0 +1,487 @@\n+/**\n+ * OpenAPI path descriptors for Purchase Order endpoints\n+ * Keep responses referencing shared schemas via $ref to ensure SSOT alignment\n+ */\n+\n+const PurchaseOrdersPaths = {\n+  \"/purchase-orders\": {\n+    get: {\n+      summary: \"List purchase orders\",\n+      operationId: \"listPurchaseOrders\",\n+      tags: [\"Purchase Orders\"],\n+      responses: {\n+        \"200\": {\n+          description: \"OK\",\n+          content: {\n+            \"application/json\": {\n+              schema: {\n+                allOf: [\n+                  { $ref: \"#/components/schemas/ApiResponse\" },\n+                  {\n+                    type: \"object\",\n+                    properties: {\n+                      data: {\n+                        type: \"array\",\n+                        items: { $ref: \"#/components/schemas/PurchaseOrder\" }\n+                      }\n+                    }\n+                  }\n+                ]\n+              },\n+              examples: {\n+                purchaseOrders: {\n+                  summary: \"Purchase order list\",\n+                  value: {\n+                    success: true,\n+                    message: \"OK\",\n+                    data: [\n+                      {\n+                        _id: \"64f0a1b2c3d4e5f678901234\",\n+                        poid: \"PO-2025-0001\",\n+                        orderNumber: \"PO-2025-0001\",\n+                        posupplier: \"Acme Pharma\",\n+                        supplier: {\n+                          _id: \"64f0a1b2c3d4e5f678909999\",\n+                          name: \"Acme Pharma\"\n+                        },\n+                        items: [\n+                          {\n+                            _id: \"64f0a1b2c3d4e5f678901999\",\n+                            did: \"SKU-1001\",\n+                            dname: \"Vitamin C 500mg\",\n+                            dquantity: 10,\n+                            dtotalCost: 2500,\n+                            unitPrice: 250\n+                          }\n+                        ],\n+                        totalAmount: 2500,\n+                        status: \"pending\",\n+                        paymentStatus: \"���I\",\n+                        createdAt: \"2025-01-01T00:00:00.000Z\",\n+                        updatedAt: \"2025-01-01T00:00:00.000Z\"\n+                      }\n+                    ],\n+                    timestamp: \"2025-01-01T00:00:00.000Z\"\n+                  }\n+                }\n+              }\n+            }\n+          }\n+        },\n+        \"500\": {\n+          description: \"Server error\",\n+          content: {\n+            \"application/json\": {\n+              schema: { $ref: \"#/components/schemas/ErrorResponse\" }\n+            }\n+          }\n+        }\n+      }\n+    },\n+    post: {\n+      summary: \"Create a purchase order\",\n+      operationId: \"createPurchaseOrder\",\n+      tags: [\"Purchase Orders\"],\n+      requestBody: {\n+        required: true,\n+        content: {\n+          \"application/json\": {\n+            schema: { $ref: \"#/components/schemas/PurchaseOrderCreateRequest\" }\n+          }\n+        }\n+      },\n+      responses: {\n+        \"200\": {\n+          description: \"Created\",\n+          content: {\n+            \"application/json\": {\n+              schema: {\n+                allOf: [\n+                  { $ref: \"#/components/schemas/ApiResponse\" },\n+                  {\n+                    type: \"object\",\n+                    properties: {\n+                      data: { $ref: \"#/components/schemas/PurchaseOrder\" }\n+                    }\n+                  }\n+                ]\n+              },\n+              examples: {\n+                created: {\n+                  summary: \"Created purchase order\",\n+                  value: {\n+                    success: true,\n+                    message: \"Created\",\n+                    data: {\n+                      _id: \"64f0a1b2c3d4e5f678901235\",\n+                      poid: \"PO-2025-0002\",\n+                      orderNumber: \"PO-2025-0002\",\n+                      posupplier: \"Acme Pharma\",\n+                      items: [\n+                        {\n+                          _id: \"64f0a1b2c3d4e5f678902000\",\n+                          did: \"SKU-1002\",\n+                          dname: \"Pain Relief Tablets\",\n+                          dquantity: 20,\n+                          dtotalCost: 4000,\n+                          unitPrice: 200\n+                        }\n+                      ],\n+                      totalAmount: 4000,\n+                      status: \"pending\",\n+                      paymentStatus: \"���I\",\n+                      createdAt: \"2025-01-02T00:00:00.000Z\",\n+                      updatedAt: \"2025-01-02T00:00:00.000Z\"\n+                    },\n+                    timestamp: \"2025-01-02T00:00:00.000Z\"\n+                  }\n+                }\n+              }\n+            }\n+          }\n+        },\n+        \"400\": {\n+          description: \"Validation error\",\n+          content: {\n+            \"application/json\": {\n+              schema: { $ref: \"#/components/schemas/ErrorResponse\" }\n+            }\n+          }\n+        },\n+        \"401\": {\n+          description: \"Unauthorized\",\n+          content: {\n+            \"application/json\": {\n+              schema: { $ref: \"#/components/schemas/ErrorResponse\" }\n+            }\n+          }\n+        },\n+        \"500\": {\n+          description: \"Server error\",\n+          content: {\n+            \"application/json\": {\n+              schema: { $ref: \"#/components/schemas/ErrorResponse\" }\n+            }\n+          }\n+        }\n+      }\n+    }\n+  },\n+  \"/purchase-orders/{id}\": {\n+    get: {\n+      summary: \"Get purchase order by ID\",\n+      operationId: \"getPurchaseOrderById\",\n+      tags: [\"Purchase Orders\"],\n+      parameters: [\n+        { in: \"path\", name: \"id\", required: true, schema: { type: \"string\" } }\n+      ],\n+      responses: {\n+        \"200\": {\n+          description: \"OK\",\n+          content: {\n+            \"application/json\": {\n+              schema: {\n+                allOf: [\n+                  { $ref: \"#/components/schemas/ApiResponse\" },\n+                  { properties: { data: { $ref: \"#/components/schemas/PurchaseOrder\" } } }\n+                ]\n+              },\n+              examples: {\n+                purchaseOrder: {\n+                  summary: \"Purchase order\",\n+                  value: {\n+                    success: true,\n+                    message: \"OK\",\n+                    data: {\n+                      _id: \"64f0a1b2c3d4e5f678901234\",\n+                      poid: \"PO-2025-0001\",\n+                      orderNumber: \"PO-2025-0001\",\n+                      posupplier: \"Acme Pharma\",\n+                      items: [\n+                        {\n+                          _id: \"64f0a1b2c3d4e5f678901999\",\n+                          did: \"SKU-1001\",\n+                          dname: \"Vitamin C 500mg\",\n+                          dquantity: 10,\n+                          dtotalCost: 2500,\n+                          unitPrice: 250\n+                        }\n+                      ],\n+                      totalAmount: 2500,\n+                      status: \"pending\",\n+                      paymentStatus: \"���I\",\n+                      createdAt: \"2025-01-01T00:00:00.000Z\",\n+                      updatedAt: \"2025-01-01T00:00:00.000Z\"\n+                    },\n+                    timestamp: \"2025-01-01T00:00:00.000Z\"\n+                  }\n+                }\n+              }\n+            }\n+          }\n+        },\n+        \"404\": {\n+          description: \"Not found\",\n+          content: {\n+            \"application/json\": {\n+              schema: { $ref: \"#/components/schemas/ErrorResponse\" }\n+            }\n+          }\n+        },\n+        \"500\": {\n+          description: \"Server error\",\n+          content: {\n+            \"application/json\": {\n+              schema: { $ref: \"#/components/schemas/ErrorResponse\" }\n+            }\n+          }\n+        }\n+      }\n+    },\n+    put: {\n+      summary: \"Update a purchase order\",\n+      operationId: \"updatePurchaseOrder\",\n+      tags: [\"Purchase Orders\"],\n+      parameters: [\n+        { in: \"path\", name: \"id\", required: true, schema: { type: \"string\" } }\n+      ],\n+      requestBody: {\n+        required: true,\n+        content: {\n+          \"application/json\": {\n+            schema: { $ref: \"#/components/schemas/PurchaseOrderUpdateRequest\" }\n+          }\n+        }\n+      },\n+      responses: {\n+        \"200\": {\n+          description: \"Updated\",\n+          content: {\n+            \"application/json\": {\n+              schema: {\n+                allOf: [\n+                  { $ref: \"#/components/schemas/ApiResponse\" },\n+                  { properties: { data: { $ref: \"#/components/schemas/PurchaseOrder\" } } }\n+                ]\n+              }\n+            }\n+          }\n+        },\n+        \"400\": {\n+          description: \"Validation error\",\n+          content: {\n+            \"application/json\": {\n+              schema: { $ref: \"#/components/schemas/ErrorResponse\" }\n+            }\n+          }\n+        },\n+        \"401\": {\n+          description: \"Unauthorized\",\n+          content: {\n+            \"application/json\": {\n+              schema: { $ref: \"#/components/schemas/ErrorResponse\" }\n+            }\n+          }\n+        },\n+        \"404\": {\n+          description: \"Not found\",\n+          content: {\n+            \"application/json\": {\n+              schema: { $ref: \"#/components/schemas/ErrorResponse\" }\n+            }\n+          }\n+        },\n+        \"500\": {\n+          description: \"Server error\",\n+          content: {\n+            \"application/json\": {\n+              schema: { $ref: \"#/components/schemas/ErrorResponse\" }\n+            }\n+          }\n+        }\n+      }\n+    },\n+    delete: {\n+      summary: \"Delete a purchase order\",\n+      operationId: \"deletePurchaseOrder\",\n+      tags: [\"Purchase Orders\"],\n+      parameters: [\n+        { in: \"path\", name: \"id\", required: true, schema: { type: \"string\" } }\n+      ],\n+      responses: {\n+        \"200\": {\n+          description: \"Deleted\",\n+          content: {\n+            \"application/json\": {\n+              schema: { $ref: \"#/components/schemas/ApiResponse\" }\n+            }\n+          }\n+        },\n+        \"404\": {\n+          description: \"Not found\",\n+          content: {\n+            \"application/json\": {\n+              schema: { $ref: \"#/components/schemas/ErrorResponse\" }\n+            }\n+          }\n+        },\n+        \"500\": {\n+          description: \"Server error\",\n+          content: {\n+            \"application/json\": {\n+              schema: { $ref: \"#/components/schemas/ErrorResponse\" }\n+            }\n+          }\n+        }\n+      }\n+    }\n+  },\n+  \"/purchase-orders/supplier/{supplierId}\": {\n+    get: {\n+      summary: \"List purchase orders by supplier\",\n+      operationId: \"getPurchaseOrdersBySupplier\",\n+      tags: [\"Purchase Orders\"],\n+      parameters: [\n+        { in: \"path\", name: \"supplierId\", required: true, schema: { type: \"string\" } }\n+      ],\n+      responses: {\n+        \"200\": {\n+          description: \"OK\",\n+          content: {\n+            \"application/json\": {\n+              schema: {\n+                allOf: [\n+                  { $ref: \"#/components/schemas/ApiResponse\" },\n+                  {\n+                    properties: {\n+                      data: {\n+                        type: \"array\",\n+                        items: { $ref: \"#/components/schemas/PurchaseOrder\" }\n+                      }\n+                    }\n+                  }\n+                ]\n+              }\n+            }\n+          }\n+        },\n+        \"404\": {\n+          description: \"Supplier not found\",\n+          content: {\n+            \"application/json\": {\n+              schema: { $ref: \"#/components/schemas/ErrorResponse\" }\n+            }\n+          }\n+        },\n+        \"500\": {\n+          description: \"Server error\",\n+          content: {\n+            \"application/json\": {\n+              schema: { $ref: \"#/components/schemas/ErrorResponse\" }\n+            }\n+          }\n+        }\n+      }\n+    }\n+  },\n+  \"/purchase-orders/product/{productId}\": {\n+    get: {\n+      summary: \"List purchase orders by product\",\n+      operationId: \"getPurchaseOrdersByProduct\",\n+      tags: [\"Purchase Orders\"],\n+      parameters: [\n+        { in: \"path\", name: \"productId\", required: true, schema: { type: \"string\" } }\n+      ],\n+      responses: {\n+        \"200\": {\n+          description: \"OK\",\n+          content: {\n+            \"application/json\": {\n+              schema: {\n+                allOf: [\n+                  { $ref: \"#/components/schemas/ApiResponse\" },\n+                  {\n+                    properties: {\n+                      data: {\n+                        type: \"array\",\n+                        items: { $ref: \"#/components/schemas/PurchaseOrder\" }\n+                      }\n+                    }\n+                  }\n+                ]\n+              }\n+            }\n+          }\n+        },\n+        \"404\": {\n+          description: \"Product not found\",\n+          content: {\n+            \"application/json\": {\n+              schema: { $ref: \"#/components/schemas/ErrorResponse\" }\n+            }\n+          }\n+        },\n+        \"500\": {\n+          description: \"Server error\",\n+          content: {\n+            \"application/json\": {\n+              schema: { $ref: \"#/components/schemas/ErrorResponse\" }\n+            }\n+          }\n+        }\n+      }\n+    }\n+  },\n+  \"/purchase-orders/recent/list\": {\n+    get: {\n+      summary: \"List recent purchase orders\",\n+      operationId: \"getRecentPurchaseOrders\",\n+      tags: [\"Purchase Orders\"],\n+      parameters: [\n+        {\n+          in: \"query\",\n+          name: \"limit\",\n+          required: false,\n+          schema: {\n+            type: \"integer\",\n+            minimum: 1,\n+            maximum: 100,\n+            default: 10\n+          }\n+        }\n+      ],\n+      responses: {\n+        \"200\": {\n+          description: \"OK\",\n+          content: {\n+            \"application/json\": {\n+              schema: {\n+                allOf: [\n+                  { $ref: \"#/components/schemas/ApiResponse\" },\n+                  {\n+                    properties: {\n+                      data: {\n+                        type: \"array\",\n+                        items: { $ref: \"#/components/schemas/PurchaseOrder\" }\n+                      }\n+                    }\n+                  }\n+                ]\n+              }\n+            }\n+          }\n+        },\n+        \"500\": {\n+          description: \"Server error\",\n+          content: {\n+            \"application/json\": {\n+              schema: { $ref: \"#/components/schemas/ErrorResponse\" }\n+            }\n+          }\n+        }\n+      }\n+    }\n+  }\n+} as const;\n+\n+export default PurchaseOrdersPaths;\n"
    },
    {
      "path": "shared/constants/actionTypes.js",
      "status": "A",
      "diff": "diff --git a/shared/constants/actionTypes.js b/shared/constants/actionTypes.js\nnew file mode 100644\nindex 00000000..9902633e\n--- /dev/null\n+++ b/shared/constants/actionTypes.js\n@@ -0,0 +1,2 @@\n+﻿// Runtime bridge for ts-node: redirect .js specifiers to the TypeScript source.\n+module.exports = require('./actionTypes.ts');\n"
    },
    {
      "path": "shared/constants/index.ts",
      "status": "M",
      "diff": "diff --git a/shared/constants/index.ts b/shared/constants/index.ts\nindex a2cd6387..5620090c 100644\n--- a/shared/constants/index.ts\n+++ b/shared/constants/index.ts\n@@ -4,8 +4,8 @@\n  */\n \n // Redux Action Types\n-export * from './actionTypes';\n-export { ActionTypes } from './actionTypes';\n+export * from './actionTypes.js';\n+export { ActionTypes } from './actionTypes.js';\n \n /**\n  * API 相關常數\n"
    },
    {
      "path": "shared/schemas/zod/purchaseOrder.ts",
      "status": "A",
      "diff": "diff --git a/shared/schemas/zod/purchaseOrder.ts b/shared/schemas/zod/purchaseOrder.ts\nnew file mode 100644\nindex 00000000..b1d4e9bb\n--- /dev/null\n+++ b/shared/schemas/zod/purchaseOrder.ts\n@@ -0,0 +1,208 @@\n+﻿import { z } from 'zod';\n+import { API_CONSTANTS, BUSINESS_CONSTANTS } from '../../constants/index.js';\n+\n+const OBJECT_ID_REGEX = /^[0-9a-fA-F]{24}$/;\n+\n+const objectIdSchema = z\n+  .string()\n+  .regex(OBJECT_ID_REGEX, { message: 'Must be a valid 24-character hex string.' });\n+\n+const trimmedString = (field: string, maxLength: number, minLength = 1) =>\n+  z\n+    .string()\n+    .trim()\n+    .min(minLength, { message: `${field} must contain at least ${minLength} character${minLength > 1 ? 's' : ''}.` })\n+    .max(maxLength, { message: `${field} must not exceed ${maxLength} characters.` });\n+\n+const coerceRequiredNumber = (field: string, options: { min?: number; max?: number; positive?: boolean } = {}) => {\n+  const { min, max, positive } = options;\n+  let schema = z.coerce.number({ invalid_type_error: `${field} must be a number.` });\n+  if (positive) {\n+    schema = schema.gt(0, { message: `${field} must be greater than 0.` });\n+  }\n+  if (min !== undefined) {\n+    schema = schema.min(min, { message: `${field} must be greater than or equal to ${min}.` });\n+  }\n+  if (max !== undefined) {\n+    schema = schema.max(max, { message: `${field} must be less than or equal to ${max}.` });\n+  }\n+  return schema;\n+};\n+\n+const coerceOptionalNumber = (field: string, options: { min?: number; max?: number; positive?: boolean } = {}) =>\n+  z\n+    .union([\n+      coerceRequiredNumber(field, options),\n+      z.undefined(),\n+      z.literal(null),\n+      z.literal(''),\n+    ])\n+    .transform((value) => {\n+      if (value === '' || value === null || value === undefined) return undefined;\n+      return value as number;\n+    });\n+\n+const purchaseOrderStatusEnum = z.enum(['pending', 'approved', 'received', 'completed', 'cancelled']);\n+const paymentStatusEnum = z.enum(['未付', '已付款', '已下收', '已匯款']);\n+const transactionTypeEnum = z.enum(['進貨', '退貨', '支出']);\n+const accountingEntryTypeEnum = z.enum(['expense-asset', 'asset-liability']);\n+\n+const quantityLimits = {\n+  min: Math.max(0, BUSINESS_CONSTANTS.QUANTITY?.MIN_QUANTITY ?? 0),\n+  max: BUSINESS_CONSTANTS.QUANTITY?.MAX_QUANTITY ?? 999999,\n+};\n+\n+const priceLimits = {\n+  min: BUSINESS_CONSTANTS.PRICING?.MIN_PRICE ?? 0,\n+  max: BUSINESS_CONSTANTS.PRICING?.MAX_PRICE ?? 9_999_999.99,\n+};\n+\n+export const purchaseOrderItemSchema = z\n+  .object({\n+    _id: objectIdSchema.optional(),\n+    product: objectIdSchema.optional(),\n+    did: trimmedString('Item code', 64),\n+    dname: trimmedString('Item name', 200),\n+    dquantity: coerceRequiredNumber('Quantity', { min: quantityLimits.min, max: quantityLimits.max, positive: true }),\n+    dtotalCost: coerceRequiredNumber('Total cost', { min: priceLimits.min, max: priceLimits.max }),\n+    unitPrice: coerceOptionalNumber('Unit price', { min: priceLimits.min, max: priceLimits.max }).optional(),\n+    receivedQuantity: coerceOptionalNumber('Received quantity', { min: 0, max: quantityLimits.max }).optional(),\n+    batchNumber: z.string().trim().max(100, { message: 'Batch number must not exceed 100 characters.' }).optional(),\n+    packageQuantity: coerceOptionalNumber('Package quantity', { min: 0, max: quantityLimits.max }).optional(),\n+    boxQuantity: coerceOptionalNumber('Box quantity', { min: 0, max: quantityLimits.max }).optional(),\n+    notes: z.string().trim().max(500, { message: 'Notes must not exceed 500 characters.' }).optional(),\n+  })\n+  .strict();\n+\n+const supplierReferenceSchema = z\n+  .union([\n+    objectIdSchema,\n+    z\n+      .object({\n+        _id: objectIdSchema.optional(),\n+        name: z.string().trim().optional(),\n+        code: z.string().trim().optional(),\n+        shortCode: z.string().trim().optional(),\n+      })\n+      .passthrough(),\n+  ])\n+  .optional();\n+\n+const userReferenceSchema = z\n+  .union([\n+    objectIdSchema,\n+    z\n+      .object({\n+        _id: objectIdSchema.optional(),\n+        username: z.string().trim().optional(),\n+        name: z.string().trim().optional(),\n+      })\n+      .passthrough(),\n+  ])\n+  .optional();\n+\n+const purchaseOrderCoreSchema = z.object({\n+  poid: trimmedString('Purchase order code', 64),\n+  orderNumber: trimmedString('Order number', 64).optional(),\n+  pobill: z.string().trim().max(100, { message: 'Invoice number must not exceed 100 characters.' }).optional(),\n+  pobilldate: z.union([z.string(), z.date()]).optional(),\n+  posupplier: trimmedString('Supplier name', 200),\n+  supplier: supplierReferenceSchema,\n+  organizationId: objectIdSchema.optional(),\n+  transactionType: transactionTypeEnum.optional(),\n+  selectedAccountIds: z.array(objectIdSchema).optional(),\n+  accountingEntryType: accountingEntryTypeEnum.optional(),\n+  orderDate: z.union([z.string(), z.date()]).optional(),\n+  expectedDeliveryDate: z.union([z.string(), z.date()]).optional(),\n+  actualDeliveryDate: z.union([z.string(), z.date()]).optional(),\n+  items: z.array(purchaseOrderItemSchema).min(1, { message: 'At least one purchase item is required.' }),\n+  totalAmount: coerceOptionalNumber('Total amount', { min: priceLimits.min, max: priceLimits.max }).optional(),\n+  status: purchaseOrderStatusEnum.optional(),\n+  paymentStatus: paymentStatusEnum.optional(),\n+  notes: z.string().trim().max(1000, { message: 'Notes must not exceed 1000 characters.' }).optional(),\n+});\n+\n+export const createPurchaseOrderSchema = purchaseOrderCoreSchema;\n+export const updatePurchaseOrderSchema = purchaseOrderCoreSchema.partial();\n+\n+const purchaseOrderResponseItemSchema = purchaseOrderItemSchema.extend({\n+  product: z\n+    .union([\n+      objectIdSchema,\n+      z\n+        .object({\n+          _id: objectIdSchema.optional(),\n+          name: z.string().trim().optional(),\n+          code: z.string().trim().optional(),\n+        })\n+        .passthrough(),\n+    ])\n+    .optional(),\n+});\n+\n+export const purchaseOrderSchema = z.object({\n+  _id: objectIdSchema,\n+  poid: trimmedString('Purchase order code', 64),\n+  orderNumber: trimmedString('Order number', 64),\n+  pobill: z.string().trim().max(100, { message: 'Invoice number must not exceed 100 characters.' }).optional(),\n+  pobilldate: z.union([z.string(), z.date()]).optional(),\n+  posupplier: trimmedString('Supplier name', 200),\n+  supplier: supplierReferenceSchema,\n+  organizationId: objectIdSchema.optional(),\n+  transactionType: transactionTypeEnum.optional(),\n+  selectedAccountIds: z.array(objectIdSchema).optional(),\n+  accountingEntryType: accountingEntryTypeEnum.optional(),\n+  orderDate: z.union([z.string(), z.date()]).optional(),\n+  expectedDeliveryDate: z.union([z.string(), z.date()]).optional(),\n+  actualDeliveryDate: z.union([z.string(), z.date()]).optional(),\n+  items: z.array(purchaseOrderResponseItemSchema),\n+  totalAmount: z.number().min(priceLimits.min, { message: 'Total amount must be greater than or equal to 0.' }),\n+  status: purchaseOrderStatusEnum,\n+  paymentStatus: paymentStatusEnum.optional(),\n+  notes: z.string().trim().max(1000, { message: 'Notes must not exceed 1000 characters.' }).optional(),\n+  createdBy: userReferenceSchema,\n+  relatedTransactionGroupId: objectIdSchema.optional(),\n+  createdAt: z.union([z.string(), z.date()]),\n+  updatedAt: z.union([z.string(), z.date()]),\n+});\n+\n+export const purchaseOrderSearchSchema = z.object({\n+  poid: trimmedString('Purchase order code', 64).optional(),\n+  pobill: trimmedString('Invoice number', 100).optional(),\n+  posupplier: trimmedString('Supplier name', 200).optional(),\n+  startDate: z.union([z.string(), z.date()]).optional(),\n+  endDate: z.union([z.string(), z.date()]).optional(),\n+  status: purchaseOrderStatusEnum.optional(),\n+  paymentStatus: paymentStatusEnum.optional(),\n+  page: z.coerce.number({ invalid_type_error: 'Page must be a number.' }).int().min(1).optional(),\n+  limit: z\n+    .coerce.number({ invalid_type_error: 'Limit must be a number.' })\n+    .int()\n+    .min(1)\n+    .max(API_CONSTANTS.PAGINATION?.MAX_LIMIT ?? 100)\n+    .optional(),\n+  sortBy: z.string().trim().max(50, { message: 'Sort by must not exceed 50 characters.' }).optional(),\n+  sortOrder: z.enum(['asc', 'desc']).optional(),\n+});\n+\n+export const purchaseOrderIdSchema = z.object({\n+  id: objectIdSchema,\n+});\n+\n+export const purchaseOrderStatusValues = purchaseOrderStatusEnum.options;\n+export const purchaseOrderPaymentStatusValues = paymentStatusEnum.options;\n+export const purchaseOrderTransactionTypeValues = transactionTypeEnum.options;\n+\n+export default {\n+  purchaseOrderSchema,\n+  createPurchaseOrderSchema,\n+  updatePurchaseOrderSchema,\n+  purchaseOrderItemSchema,\n+  purchaseOrderSearchSchema,\n+  purchaseOrderIdSchema,\n+  purchaseOrderStatusValues,\n+  purchaseOrderPaymentStatusValues,\n+  purchaseOrderTransactionTypeValues,\n+};\n+\n+\n"
    },
    {
      "path": "shared/scripts/generate-openapi.ts",
      "status": "M",
      "diff": "diff --git a/shared/scripts/generate-openapi.ts b/shared/scripts/generate-openapi.ts\nindex 9399f59e..3a855f89 100644\n--- a/shared/scripts/generate-openapi.ts\n+++ b/shared/scripts/generate-openapi.ts\n@@ -8,7 +8,7 @@ import path from 'path';\n import { z } from 'zod';\n import { zodToJsonSchema } from 'zod-to-json-schema';\n \n-type SupportedSchemaModule = 'sale' | 'customer' | 'supplier';\n+type SupportedSchemaModule = 'sale' | 'customer' | 'supplier' | 'purchaseOrder';\n \n function resolveZodModule(name: SupportedSchemaModule): any {\n   const fileName = `${name}.js`;\n@@ -38,6 +38,7 @@ async function main() {\n   const saleMod = resolveZodModule('sale');\n   const customerMod = resolveZodModule('customer');\n   const supplierMod = resolveZodModule('supplier');\n+  const purchaseOrderMod = resolveZodModule('purchaseOrder');\n \n   const saleItemSchema = saleMod.saleItemSchema as z.ZodTypeAny | undefined;\n   const createSaleSchema = saleMod.createSaleSchema as z.ZodTypeAny | undefined;\n@@ -55,6 +56,12 @@ async function main() {\n   const updateSupplierSchema = supplierMod.updateSupplierSchema as z.ZodTypeAny | undefined;\n   const supplierSearchSchema = supplierMod.supplierSearchSchema as z.ZodTypeAny | undefined;\n \n+  const purchaseOrderSchema = purchaseOrderMod.purchaseOrderSchema as z.ZodTypeAny | undefined;\n+  const purchaseOrderItemSchema = purchaseOrderMod.purchaseOrderItemSchema as z.ZodTypeAny | undefined;\n+  const createPurchaseOrderSchema = purchaseOrderMod.createPurchaseOrderSchema as z.ZodTypeAny | undefined;\n+  const updatePurchaseOrderSchema = purchaseOrderMod.updatePurchaseOrderSchema as z.ZodTypeAny | undefined;\n+  const purchaseOrderSearchSchema = purchaseOrderMod.purchaseOrderSearchSchema as z.ZodTypeAny | undefined;\n+\n   if (!saleItemSchema || !createSaleSchema || !updateSaleSchema || !saleSearchSchema) {\n     throw new Error('Missing sale schemas from shared module.');\n   }\n@@ -66,6 +73,10 @@ async function main() {\n     throw new Error('Missing supplier schemas from shared module.');\n   }\n \n+  if (!purchaseOrderSchema || !purchaseOrderItemSchema || !createPurchaseOrderSchema || !updatePurchaseOrderSchema || !purchaseOrderSearchSchema) {\n+    throw new Error('Missing purchase order schemas from shared module.');\n+  }\n+\n   const document = {\n     openapi: '3.0.3',\n     info: {\n@@ -77,7 +88,8 @@ async function main() {\n     tags: [\n       { name: 'Sales', description: 'Sales endpoints' },\n       { name: 'Customers', description: 'Customer management endpoints' },\n-      { name: 'Suppliers', description: 'Supplier management endpoints' }\n+      { name: 'Suppliers', description: 'Supplier management endpoints' },\n+      { name: 'Purchase Orders', description: 'Purchase order management endpoints' }\n     ],\n     paths: {},\n     components: {\n@@ -128,7 +140,12 @@ async function main() {\n         Supplier: toJsonSchema(supplierSchema!, 'Supplier'),\n         SupplierCreateRequest: toJsonSchema(createSupplierSchema!, 'SupplierCreateRequest'),\n         SupplierUpdateRequest: toJsonSchema(updateSupplierSchema!, 'SupplierUpdateRequest'),\n-        SupplierSearchQuery: toJsonSchema(supplierSearchSchema!, 'SupplierSearchQuery')\n+        SupplierSearchQuery: toJsonSchema(supplierSearchSchema!, 'SupplierSearchQuery'),\n+        PurchaseOrder: toJsonSchema(purchaseOrderSchema!, 'PurchaseOrder'),\n+        PurchaseOrderItem: toJsonSchema(purchaseOrderItemSchema!, 'PurchaseOrderItem'),\n+        PurchaseOrderCreateRequest: toJsonSchema(createPurchaseOrderSchema!, 'PurchaseOrderCreateRequest'),\n+        PurchaseOrderUpdateRequest: toJsonSchema(updatePurchaseOrderSchema!, 'PurchaseOrderUpdateRequest'),\n+        PurchaseOrderSearchQuery: toJsonSchema(purchaseOrderSearchSchema!, 'PurchaseOrderSearchQuery')\n       }\n     }\n   } as const;\n@@ -136,7 +153,7 @@ async function main() {\n   const docAny = document as any;\n \n   // Merge static path descriptors (LLM-friendly)\n-  for (const descriptor of ['sales', 'customers', 'suppliers']) {\n+  for (const descriptor of ['sales', 'customers', 'suppliers', 'purchaseOrders']) {\n     try {\n       const modPath = path.resolve(__dirname, `../api/paths/${descriptor}`);\n       // eslint-disable-next-line @typescript-eslint/no-var-requires\n"
    },
    {
      "path": "shared/types/api.ts",
      "status": "M",
      "diff": "diff --git a/shared/types/api.ts b/shared/types/api.ts\nindex c3ae0bc9..710fd2ed 100644\n--- a/shared/types/api.ts\n+++ b/shared/types/api.ts\n@@ -3,6 +3,9 @@\n  * 統一前後端的 API 介面規範\n  */\n \n+\n+import type { PurchaseOrder as SharedPurchaseOrder, PurchaseOrderRequest as SharedPurchaseOrderCreateRequest, PurchaseOrderUpdateRequest as SharedPurchaseOrderUpdateRequest } from './purchase-order';\n+\n /**\n  * 基礎 API 回應型別\n  */\n@@ -269,69 +272,10 @@ export interface SaleResponse {\n /**\n  * 採購訂單相關 API 型別\n  */\n-export interface PurchaseOrderCreateRequest {\n-  orderNumber?: string;\n-  supplier: string;\n-  organizationId?: string;\n-  transactionType?: string;\n-  selectedAccountIds?: string[];\n-  orderDate?: string;\n-  expectedDeliveryDate?: string;\n-  items: Array<{\n-    product: string;\n-    quantity: number;\n-    price?: number;\n-    unitPrice?: number;\n-    subtotal?: number;\n-    notes?: string;\n-  }>;\n-  totalAmount?: number;\n-  status?: 'pending' | 'approved' | 'received' | 'cancelled' | 'completed';\n-  paymentStatus?: '未付' | '已下收' | '已匯款';\n-  notes?: string;\n-}\n-\n-export interface PurchaseOrderResponse {\n-  _id: string;\n-  orderNumber: string;\n-  supplier: {\n-    _id: string;\n-    name: string;\n-  };\n-  organizationId?: string;\n-  items: Array<{\n-    _id?: string;\n-    product: {\n-      _id: string;\n-      name: string;\n-      code?: string;\n-    };\n-    quantity: number;\n-    price: number;\n-    unitPrice?: number;\n-    subtotal: number;\n-    receivedQuantity?: number;\n-    notes?: string;\n-  }>;\n-  totalAmount: number;\n-  status: string;\n-  orderDate: Date | string;\n-  expectedDeliveryDate?: Date | string;\n-  actualDeliveryDate?: Date | string;\n-  createdBy?: {\n-    _id: string;\n-    username: string;\n-  };\n-  notes?: string;\n-  createdAt: Date | string;\n-  updatedAt: Date | string;\n-}\n-\n-export interface PurchaseOrderUpdateRequest extends Partial<PurchaseOrderCreateRequest> {}\n+export type PurchaseOrderCreateRequest = SharedPurchaseOrderCreateRequest;\n+export type PurchaseOrderUpdateRequest = SharedPurchaseOrderUpdateRequest;\n+export type PurchaseOrderResponse = SharedPurchaseOrder;\n \n-/**\n- * 出貨訂單相關 API 型別\n- */\n export interface ShippingOrderCreateRequest {\n   soid?: string;\n   orderNumber?: string;\n"
    },
    {
      "path": "shared/types/index.ts",
      "status": "M",
      "diff": "diff --git a/shared/types/index.ts b/shared/types/index.ts\nindex 0cd45d89..01e484e6 100644\n--- a/shared/types/index.ts\n+++ b/shared/types/index.ts\n@@ -36,7 +36,11 @@ export * from './theme';\n export type {\n   PurchaseOrderStatus,\n   PaymentStatus,\n-  PurchaseOrderRequest\n+  PurchaseOrderRequest,\n+  PurchaseOrderUpdateRequest,\n+  PurchaseOrder,\n+  PurchaseOrderItem,\n+  PurchaseOrderSearchParams\n } from './purchase-order';\n \n // 業務邏輯型別 (避免與 api 衝突) - 使用重構後的版本\n"
    },
    {
      "path": "shared/types/purchase-order.ts",
      "status": "M",
      "diff": "diff --git a/shared/types/purchase-order.ts b/shared/types/purchase-order.ts\nindex 903e7bc1..d413dc2b 100644\n--- a/shared/types/purchase-order.ts\n+++ b/shared/types/purchase-order.ts\n@@ -1,147 +1,81 @@\n /**\n- * 採購訂單相關型別定義\n- * 統一前後端使用的型別，避免不一致問題\n+ * Purchase order domain types aligned with shared Zod schemas (SSOT)\n  */\n \n-// 採購訂單狀態枚舉\n-export type PurchaseOrderStatus = 'pending' | 'completed' | 'cancelled';\n-export type PaymentStatus = '未付' | '已下收' | '已匯款';\n+import type { z } from 'zod';\n+import {\n+  purchaseOrderSchema,\n+  purchaseOrderItemSchema,\n+  createPurchaseOrderSchema,\n+  updatePurchaseOrderSchema,\n+  purchaseOrderSearchSchema,\n+  purchaseOrderStatusValues,\n+  purchaseOrderPaymentStatusValues,\n+  purchaseOrderTransactionTypeValues,\n+} from '../schemas/zod/purchaseOrder';\n \n /**\n- * 採購訂單項目介面\n- * 統一使用 dquantity 和 dtotalCost 命名\n+ * Enumerations derived from Zod enums\n  */\n-export interface PurchaseOrderItem {\n-  _id?: string;\n-  product: string; // 產品ID（字符串形式，適用於前後端）\n-  did: string; // 產品代碼\n-  dname: string; // 產品名稱\n-  dquantity: number; // 數量\n-  dtotalCost: number; // 總成本\n-  unitPrice?: number; // 單價（自動計算或手動設置）\n-  receivedQuantity?: number; // 已收貨數量\n-  batchNumber?: string; // 批號（選填）\n-  packageQuantity?: number; // 大包裝數量\n-  boxQuantity?: number; // 盒裝數量\n-  notes?: string; // 備註\n-}\n+export type PurchaseOrderStatus = typeof purchaseOrderStatusValues[number];\n+export type PaymentStatus = typeof purchaseOrderPaymentStatusValues[number];\n+export type PurchaseOrderTransactionType = typeof purchaseOrderTransactionTypeValues[number];\n \n /**\n- * 採購訂單介面\n- * 統一前後端使用的完整採購訂單結構\n+ * Core entity types\n  */\n-export interface PurchaseOrder {\n-  _id: string;\n-  poid: string; // 進貨單號\n-  orderNumber: string; // 系統訂單號\n-  pobill?: string; // 發票號碼\n-  pobilldate?: string | Date; // 發票日期\n-  posupplier: string; // 供應商名稱\n-  supplier?: string; // 供應商ID\n-  organizationId?: string; // 機構ID\n-  transactionType?: string; // 交易類型\n-  selectedAccountIds?: string[]; // 選中的會計科目ID\n-  accountingEntryType?: 'expense-asset' | 'asset-liability'; // 會計分錄類型\n-  orderDate?: string | Date; // 訂單日期（向後兼容）\n-  expectedDeliveryDate?: string | Date; // 預期交貨日期\n-  actualDeliveryDate?: string | Date; // 實際交貨日期\n-  items: PurchaseOrderItem[]; // 採購項目\n-  totalAmount: number; // 總金額\n-  status: PurchaseOrderStatus; // 訂單狀態\n-  paymentStatus: PaymentStatus; // 付款狀態\n-  notes?: string; // 備註\n-  createdBy?: string; // 創建者ID\n-  createdAt: string | Date; // 創建時間\n-  updatedAt: string | Date; // 更新時間\n-}\n+export type PurchaseOrderItem = z.infer<typeof purchaseOrderItemSchema>;\n+export type PurchaseOrder = z.infer<typeof purchaseOrderSchema>;\n \n /**\n- * 前端表單使用的採購訂單資料結構\n- * 包含前端特有的欄位和格式\n+ * API request payload types\n  */\n-export interface PurchaseOrderFormData {\n-  poid: string;\n-  pobill: string;\n-  pobilldate: Date;\n-  posupplier: string; // 供應商名稱\n-  supplier: string; // 供應商ID\n-  items: PurchaseOrderItem[];\n-  notes: string;\n-  status: string;\n-  paymentStatus: string;\n-  multiplierMode: string | number; // 倍率模式\n-}\n+export type PurchaseOrderRequest = z.infer<typeof createPurchaseOrderSchema>;\n+export type PurchaseOrderUpdateRequest = z.infer<typeof updatePurchaseOrderSchema>;\n \n /**\n- * API 請求用的採購訂單資料\n- * 用於新增和更新採購訂單\n+ * Query parameters type\n  */\n-export interface PurchaseOrderRequest {\n-  poid?: string;\n+export type PurchaseOrderSearchParams = z.infer<typeof purchaseOrderSearchSchema>;\n+\n+/**\n+ * Frontend form data model\n+ */\n+export interface PurchaseOrderFormData {\n+  poid: string;\n   pobill?: string;\n   pobilldate?: Date | string;\n   posupplier: string;\n   supplier?: string;\n   organizationId?: string;\n-  transactionType?: string;\n-  selectedAccountIds?: string[]; // 選中的會計科目ID\n-  accountingEntryType?: 'expense-asset' | 'asset-liability'; // 會計分錄類型\n+  transactionType?: PurchaseOrderTransactionType;\n+  selectedAccountIds?: string[];\n+  accountingEntryType?: 'expense-asset' | 'asset-liability';\n+  orderDate?: Date | string;\n+  expectedDeliveryDate?: Date | string;\n+  actualDeliveryDate?: Date | string;\n   items: PurchaseOrderItem[];\n   notes?: string;\n   status?: PurchaseOrderStatus;\n   paymentStatus?: PaymentStatus;\n+  multiplierMode?: string | number;\n }\n \n /**\n- * 採購訂單列表項目\n- * 用於列表顯示的簡化版本\n+ * Minimal list item representation\n  */\n-export interface PurchaseOrderListItem {\n-  _id: string;\n-  poid: string;\n-  orderNumber: string;\n-  pobill?: string;\n-  pobilldate?: string | Date;\n-  posupplier: string;\n-  totalAmount: number;\n-  status: PurchaseOrderStatus;\n-  paymentStatus: PaymentStatus;\n-  createdAt: string | Date;\n-}\n+export type PurchaseOrderListItem = Pick<\n+  PurchaseOrder,\n+  '_id' | 'poid' | 'orderNumber' | 'pobill' | 'pobilldate' | 'posupplier' | 'totalAmount' | 'status' | 'paymentStatus' | 'createdAt'\n+>;\n \n /**\n- * 採購訂單搜尋參數\n+ * Type guards leveraging Zod safeParse\n  */\n-export interface PurchaseOrderSearchParams {\n-  poid?: string;\n-  pobill?: string;\n-  posupplier?: string;\n-  startDate?: string | Date;\n-  endDate?: string | Date;\n-  status?: PurchaseOrderStatus;\n-  paymentStatus?: PaymentStatus;\n-}\n-\n-/**\n- * 型別守衛函數\n- */\n-export function isPurchaseOrder(obj: any): obj is PurchaseOrder {\n-  return obj && \n-         typeof obj._id === 'string' &&\n-         typeof obj.poid === 'string' &&\n-         typeof obj.orderNumber === 'string' &&\n-         typeof obj.posupplier === 'string' &&\n-         Array.isArray(obj.items) &&\n-         typeof obj.totalAmount === 'number' &&\n-         typeof obj.status === 'string' &&\n-         typeof obj.paymentStatus === 'string';\n-}\n+export const isPurchaseOrder = (value: unknown): value is PurchaseOrder => {\n+  return purchaseOrderSchema.safeParse(value).success;\n+};\n \n-export function isPurchaseOrderItem(obj: any): obj is PurchaseOrderItem {\n-  return obj &&\n-         typeof obj.product === 'string' &&\n-         typeof obj.did === 'string' &&\n-         typeof obj.dname === 'string' &&\n-         typeof obj.dquantity === 'number' &&\n-         typeof obj.dtotalCost === 'number';\n-}\n\\ No newline at end of file\n+export const isPurchaseOrderItem = (value: unknown): value is PurchaseOrderItem => {\n+  return purchaseOrderItemSchema.safeParse(value).success;\n+};\n"
    }
  ]
}